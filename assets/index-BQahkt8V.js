(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hd={exports:{}},Fs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih;function ov(){if(ih)return Fs;ih=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(o,l,c){var m=null;if(c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),"key"in l){c={};for(var v in l)v!=="key"&&(c[v]=l[v])}else c=l;return l=c.ref,{$$typeof:i,type:o,key:m,ref:l!==void 0?l:null,props:c}}return Fs.Fragment=t,Fs.jsx=r,Fs.jsxs=r,Fs}var ah;function sv(){return ah||(ah=1,hd.exports=ov()),hd.exports}var g=sv(),gd={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function lv(){if(rh)return ut;rh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),C=Symbol.iterator;function M(B){return B===null||typeof B!="object"?null:(B=C&&B[C]||B["@@iterator"],typeof B=="function"?B:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,Y={};function G(B,ye,Ie){this.props=B,this.context=ye,this.refs=Y,this.updater=Ie||P}G.prototype.isReactComponent={},G.prototype.setState=function(B,ye){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ye,"setState")},G.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function $(){}$.prototype=G.prototype;function se(B,ye,Ie){this.props=B,this.context=ye,this.refs=Y,this.updater=Ie||P}var Ee=se.prototype=new $;Ee.constructor=se,k(Ee,G.prototype),Ee.isPureReactComponent=!0;var Ce=Array.isArray;function De(){}var J={H:null,A:null,T:null,S:null},Me=Object.prototype.hasOwnProperty;function xe(B,ye,Ie){var qe=Ie.ref;return{$$typeof:i,type:B,key:ye,ref:qe!==void 0?qe:null,props:Ie}}function me(B,ye){return xe(B.type,ye,B.props)}function ge(B){return typeof B=="object"&&B!==null&&B.$$typeof===i}function we(B){var ye={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Ie){return ye[Ie]})}var Je=/\/+/g;function dt(B,ye){return typeof B=="object"&&B!==null&&B.key!=null?we(""+B.key):ye.toString(36)}function Xe(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(De,De):(B.status="pending",B.then(function(ye){B.status==="pending"&&(B.status="fulfilled",B.value=ye)},function(ye){B.status==="pending"&&(B.status="rejected",B.reason=ye)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function ie(B,ye,Ie,qe,et){var rt=typeof B;(rt==="undefined"||rt==="boolean")&&(B=null);var gt=!1;if(B===null)gt=!0;else switch(rt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(B.$$typeof){case i:case t:gt=!0;break;case x:return gt=B._init,ie(gt(B._payload),ye,Ie,qe,et)}}if(gt)return et=et(B),gt=qe===""?"."+dt(B,0):qe,Ce(et)?(Ie="",gt!=null&&(Ie=gt.replace(Je,"$&/")+"/"),ie(et,ye,Ie,"",function(ei){return ei})):et!=null&&(ge(et)&&(et=me(et,Ie+(et.key==null||B&&B.key===et.key?"":(""+et.key).replace(Je,"$&/")+"/")+gt)),ye.push(et)),1;gt=0;var $t=qe===""?".":qe+":";if(Ce(B))for(var Pe=0;Pe<B.length;Pe++)qe=B[Pe],rt=$t+dt(qe,Pe),gt+=ie(qe,ye,Ie,rt,et);else if(Pe=M(B),typeof Pe=="function")for(B=Pe.call(B),Pe=0;!(qe=B.next()).done;)qe=qe.value,rt=$t+dt(qe,Pe++),gt+=ie(qe,ye,Ie,rt,et);else if(rt==="object"){if(typeof B.then=="function")return ie(Xe(B),ye,Ie,qe,et);throw ye=String(B),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.")}return gt}function Se(B,ye,Ie){if(B==null)return B;var qe=[],et=0;return ie(B,qe,"","",function(rt){return ye.call(Ie,rt,et++)}),qe}function Ge(B){if(B._status===-1){var ye=B._result;ye=ye(),ye.then(function(Ie){(B._status===0||B._status===-1)&&(B._status=1,B._result=Ie)},function(Ie){(B._status===0||B._status===-1)&&(B._status=2,B._result=Ie)}),B._status===-1&&(B._status=0,B._result=ye)}if(B._status===1)return B._result.default;throw B._result}var nt=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},je={map:Se,forEach:function(B,ye,Ie){Se(B,function(){ye.apply(this,arguments)},Ie)},count:function(B){var ye=0;return Se(B,function(){ye++}),ye},toArray:function(B){return Se(B,function(ye){return ye})||[]},only:function(B){if(!ge(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return ut.Activity=E,ut.Children=je,ut.Component=G,ut.Fragment=r,ut.Profiler=l,ut.PureComponent=se,ut.StrictMode=o,ut.Suspense=b,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ut.__COMPILER_RUNTIME={__proto__:null,c:function(B){return J.H.useMemoCache(B)}},ut.cache=function(B){return function(){return B.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(B,ye,Ie){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var qe=k({},B.props),et=B.key;if(ye!=null)for(rt in ye.key!==void 0&&(et=""+ye.key),ye)!Me.call(ye,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&ye.ref===void 0||(qe[rt]=ye[rt]);var rt=arguments.length-2;if(rt===1)qe.children=Ie;else if(1<rt){for(var gt=Array(rt),$t=0;$t<rt;$t++)gt[$t]=arguments[$t+2];qe.children=gt}return xe(B.type,et,qe)},ut.createContext=function(B){return B={$$typeof:m,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:c,_context:B},B},ut.createElement=function(B,ye,Ie){var qe,et={},rt=null;if(ye!=null)for(qe in ye.key!==void 0&&(rt=""+ye.key),ye)Me.call(ye,qe)&&qe!=="key"&&qe!=="__self"&&qe!=="__source"&&(et[qe]=ye[qe]);var gt=arguments.length-2;if(gt===1)et.children=Ie;else if(1<gt){for(var $t=Array(gt),Pe=0;Pe<gt;Pe++)$t[Pe]=arguments[Pe+2];et.children=$t}if(B&&B.defaultProps)for(qe in gt=B.defaultProps,gt)et[qe]===void 0&&(et[qe]=gt[qe]);return xe(B,rt,et)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(B){return{$$typeof:v,render:B}},ut.isValidElement=ge,ut.lazy=function(B){return{$$typeof:x,_payload:{_status:-1,_result:B},_init:Ge}},ut.memo=function(B,ye){return{$$typeof:T,type:B,compare:ye===void 0?null:ye}},ut.startTransition=function(B){var ye=J.T,Ie={};J.T=Ie;try{var qe=B(),et=J.S;et!==null&&et(Ie,qe),typeof qe=="object"&&qe!==null&&typeof qe.then=="function"&&qe.then(De,nt)}catch(rt){nt(rt)}finally{ye!==null&&Ie.types!==null&&(ye.types=Ie.types),J.T=ye}},ut.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ut.use=function(B){return J.H.use(B)},ut.useActionState=function(B,ye,Ie){return J.H.useActionState(B,ye,Ie)},ut.useCallback=function(B,ye){return J.H.useCallback(B,ye)},ut.useContext=function(B){return J.H.useContext(B)},ut.useDebugValue=function(){},ut.useDeferredValue=function(B,ye){return J.H.useDeferredValue(B,ye)},ut.useEffect=function(B,ye){return J.H.useEffect(B,ye)},ut.useEffectEvent=function(B){return J.H.useEffectEvent(B)},ut.useId=function(){return J.H.useId()},ut.useImperativeHandle=function(B,ye,Ie){return J.H.useImperativeHandle(B,ye,Ie)},ut.useInsertionEffect=function(B,ye){return J.H.useInsertionEffect(B,ye)},ut.useLayoutEffect=function(B,ye){return J.H.useLayoutEffect(B,ye)},ut.useMemo=function(B,ye){return J.H.useMemo(B,ye)},ut.useOptimistic=function(B,ye){return J.H.useOptimistic(B,ye)},ut.useReducer=function(B,ye,Ie){return J.H.useReducer(B,ye,Ie)},ut.useRef=function(B){return J.H.useRef(B)},ut.useState=function(B){return J.H.useState(B)},ut.useSyncExternalStore=function(B,ye,Ie){return J.H.useSyncExternalStore(B,ye,Ie)},ut.useTransition=function(){return J.H.useTransition()},ut.version="19.2.0",ut}var oh;function Jd(){return oh||(oh=1,gd.exports=lv()),gd.exports}var pe=Jd();const uv=Fd(pe);var yd={exports:{}},Js={},vd={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function cv(){return sh||(sh=1,(function(i){function t(ie,Se){var Ge=ie.length;ie.push(Se);e:for(;0<Ge;){var nt=Ge-1>>>1,je=ie[nt];if(0<l(je,Se))ie[nt]=Se,ie[Ge]=je,Ge=nt;else break e}}function r(ie){return ie.length===0?null:ie[0]}function o(ie){if(ie.length===0)return null;var Se=ie[0],Ge=ie.pop();if(Ge!==Se){ie[0]=Ge;e:for(var nt=0,je=ie.length,B=je>>>1;nt<B;){var ye=2*(nt+1)-1,Ie=ie[ye],qe=ye+1,et=ie[qe];if(0>l(Ie,Ge))qe<je&&0>l(et,Ie)?(ie[nt]=et,ie[qe]=Ge,nt=qe):(ie[nt]=Ie,ie[ye]=Ge,nt=ye);else if(qe<je&&0>l(et,Ge))ie[nt]=et,ie[qe]=Ge,nt=qe;else break e}}return Se}function l(ie,Se){var Ge=ie.sortIndex-Se.sortIndex;return Ge!==0?Ge:ie.id-Se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var m=Date,v=m.now();i.unstable_now=function(){return m.now()-v}}var b=[],T=[],x=1,E=null,C=3,M=!1,P=!1,k=!1,Y=!1,G=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Ee(ie){for(var Se=r(T);Se!==null;){if(Se.callback===null)o(T);else if(Se.startTime<=ie)o(T),Se.sortIndex=Se.expirationTime,t(b,Se);else break;Se=r(T)}}function Ce(ie){if(k=!1,Ee(ie),!P)if(r(b)!==null)P=!0,De||(De=!0,we());else{var Se=r(T);Se!==null&&Xe(Ce,Se.startTime-ie)}}var De=!1,J=-1,Me=5,xe=-1;function me(){return Y?!0:!(i.unstable_now()-xe<Me)}function ge(){if(Y=!1,De){var ie=i.unstable_now();xe=ie;var Se=!0;try{e:{P=!1,k&&(k=!1,$(J),J=-1),M=!0;var Ge=C;try{t:{for(Ee(ie),E=r(b);E!==null&&!(E.expirationTime>ie&&me());){var nt=E.callback;if(typeof nt=="function"){E.callback=null,C=E.priorityLevel;var je=nt(E.expirationTime<=ie);if(ie=i.unstable_now(),typeof je=="function"){E.callback=je,Ee(ie),Se=!0;break t}E===r(b)&&o(b),Ee(ie)}else o(b);E=r(b)}if(E!==null)Se=!0;else{var B=r(T);B!==null&&Xe(Ce,B.startTime-ie),Se=!1}}break e}finally{E=null,C=Ge,M=!1}Se=void 0}}finally{Se?we():De=!1}}}var we;if(typeof se=="function")we=function(){se(ge)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,dt=Je.port2;Je.port1.onmessage=ge,we=function(){dt.postMessage(null)}}else we=function(){G(ge,0)};function Xe(ie,Se){J=G(function(){ie(i.unstable_now())},Se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ie){ie.callback=null},i.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Me=0<ie?Math.floor(1e3/ie):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(ie){switch(C){case 1:case 2:case 3:var Se=3;break;default:Se=C}var Ge=C;C=Se;try{return ie()}finally{C=Ge}},i.unstable_requestPaint=function(){Y=!0},i.unstable_runWithPriority=function(ie,Se){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Ge=C;C=ie;try{return Se()}finally{C=Ge}},i.unstable_scheduleCallback=function(ie,Se,Ge){var nt=i.unstable_now();switch(typeof Ge=="object"&&Ge!==null?(Ge=Ge.delay,Ge=typeof Ge=="number"&&0<Ge?nt+Ge:nt):Ge=nt,ie){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=Ge+je,ie={id:x++,callback:Se,priorityLevel:ie,startTime:Ge,expirationTime:je,sortIndex:-1},Ge>nt?(ie.sortIndex=Ge,t(T,ie),r(b)===null&&ie===r(T)&&(k?($(J),J=-1):k=!0,Xe(Ce,Ge-nt))):(ie.sortIndex=je,t(b,ie),P||M||(P=!0,De||(De=!0,we()))),ie},i.unstable_shouldYield=me,i.unstable_wrapCallback=function(ie){var Se=C;return function(){var Ge=C;C=Se;try{return ie.apply(this,arguments)}finally{C=Ge}}}})(Td)),Td}var lh;function dv(){return lh||(lh=1,vd.exports=cv()),vd.exports}var bd={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function fv(){if(uh)return Bn;uh=1;var i=Jd();function t(b){var T="https://react.dev/errors/"+b;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)T+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+b+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(b,T,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:b,containerInfo:T,implementation:x}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(b,T){if(b==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Bn.createPortal=function(b,T){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return c(b,T,null,x)},Bn.flushSync=function(b){var T=m.T,x=o.p;try{if(m.T=null,o.p=2,b)return b()}finally{m.T=T,o.p=x,o.d.f()}},Bn.preconnect=function(b,T){typeof b=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,o.d.C(b,T))},Bn.prefetchDNS=function(b){typeof b=="string"&&o.d.D(b)},Bn.preinit=function(b,T){if(typeof b=="string"&&T&&typeof T.as=="string"){var x=T.as,E=v(x,T.crossOrigin),C=typeof T.integrity=="string"?T.integrity:void 0,M=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;x==="style"?o.d.S(b,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:E,integrity:C,fetchPriority:M}):x==="script"&&o.d.X(b,{crossOrigin:E,integrity:C,fetchPriority:M,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},Bn.preinitModule=function(b,T){if(typeof b=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var x=v(T.as,T.crossOrigin);o.d.M(b,{crossOrigin:x,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&o.d.M(b)},Bn.preload=function(b,T){if(typeof b=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var x=T.as,E=v(x,T.crossOrigin);o.d.L(b,x,{crossOrigin:E,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},Bn.preloadModule=function(b,T){if(typeof b=="string")if(T){var x=v(T.as,T.crossOrigin);o.d.m(b,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:x,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else o.d.m(b)},Bn.requestFormReset=function(b){o.d.r(b)},Bn.unstable_batchedUpdates=function(b,T){return b(T)},Bn.useFormState=function(b,T,x){return m.H.useFormState(b,T,x)},Bn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Bn.version="19.2.0",Bn}var ch;function pv(){if(ch)return bd.exports;ch=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),bd.exports=fv(),bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function mv(){if(dh)return Js;dh=1;var i=dv(),t=Jd(),r=pv();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function b(e){if(c(e)!==e)throw Error(o(188))}function T(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(o(188));return n!==e?null:e}for(var a=e,s=n;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(s=p.return,s!==null){a=s;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return b(p),e;if(y===s)return b(p),n;y=y.sibling}throw Error(o(188))}if(a.return!==s.return)a=p,s=y;else{for(var N=!1,R=p.child;R;){if(R===a){N=!0,a=p,s=y;break}if(R===s){N=!0,s=p,a=y;break}R=R.sibling}if(!N){for(R=y.child;R;){if(R===a){N=!0,a=y,s=p;break}if(R===s){N=!0,s=y,a=p;break}R=R.sibling}if(!N)throw Error(o(189))}}if(a.alternate!==s)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),xe=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function we(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Symbol.for("react.client.reference");function dt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case G:return"Profiler";case Y:return"StrictMode";case Ce:return"Suspense";case De:return"SuspenseList";case xe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case se:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case Ee:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:dt(e.type)||"Memo";case Me:n=e._payload,e=e._init;try{return dt(e(n))}catch{}}return null}var Xe=Array.isArray,ie=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ge={pending:!1,data:null,method:null,action:null},nt=[],je=-1;function B(e){return{current:e}}function ye(e){0>je||(e.current=nt[je],nt[je]=null,je--)}function Ie(e,n){je++,nt[je]=e.current,e.current=n}var qe=B(null),et=B(null),rt=B(null),gt=B(null);function $t(e,n){switch(Ie(rt,n),Ie(et,e),Ie(qe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Cm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Cm(n),e=_m(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ye(qe),Ie(qe,e)}function Pe(){ye(qe),ye(et),ye(rt)}function ei(e){e.memoizedState!==null&&Ie(gt,e);var n=qe.current,a=_m(n,e.type);n!==a&&(Ie(et,e),Ie(qe,a))}function ln(e){et.current===e&&(ye(qe),ye(et)),gt.current===e&&(ye(gt),Vs._currentValue=Ge)}var le,Ye;function ft(e){if(le===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);le=n&&n[1]||"",Ye=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+e+Ye}var He=!1;function Ct(e,n){if(!e||He)return"";He=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(oe){var re=oe}Reflect.construct(e,[],be)}else{try{be.call()}catch(oe){re=oe}e.call(be.prototype)}}else{try{throw Error()}catch(oe){re=oe}(be=e())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=s.DetermineComponentFrameRoot(),N=y[0],R=y[1];if(N&&R){var U=N.split(`
`),ne=R.split(`
`);for(p=s=0;s<U.length&&!U[s].includes("DetermineComponentFrameRoot");)s++;for(;p<ne.length&&!ne[p].includes("DetermineComponentFrameRoot");)p++;if(s===U.length||p===ne.length)for(s=U.length-1,p=ne.length-1;1<=s&&0<=p&&U[s]!==ne[p];)p--;for(;1<=s&&0<=p;s--,p--)if(U[s]!==ne[p]){if(s!==1||p!==1)do if(s--,p--,0>p||U[s]!==ne[p]){var he=`
`+U[s].replace(" at new "," at ");return e.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",e.displayName)),he}while(1<=s&&0<=p);break}}}finally{He=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ft(a):""}function it(e,n){switch(e.tag){case 26:case 27:case 5:return ft(e.type);case 16:return ft("Lazy");case 13:return e.child!==n&&n!==null?ft("Suspense Fallback"):ft("Suspense");case 19:return ft("SuspenseList");case 0:case 15:return Ct(e.type,!1);case 11:return Ct(e.type.render,!1);case 1:return Ct(e.type,!0);case 31:return ft("Activity");default:return""}}function Ht(e){try{var n="",a=null;do n+=it(e,a),a=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var st=Object.prototype.hasOwnProperty,un=i.unstable_scheduleCallback,yt=i.unstable_cancelCallback,en=i.unstable_shouldYield,wn=i.unstable_requestPaint,Ft=i.unstable_now,Mi=i.unstable_getCurrentPriorityLevel,Tn=i.unstable_ImmediatePriority,pi=i.unstable_UserBlockingPriority,ti=i.unstable_NormalPriority,na=i.unstable_LowPriority,Di=i.unstable_IdlePriority,Ua=i.log,ni=i.unstable_setDisableYieldValue,mi=null,rn=null;function bn(e){if(typeof Ua=="function"&&ni(e),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(mi,e)}catch{}}var Be=Math.clz32?Math.clz32:La,ia=Math.log,Lt=Math.LN2;function La(e){return e>>>=0,e===0?32:31-(ia(e)/Lt|0)|0}var Oe=256,Vn=262144,Hi=4194304;function ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function aa(e,n,a){var s=e.pendingLanes;if(s===0)return 0;var p=0,y=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var R=s&134217727;return R!==0?(s=R&~y,s!==0?p=ii(s):(N&=R,N!==0?p=ii(N):a||(a=R&~e,a!==0&&(p=ii(a))))):(R=s&~y,R!==0?p=ii(R):N!==0?p=ii(N):a||(a=s&~e,a!==0&&(p=ii(a)))),p===0?0:n!==0&&n!==p&&(n&y)===0&&(y=p&-p,a=n&-n,y>=a||y===32&&(a&4194048)!==0)?n:p}function ki(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function jo(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jr(){var e=Hi;return Hi<<=1,(Hi&62914560)===0&&(Hi=4194304),e}function hi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function jn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yr(e,n,a,s,p,y){var N=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var R=e.entanglements,U=e.expirationTimes,ne=e.hiddenUpdates;for(a=N&~a;0<a;){var he=31-Be(a),be=1<<he;R[he]=0,U[he]=-1;var re=ne[he];if(re!==null)for(ne[he]=null,he=0;he<re.length;he++){var oe=re[he];oe!==null&&(oe.lane&=-536870913)}a&=~be}s!==0&&ra(e,s,0),y!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=y&~(N&~n))}function ra(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Be(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Pt(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var s=31-Be(a),p=1<<s;p&n|e[s]&n&&(e[s]|=n),a&=~p}}function tn(e,n){var a=n&-n;return a=(a&42)!==0?1:vr(a),(a&(e.suspendedLanes|n))!==0?0:a}function vr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function oa(){var e=Se.p;return e!==0?e:(e=window.event,e===void 0?32:Qm(e.type))}function sa(e,n){var a=Se.p;try{return Se.p=e,n()}finally{Se.p=a}}var gi=Math.random().toString(36).slice(2),Bt="__reactFiber$"+gi,nn="__reactProps$"+gi,Rn="__reactContainer$"+gi,Ji="__reactEvents$"+gi,Yo="__reactListeners$"+gi,yi="__reactHandles$"+gi,Tr="__reactResources$"+gi,zn="__reactMarker$"+gi;function Ba(e){delete e[Bt],delete e[nn],delete e[Ji],delete e[Yo],delete e[yi]}function vi(e){var n=e[Bt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Rn]||a[Bt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Pm(e);e!==null;){if(a=e[Bt])return a;e=Pm(e)}return n}e=a,a=e.parentNode}return null}function kt(e){if(e=e[Bt]||e[Rn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Sn(e){var n=e[Tr];return n||(n=e[Tr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function an(e){e[zn]=!0}var Pi=new Set,la={};function ai(e,n){Ti(e,n),Ti(e+"Capture",n)}function Ti(e,n){for(la[e]=n,e=0;e<n.length;e++)Pi.add(n[e])}var Oi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),K={},Le={};function ct(e){return st.call(Le,e)?!0:st.call(K,e)?!1:Oi.test(e)?Le[e]=!0:(K[e]=!0,!1)}function Ke(e,n,a){if(ct(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function En(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function lt(e,n,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+s)}}function vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Mn(e,n,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,y=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(N){a=""+N,y.call(this,N)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(N){a=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ji(e){if(!e._valueTracker){var n=Rt(e)?"checked":"value";e._valueTracker=Mn(e,n,""+e[n])}}function br(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),s="";return e&&(s=Rt(e)?e.checked?"true":"false":e.value),e=s,e!==a?(n.setValue(e),!0):!1}function Mt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xr=/[\n"\\]/g;function An(e){return e.replace(xr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yi(e,n,a,s,p,y,N,R){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+vt(n)):e.value!==""+vt(n)&&(e.value=""+vt(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?Sr(e,N,vt(n)):a!=null?Sr(e,N,vt(a)):s!=null&&e.removeAttribute("value"),p==null&&y!=null&&(e.defaultChecked=!!y),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+vt(R):e.removeAttribute("name")}function Yr(e,n,a,s,p,y,N,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||n!=null)){ji(e);return}a=a!=null?""+vt(a):"",n=n!=null?""+vt(n):a,R||n===e.value||(e.value=n),e.defaultValue=n}s=s??p,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=R?e.checked:!!s,e.defaultChecked=!!s,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),ji(e)}function Sr(e,n,a){n==="number"&&Mt(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ui(e,n,a,s){if(e=e.options,n){n={};for(var p=0;p<a.length;p++)n["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=n.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&s&&(e[a].defaultSelected=!0)}else{for(a=""+vt(a),n=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,s&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Ko(e,n,a){if(n!=null&&(n=""+vt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+vt(a):""}function Er(e,n,a,s){if(n==null){if(s!=null){if(a!=null)throw Error(o(92));if(Xe(s)){if(1<s.length)throw Error(o(93));s=s[0]}a=s}a==null&&(a=""),n=a}a=vt(n),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),ji(e)}function ua(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function At(e,n,a){var s=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,a):typeof a!="number"||a===0||Au.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Zo(e,n,a){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var p in n)s=n[p],n.hasOwnProperty(p)&&a[p]!==s&&At(e,p,s)}else for(var y in n)n.hasOwnProperty(y)&&At(e,y,n[y])}function Qo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Li(e){return Hn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var bi=null;function Kr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ca=null,Jt=null;function ri(e){var n=kt(e);if(n&&(e=n.stateNode)){var a=e[nn]||null;e:switch(e=n.stateNode,n.type){case"input":if(Yi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var s=a[n];if(s!==e&&s.form===e.form){var p=s[nn]||null;if(!p)throw Error(o(90));Yi(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<a.length;n++)s=a[n],s.form===e.form&&br(s)}break e;case"textarea":Ko(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ui(e,!!a.multiple,n,!1)}}}var da=!1;function qa(e,n,a){if(da)return e(n,a);da=!0;try{var s=e(n);return s}finally{if(da=!1,(ca!==null||Jt!==null)&&(ql(),ca&&(n=ca,e=Jt,Jt=ca=null,ri(n),e)))for(n=0;n<e.length;n++)ri(e[n])}}function fa(e,n){var a=e.stateNode;if(a===null)return null;var s=a[nn]||null;if(s===null)return null;a=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xo=!1;if(Nn)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Xo=!1}var xi=null,Zr=null,Va=null;function za(){if(Va)return Va;var e,n=Zr,a=n.length,s,p="value"in xi?xi.value:xi.textContent,y=p.length;for(e=0;e<a&&n[e]===p[e];e++);var N=a-e;for(s=1;s<=N&&n[a-s]===p[y-s];s++);return Va=p.slice(e,1<s?1-s:void 0)}function Ga(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ar(){return!0}function Xs(){return!1}function fn(e){function n(a,s,p,y,N){this._reactName=a,this._targetInst=p,this.type=s,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(a=e[R],this[R]=a?a(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ar:Xs,this.isPropagationStopped=Xs,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),n}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qr=fn(pa),Ki=E({},pa,{view:0,detail:0}),Xr=fn(Ki),Nr,Wo,Cr,Wr=E({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(Nr=e.screenX-Cr.screenX,Wo=e.screenY-Cr.screenY):Wo=Nr=0,Cr=e),Nr)},movementY:function(e){return"movementY"in e?e.movementY:Wo}}),$r=fn(Wr),$o=E({},Wr,{dataTransfer:0}),Ws=fn($o),eo=E({},Ki,{relatedTarget:0}),Ha=fn(eo),to=E({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),$s=fn(to),Cu=E({},pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fa=fn(Cu),es=E({},pa,{data:0}),no=fn(es),ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ns={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _r(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Cn[e])?!!n[e]:!1}function ma(){return _r}var el=E({},Ki,{key:function(e){if(e.key){var n=ts[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ns[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(e){return e.type==="keypress"?Ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),io=fn(el),tl=E({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=fn(tl),ao=E({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),as=fn(ao),ha=E({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),rs=fn(ha),os=E({},Wr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ro=fn(os),ss=E({},pa,{newState:0,oldState:0}),nl=fn(ss),_u=[9,13,27,32],Ir=Nn&&"CompositionEvent"in window,Zi=null;Nn&&"documentMode"in document&&(Zi=document.documentMode);var Iu=Nn&&"TextEvent"in window&&!Zi,oo=Nn&&(!Ir||Zi&&8<Zi&&11>=Zi),so=" ",il=!1;function ls(e,n){switch(e){case"keyup":return _u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function al(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function rl(e,n){switch(e){case"compositionend":return al(n);case"keypress":return n.which!==32?null:(il=!0,so);case"textInput":return e=n.data,e===so&&il?null:e;default:return null}}function wu(e,n){if(ga)return e==="compositionend"||!Ir&&ls(e,n)?(e=za(),Va=Zr=xi=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oo&&n.locale!=="ko"?null:n.data;default:return null}}var ol={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ol[e.type]:n==="textarea"}function us(e,n,a,s){ca?Jt?Jt.push(s):Jt=[s]:ca=s,n=jl(n,"onChange"),0<n.length&&(a=new Qr("onChange","change",null,a,s),e.push({event:a,listeners:n}))}var Ja=null,wr=null;function Ru(e){bm(e,0)}function uo(e){var n=Gn(e);if(br(n))return e}function Rr(e,n){if(e==="change")return n}var Si=!1;if(Nn){var jt;if(Nn){var ja="oninput"in document;if(!ja){var Fn=document.createElement("div");Fn.setAttribute("oninput","return;"),ja=typeof Fn.oninput=="function"}jt=ja}else jt=!1;Si=jt&&(!document.documentMode||9<document.documentMode)}function sl(){Ja&&(Ja.detachEvent("onpropertychange",co),wr=Ja=null)}function co(e){if(e.propertyName==="value"&&uo(wr)){var n=[];us(n,wr,e,Kr(e)),qa(Ru,n)}}function ll(e,n,a){e==="focusin"?(sl(),Ja=n,wr=a,Ja.attachEvent("onpropertychange",co)):e==="focusout"&&sl()}function ya(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uo(wr)}function cs(e,n){if(e==="click")return uo(n)}function Ya(e,n){if(e==="input"||e==="change")return uo(n)}function Qi(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ln=typeof Object.is=="function"?Object.is:Qi;function f(e,n){if(Ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var p=a[s];if(!st.call(n,p)||!Ln(e[p],n[p]))return!1}return!0}function h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function S(e,n){var a=h(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=n&&s>=n)return{node:a,offset:n-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=h(a)}}function A(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?A(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function _(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Mt(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Mt(e.document)}return n}function I(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var D=Nn&&"documentMode"in document&&11>=document.documentMode,O=null,q=null,V=null,Z=!1;function L(e,n,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Z||O==null||O!==Mt(s)||(s=O,"selectionStart"in s&&I(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),V&&f(V,s)||(V=s,s=jl(q,"onSelect"),0<s.length&&(n=new Qr("onSelect","select",null,n,a),e.push({event:n,listeners:s}),n.target=O)))}function X(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var z={animationend:X("Animation","AnimationEnd"),animationiteration:X("Animation","AnimationIteration"),animationstart:X("Animation","AnimationStart"),transitionrun:X("Transition","TransitionRun"),transitionstart:X("Transition","TransitionStart"),transitioncancel:X("Transition","TransitionCancel"),transitionend:X("Transition","TransitionEnd")},F={},j={};Nn&&(j=document.createElement("div").style,"AnimationEvent"in window||(delete z.animationend.animation,delete z.animationiteration.animation,delete z.animationstart.animation),"TransitionEvent"in window||delete z.transitionend.transition);function Q(e){if(F[e])return F[e];if(!z[e])return e;var n=z[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in j)return F[e]=n[a];return e}var ee=Q("animationend"),ae=Q("animationiteration"),ue=Q("animationstart"),Te=Q("transitionrun"),_e=Q("transitionstart"),Ue=Q("transitioncancel"),Ae=Q("transitionend"),Re=new Map,ke="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ke.push("scrollEnd");function Ne(e,n){Re.set(e,n),ai(n,[e])}var ze=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},We=[],ot=0,pt=0;function _n(){for(var e=ot,n=pt=ot=0;n<e;){var a=We[n];We[n++]=null;var s=We[n];We[n++]=null;var p=We[n];We[n++]=null;var y=We[n];if(We[n++]=null,s!==null&&p!==null){var N=s.pending;N===null?p.next=p:(p.next=N.next,N.next=p),s.pending=p}y!==0&&Mr(a,p,y)}}function at(e,n,a,s){We[ot++]=e,We[ot++]=n,We[ot++]=a,We[ot++]=s,pt|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function pn(e,n,a,s){return at(e,n,a,s),mn(e)}function Qt(e,n){return at(e,null,null,n),mn(e)}function Mr(e,n,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var p=!1,y=e.return;y!==null;)y.childLanes|=a,s=y.alternate,s!==null&&(s.childLanes|=a),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(p=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,p&&n!==null&&(p=31-Be(a),e=y.hiddenUpdates,s=e[p],s===null?e[p]=[n]:s.push(n),n.lane=a|536870912),y):null}function mn(e){if(50<ks)throw ks=0,qc=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Kn={};function ds(e,n,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(e,n,a,s){return new ds(e,n,a,s)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function va(e,n){var a=e.alternate;return a===null?(a=oi(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function tf(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ul(e,n,a,s,p,y){var N=0;if(s=e,typeof e=="function")Mu(e)&&(N=1);else if(typeof e=="string")N=Y0(e,a,qe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case xe:return e=oi(31,a,n,p),e.elementType=xe,e.lanes=y,e;case k:return Dr(a.children,p,y,n);case Y:N=8,p|=24;break;case G:return e=oi(12,a,n,p|2),e.elementType=G,e.lanes=y,e;case Ce:return e=oi(13,a,n,p),e.elementType=Ce,e.lanes=y,e;case De:return e=oi(19,a,n,p),e.elementType=De,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:N=10;break e;case $:N=9;break e;case Ee:N=11;break e;case J:N=14;break e;case Me:N=16,s=null;break e}N=29,a=Error(o(130,e===null?"null":typeof e,"")),s=null}return n=oi(N,a,n,p),n.elementType=e,n.type=s,n.lanes=y,n}function Dr(e,n,a,s){return e=oi(7,e,s,n),e.lanes=a,e}function Du(e,n,a){return e=oi(6,e,null,n),e.lanes=a,e}function nf(e){var n=oi(18,null,null,0);return n.stateNode=e,n}function ku(e,n,a){return n=oi(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var af=new WeakMap;function Ei(e,n){if(typeof e=="object"&&e!==null){var a=af.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ht(n)},af.set(e,n),n)}return{value:e,source:n,stack:Ht(n)}}var fo=[],po=0,cl=null,fs=0,Ai=[],Ni=0,Ka=null,Xi=1,Wi="";function Ta(e,n){fo[po++]=fs,fo[po++]=cl,cl=e,fs=n}function rf(e,n,a){Ai[Ni++]=Xi,Ai[Ni++]=Wi,Ai[Ni++]=Ka,Ka=e;var s=Xi;e=Wi;var p=32-Be(s)-1;s&=~(1<<p),a+=1;var y=32-Be(n)+p;if(30<y){var N=p-p%5;y=(s&(1<<N)-1).toString(32),s>>=N,p-=N,Xi=1<<32-Be(n)+p|a<<p|s,Wi=y+e}else Xi=1<<y|a<<p|s,Wi=e}function Pu(e){e.return!==null&&(Ta(e,1),rf(e,1,0))}function Ou(e){for(;e===cl;)cl=fo[--po],fo[po]=null,fs=fo[--po],fo[po]=null;for(;e===Ka;)Ka=Ai[--Ni],Ai[Ni]=null,Wi=Ai[--Ni],Ai[Ni]=null,Xi=Ai[--Ni],Ai[Ni]=null}function of(e,n){Ai[Ni++]=Xi,Ai[Ni++]=Wi,Ai[Ni++]=Ka,Xi=n.id,Wi=n.overflow,Ka=e}var Dn=null,Yt=null,Nt=!1,Za=null,Ci=!1,Uu=Error(o(519));function Qa(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ps(Ei(n,e)),Uu}function sf(e){var n=e.stateNode,a=e.type,s=e.memoizedProps;switch(n[Bt]=e,n[nn]=s,a){case"dialog":bt("cancel",n),bt("close",n);break;case"iframe":case"object":case"embed":bt("load",n);break;case"video":case"audio":for(a=0;a<Os.length;a++)bt(Os[a],n);break;case"source":bt("error",n);break;case"img":case"image":case"link":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"input":bt("invalid",n),Yr(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":bt("invalid",n);break;case"textarea":bt("invalid",n),Er(n,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||s.suppressHydrationWarning===!0||Am(n.textContent,a)?(s.popover!=null&&(bt("beforetoggle",n),bt("toggle",n)),s.onScroll!=null&&bt("scroll",n),s.onScrollEnd!=null&&bt("scrollend",n),s.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||Qa(e,!0)}function lf(e){for(Dn=e.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:Dn=Dn.return}}function mo(e){if(e!==Dn)return!1;if(!Nt)return lf(e),Nt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ed(e.type,e.memoizedProps)),a=!a),a&&Yt&&Qa(e),lf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Yt=km(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Yt=km(e)}else n===27?(n=Yt,cr(e.type)?(e=rd,rd=null,Yt=e):Yt=n):Yt=Dn?Ii(e.stateNode.nextSibling):null;return!0}function kr(){Yt=Dn=null,Nt=!1}function Lu(){var e=Za;return e!==null&&(Wn===null?Wn=e:Wn.push.apply(Wn,e),Za=null),e}function ps(e){Za===null?Za=[e]:Za.push(e)}var Bu=B(null),Pr=null,ba=null;function Xa(e,n,a){Ie(Bu,n._currentValue),n._currentValue=a}function xa(e){e._currentValue=Bu.current,ye(Bu)}function qu(e,n,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===a)break;e=e.return}}function Vu(e,n,a,s){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var y=p.dependencies;if(y!==null){var N=p.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=p;for(var U=0;U<n.length;U++)if(R.context===n[U]){y.lanes|=a,R=y.alternate,R!==null&&(R.lanes|=a),qu(y.return,a,e),s||(N=null);break e}y=R.next}}else if(p.tag===18){if(N=p.return,N===null)throw Error(o(341));N.lanes|=a,y=N.alternate,y!==null&&(y.lanes|=a),qu(N,a,e),N=null}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===e){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}}function ho(e,n,a,s){e=null;for(var p=n,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var N=p.alternate;if(N===null)throw Error(o(387));if(N=N.memoizedProps,N!==null){var R=p.type;Ln(p.pendingProps.value,N.value)||(e!==null?e.push(R):e=[R])}}else if(p===gt.current){if(N=p.alternate,N===null)throw Error(o(387));N.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Vs):e=[Vs])}p=p.return}e!==null&&Vu(n,e,a,s),n.flags|=262144}function dl(e){for(e=e.firstContext;e!==null;){if(!Ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Or(e){Pr=e,ba=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kn(e){return uf(Pr,e)}function fl(e,n){return Pr===null&&Or(e),uf(e,n)}function uf(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ba===null){if(e===null)throw Error(o(308));ba=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ba=ba.next=n;return a}var Hy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Fy=i.unstable_scheduleCallback,Jy=i.unstable_NormalPriority,hn={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new Hy,data:new Map,refCount:0}}function ms(e){e.refCount--,e.refCount===0&&Fy(Jy,function(){e.controller.abort()})}var hs=null,Gu=0,go=0,yo=null;function jy(e,n){if(hs===null){var a=hs=[];Gu=0,go=Jc(),yo={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Gu++,n.then(cf,cf),n}function cf(){if(--Gu===0&&hs!==null){yo!==null&&(yo.status="fulfilled");var e=hs;hs=null,go=0,yo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Yy(e,n){var a=[],s={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var p=0;p<a.length;p++)(0,a[p])(n)},function(p){for(s.status="rejected",s.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),s}var df=ie.S;ie.S=function(e,n){Kp=Ft(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&jy(e,n),df!==null&&df(e,n)};var Ur=B(null);function Hu(){var e=Ur.current;return e!==null?e:Gt.pooledCache}function pl(e,n){n===null?Ie(Ur,Ur.current):Ie(Ur,n.pool)}function ff(){var e=Hu();return e===null?null:{parent:hn._currentValue,pool:e}}var vo=Error(o(460)),Fu=Error(o(474)),ml=Error(o(542)),hl={then:function(){}};function pf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mf(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Yn,Yn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gf(e),e;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(e=Gt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=s}},function(s){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gf(e),e}throw Br=n,vo}}function Lr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Br=a,vo):a}}var Br=null;function hf(){if(Br===null)throw Error(o(459));var e=Br;return Br=null,e}function gf(e){if(e===vo||e===ml)throw Error(o(483))}var To=null,gs=0;function gl(e){var n=gs;return gs+=1,To===null&&(To=[]),mf(To,e,n)}function ys(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function yl(e,n){throw n.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function yf(e){function n(W,H){if(e){var te=W.deletions;te===null?(W.deletions=[H],W.flags|=16):te.push(H)}}function a(W,H){if(!e)return null;for(;H!==null;)n(W,H),H=H.sibling;return null}function s(W){for(var H=new Map;W!==null;)W.key!==null?H.set(W.key,W):H.set(W.index,W),W=W.sibling;return H}function p(W,H){return W=va(W,H),W.index=0,W.sibling=null,W}function y(W,H,te){return W.index=te,e?(te=W.alternate,te!==null?(te=te.index,te<H?(W.flags|=67108866,H):te):(W.flags|=67108866,H)):(W.flags|=1048576,H)}function N(W){return e&&W.alternate===null&&(W.flags|=67108866),W}function R(W,H,te,ve){return H===null||H.tag!==6?(H=Du(te,W.mode,ve),H.return=W,H):(H=p(H,te),H.return=W,H)}function U(W,H,te,ve){var $e=te.type;return $e===k?he(W,H,te.props.children,ve,te.key):H!==null&&(H.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===Me&&Lr($e)===H.type)?(H=p(H,te.props),ys(H,te),H.return=W,H):(H=ul(te.type,te.key,te.props,null,W.mode,ve),ys(H,te),H.return=W,H)}function ne(W,H,te,ve){return H===null||H.tag!==4||H.stateNode.containerInfo!==te.containerInfo||H.stateNode.implementation!==te.implementation?(H=ku(te,W.mode,ve),H.return=W,H):(H=p(H,te.children||[]),H.return=W,H)}function he(W,H,te,ve,$e){return H===null||H.tag!==7?(H=Dr(te,W.mode,ve,$e),H.return=W,H):(H=p(H,te),H.return=W,H)}function be(W,H,te){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Du(""+H,W.mode,te),H.return=W,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return te=ul(H.type,H.key,H.props,null,W.mode,te),ys(te,H),te.return=W,te;case P:return H=ku(H,W.mode,te),H.return=W,H;case Me:return H=Lr(H),be(W,H,te)}if(Xe(H)||we(H))return H=Dr(H,W.mode,te,null),H.return=W,H;if(typeof H.then=="function")return be(W,gl(H),te);if(H.$$typeof===se)return be(W,fl(W,H),te);yl(W,H)}return null}function re(W,H,te,ve){var $e=H!==null?H.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return $e!==null?null:R(W,H,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case M:return te.key===$e?U(W,H,te,ve):null;case P:return te.key===$e?ne(W,H,te,ve):null;case Me:return te=Lr(te),re(W,H,te,ve)}if(Xe(te)||we(te))return $e!==null?null:he(W,H,te,ve,null);if(typeof te.then=="function")return re(W,H,gl(te),ve);if(te.$$typeof===se)return re(W,H,fl(W,te),ve);yl(W,te)}return null}function oe(W,H,te,ve,$e){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return W=W.get(te)||null,R(H,W,""+ve,$e);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case M:return W=W.get(ve.key===null?te:ve.key)||null,U(H,W,ve,$e);case P:return W=W.get(ve.key===null?te:ve.key)||null,ne(H,W,ve,$e);case Me:return ve=Lr(ve),oe(W,H,te,ve,$e)}if(Xe(ve)||we(ve))return W=W.get(te)||null,he(H,W,ve,$e,null);if(typeof ve.then=="function")return oe(W,H,te,gl(ve),$e);if(ve.$$typeof===se)return oe(W,H,te,fl(H,ve),$e);yl(H,ve)}return null}function Fe(W,H,te,ve){for(var $e=null,_t=null,Ze=H,ht=H=0,Et=null;Ze!==null&&ht<te.length;ht++){Ze.index>ht?(Et=Ze,Ze=null):Et=Ze.sibling;var It=re(W,Ze,te[ht],ve);if(It===null){Ze===null&&(Ze=Et);break}e&&Ze&&It.alternate===null&&n(W,Ze),H=y(It,H,ht),_t===null?$e=It:_t.sibling=It,_t=It,Ze=Et}if(ht===te.length)return a(W,Ze),Nt&&Ta(W,ht),$e;if(Ze===null){for(;ht<te.length;ht++)Ze=be(W,te[ht],ve),Ze!==null&&(H=y(Ze,H,ht),_t===null?$e=Ze:_t.sibling=Ze,_t=Ze);return Nt&&Ta(W,ht),$e}for(Ze=s(Ze);ht<te.length;ht++)Et=oe(Ze,W,ht,te[ht],ve),Et!==null&&(e&&Et.alternate!==null&&Ze.delete(Et.key===null?ht:Et.key),H=y(Et,H,ht),_t===null?$e=Et:_t.sibling=Et,_t=Et);return e&&Ze.forEach(function(hr){return n(W,hr)}),Nt&&Ta(W,ht),$e}function tt(W,H,te,ve){if(te==null)throw Error(o(151));for(var $e=null,_t=null,Ze=H,ht=H=0,Et=null,It=te.next();Ze!==null&&!It.done;ht++,It=te.next()){Ze.index>ht?(Et=Ze,Ze=null):Et=Ze.sibling;var hr=re(W,Ze,It.value,ve);if(hr===null){Ze===null&&(Ze=Et);break}e&&Ze&&hr.alternate===null&&n(W,Ze),H=y(hr,H,ht),_t===null?$e=hr:_t.sibling=hr,_t=hr,Ze=Et}if(It.done)return a(W,Ze),Nt&&Ta(W,ht),$e;if(Ze===null){for(;!It.done;ht++,It=te.next())It=be(W,It.value,ve),It!==null&&(H=y(It,H,ht),_t===null?$e=It:_t.sibling=It,_t=It);return Nt&&Ta(W,ht),$e}for(Ze=s(Ze);!It.done;ht++,It=te.next())It=oe(Ze,W,ht,It.value,ve),It!==null&&(e&&It.alternate!==null&&Ze.delete(It.key===null?ht:It.key),H=y(It,H,ht),_t===null?$e=It:_t.sibling=It,_t=It);return e&&Ze.forEach(function(av){return n(W,av)}),Nt&&Ta(W,ht),$e}function zt(W,H,te,ve){if(typeof te=="object"&&te!==null&&te.type===k&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case M:e:{for(var $e=te.key;H!==null;){if(H.key===$e){if($e=te.type,$e===k){if(H.tag===7){a(W,H.sibling),ve=p(H,te.props.children),ve.return=W,W=ve;break e}}else if(H.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===Me&&Lr($e)===H.type){a(W,H.sibling),ve=p(H,te.props),ys(ve,te),ve.return=W,W=ve;break e}a(W,H);break}else n(W,H);H=H.sibling}te.type===k?(ve=Dr(te.props.children,W.mode,ve,te.key),ve.return=W,W=ve):(ve=ul(te.type,te.key,te.props,null,W.mode,ve),ys(ve,te),ve.return=W,W=ve)}return N(W);case P:e:{for($e=te.key;H!==null;){if(H.key===$e)if(H.tag===4&&H.stateNode.containerInfo===te.containerInfo&&H.stateNode.implementation===te.implementation){a(W,H.sibling),ve=p(H,te.children||[]),ve.return=W,W=ve;break e}else{a(W,H);break}else n(W,H);H=H.sibling}ve=ku(te,W.mode,ve),ve.return=W,W=ve}return N(W);case Me:return te=Lr(te),zt(W,H,te,ve)}if(Xe(te))return Fe(W,H,te,ve);if(we(te)){if($e=we(te),typeof $e!="function")throw Error(o(150));return te=$e.call(te),tt(W,H,te,ve)}if(typeof te.then=="function")return zt(W,H,gl(te),ve);if(te.$$typeof===se)return zt(W,H,fl(W,te),ve);yl(W,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,H!==null&&H.tag===6?(a(W,H.sibling),ve=p(H,te),ve.return=W,W=ve):(a(W,H),ve=Du(te,W.mode,ve),ve.return=W,W=ve),N(W)):a(W,H)}return function(W,H,te,ve){try{gs=0;var $e=zt(W,H,te,ve);return To=null,$e}catch(Ze){if(Ze===vo||Ze===ml)throw Ze;var _t=oi(29,Ze,null,W.mode);return _t.lanes=ve,_t.return=W,_t}finally{}}}var qr=yf(!0),vf=yf(!1),Wa=!1;function Ju(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ju(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function er(e,n,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Dt&2)!==0){var p=s.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),s.pending=n,n=mn(e),Mr(e,null,a),n}return at(e,s,n,a),mn(e)}function vs(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,a|=s,n.lanes=a,Pt(e,a)}}function Yu(e,n){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?p=y=N:y=y.next=N,a=a.next}while(a!==null);y===null?p=y=n:y=y.next=n}else p=y=n;a={baseState:s.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Ku=!1;function Ts(){if(Ku){var e=yo;if(e!==null)throw e}}function bs(e,n,a,s){Ku=!1;var p=e.updateQueue;Wa=!1;var y=p.firstBaseUpdate,N=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var U=R,ne=U.next;U.next=null,N===null?y=ne:N.next=ne,N=U;var he=e.alternate;he!==null&&(he=he.updateQueue,R=he.lastBaseUpdate,R!==N&&(R===null?he.firstBaseUpdate=ne:R.next=ne,he.lastBaseUpdate=U))}if(y!==null){var be=p.baseState;N=0,he=ne=U=null,R=y;do{var re=R.lane&-536870913,oe=re!==R.lane;if(oe?(St&re)===re:(s&re)===re){re!==0&&re===go&&(Ku=!0),he!==null&&(he=he.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Fe=e,tt=R;re=n;var zt=a;switch(tt.tag){case 1:if(Fe=tt.payload,typeof Fe=="function"){be=Fe.call(zt,be,re);break e}be=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=tt.payload,re=typeof Fe=="function"?Fe.call(zt,be,re):Fe,re==null)break e;be=E({},be,re);break e;case 2:Wa=!0}}re=R.callback,re!==null&&(e.flags|=64,oe&&(e.flags|=8192),oe=p.callbacks,oe===null?p.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:R.tag,payload:R.payload,callback:R.callback,next:null},he===null?(ne=he=oe,U=be):he=he.next=oe,N|=re;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;oe=R,R=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);he===null&&(U=be),p.baseState=U,p.firstBaseUpdate=ne,p.lastBaseUpdate=he,y===null&&(p.shared.lanes=0),rr|=N,e.lanes=N,e.memoizedState=be}}function Tf(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function bf(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Tf(a[e],n)}var bo=B(null),vl=B(0);function xf(e,n){e=Ra,Ie(vl,e),Ie(bo,n),Ra=e|n.baseLanes}function Zu(){Ie(vl,Ra),Ie(bo,bo.current)}function Qu(){Ra=vl.current,ye(bo),ye(vl)}var si=B(null),_i=null;function tr(e){var n=e.alternate;Ie(cn,cn.current&1),Ie(si,e),_i===null&&(n===null||bo.current!==null||n.memoizedState!==null)&&(_i=e)}function Xu(e){Ie(cn,cn.current),Ie(si,e),_i===null&&(_i=e)}function Sf(e){e.tag===22?(Ie(cn,cn.current),Ie(si,e),_i===null&&(_i=e)):nr()}function nr(){Ie(cn,cn.current),Ie(si,si.current)}function li(e){ye(si),_i===e&&(_i=null),ye(cn)}var cn=B(0);function Tl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||id(a)||ad(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Sa=0,mt=null,qt=null,gn=null,bl=!1,xo=!1,Vr=!1,xl=0,xs=0,So=null,Ky=0;function on(){throw Error(o(321))}function Wu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Ln(e[a],n[a]))return!1;return!0}function $u(e,n,a,s,p,y){return Sa=y,mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ie.H=e===null||e.memoizedState===null?rp:mc,Vr=!1,y=a(s,p),Vr=!1,xo&&(y=Af(n,a,s,p)),Ef(e),y}function Ef(e){ie.H=As;var n=qt!==null&&qt.next!==null;if(Sa=0,gn=qt=mt=null,bl=!1,xs=0,So=null,n)throw Error(o(300));e===null||yn||(e=e.dependencies,e!==null&&dl(e)&&(yn=!0))}function Af(e,n,a,s){mt=e;var p=0;do{if(xo&&(So=null),xs=0,xo=!1,25<=p)throw Error(o(301));if(p+=1,gn=qt=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ie.H=op,y=n(a,s)}while(xo);return y}function Zy(){var e=ie.H,n=e.useState()[0];return n=typeof n.then=="function"?Ss(n):n,e=e.useState()[0],(qt!==null?qt.memoizedState:null)!==e&&(mt.flags|=1024),n}function ec(){var e=xl!==0;return xl=0,e}function tc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function nc(e){if(bl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}bl=!1}Sa=0,gn=qt=mt=null,xo=!1,xs=xl=0,So=null}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?mt.memoizedState=gn=e:gn=gn.next=e,gn}function dn(){if(qt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=qt.next;var n=gn===null?mt.memoizedState:gn.next;if(n!==null)gn=n,qt=e;else{if(e===null)throw mt.alternate===null?Error(o(467)):Error(o(310));qt=e,e={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},gn===null?mt.memoizedState=gn=e:gn=gn.next=e}return gn}function Sl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ss(e){var n=xs;return xs+=1,So===null&&(So=[]),e=mf(So,e,n),n=mt,(gn===null?n.memoizedState:gn.next)===null&&(n=n.alternate,ie.H=n===null||n.memoizedState===null?rp:mc),e}function El(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ss(e);if(e.$$typeof===se)return kn(e)}throw Error(o(438,String(e)))}function ic(e){var n=null,a=mt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var s=mt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Sl(),mt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),s=0;s<e;s++)a[s]=me;return n.index++,a}function Ea(e,n){return typeof n=="function"?n(e):n}function Al(e){var n=dn();return ac(n,qt,e)}function ac(e,n,a){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=a;var p=e.baseQueue,y=s.pending;if(y!==null){if(p!==null){var N=p.next;p.next=y.next,y.next=N}n.baseQueue=p=y,s.pending=null}if(y=e.baseState,p===null)e.memoizedState=y;else{n=p.next;var R=N=null,U=null,ne=n,he=!1;do{var be=ne.lane&-536870913;if(be!==ne.lane?(St&be)===be:(Sa&be)===be){var re=ne.revertLane;if(re===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),be===go&&(he=!0);else if((Sa&re)===re){ne=ne.next,re===go&&(he=!0);continue}else be={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},U===null?(R=U=be,N=y):U=U.next=be,mt.lanes|=re,rr|=re;be=ne.action,Vr&&a(y,be),y=ne.hasEagerState?ne.eagerState:a(y,be)}else re={lane:be,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},U===null?(R=U=re,N=y):U=U.next=re,mt.lanes|=be,rr|=be;ne=ne.next}while(ne!==null&&ne!==n);if(U===null?N=y:U.next=R,!Ln(y,e.memoizedState)&&(yn=!0,he&&(a=yo,a!==null)))throw a;e.memoizedState=y,e.baseState=N,e.baseQueue=U,s.lastRenderedState=y}return p===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function rc(e){var n=dn(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var s=a.dispatch,p=a.pending,y=n.memoizedState;if(p!==null){a.pending=null;var N=p=p.next;do y=e(y,N.action),N=N.next;while(N!==p);Ln(y,n.memoizedState)||(yn=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),a.lastRenderedState=y}return[y,s]}function Nf(e,n,a){var s=mt,p=dn(),y=Nt;if(y){if(a===void 0)throw Error(o(407));a=a()}else a=n();var N=!Ln((qt||p).memoizedState,a);if(N&&(p.memoizedState=a,yn=!0),p=p.queue,lc(If.bind(null,s,p,e),[e]),p.getSnapshot!==n||N||gn!==null&&gn.memoizedState.tag&1){if(s.flags|=2048,Eo(9,{destroy:void 0},_f.bind(null,s,p,a,n),null),Gt===null)throw Error(o(349));y||(Sa&127)!==0||Cf(s,n,a)}return a}function Cf(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=mt.updateQueue,n===null?(n=Sl(),mt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function _f(e,n,a,s){n.value=a,n.getSnapshot=s,wf(n)&&Rf(e)}function If(e,n,a){return a(function(){wf(n)&&Rf(e)})}function wf(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Ln(e,a)}catch{return!0}}function Rf(e){var n=Qt(e,2);n!==null&&$n(n,e,2)}function oc(e){var n=Jn();if(typeof e=="function"){var a=e;if(e=a(),Vr){bn(!0);try{a()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},n}function Mf(e,n,a,s){return e.baseState=a,ac(e,qt,typeof s=="function"?s:Ea)}function Qy(e,n,a,s,p){if(_l(e))throw Error(o(485));if(e=n.action,e!==null){var y={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};ie.T!==null?a(!0):y.isTransition=!1,s(y),a=n.pending,a===null?(y.next=n.pending=y,Df(n,y)):(y.next=a.next,n.pending=a.next=y)}}function Df(e,n){var a=n.action,s=n.payload,p=e.state;if(n.isTransition){var y=ie.T,N={};ie.T=N;try{var R=a(p,s),U=ie.S;U!==null&&U(N,R),kf(e,n,R)}catch(ne){sc(e,n,ne)}finally{y!==null&&N.types!==null&&(y.types=N.types),ie.T=y}}else try{y=a(p,s),kf(e,n,y)}catch(ne){sc(e,n,ne)}}function kf(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Pf(e,n,s)},function(s){return sc(e,n,s)}):Pf(e,n,a)}function Pf(e,n,a){n.status="fulfilled",n.value=a,Of(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Df(e,a)))}function sc(e,n,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=a,Of(n),n=n.next;while(n!==s)}e.action=null}function Of(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Uf(e,n){return n}function Lf(e,n){if(Nt){var a=Gt.formState;if(a!==null){e:{var s=mt;if(Nt){if(Yt){t:{for(var p=Yt,y=Ci;p.nodeType!==8;){if(!y){p=null;break t}if(p=Ii(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Yt=Ii(p.nextSibling),s=p.data==="F!";break e}}Qa(s)}s=!1}s&&(n=a[0])}}return a=Jn(),a.memoizedState=a.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:n},a.queue=s,a=np.bind(null,mt,s),s.dispatch=a,s=oc(!1),y=pc.bind(null,mt,!1,s.queue),s=Jn(),p={state:n,dispatch:null,action:e,pending:null},s.queue=p,a=Qy.bind(null,mt,p,y,a),p.dispatch=a,s.memoizedState=e,[n,a,!1]}function Bf(e){var n=dn();return qf(n,qt,e)}function qf(e,n,a){if(n=ac(e,n,Uf)[0],e=Al(Ea)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Ss(n)}catch(N){throw N===vo?ml:N}else s=n;n=dn();var p=n.queue,y=p.dispatch;return a!==n.memoizedState&&(mt.flags|=2048,Eo(9,{destroy:void 0},Xy.bind(null,p,a),null)),[s,y,e]}function Xy(e,n){e.action=n}function Vf(e){var n=dn(),a=qt;if(a!==null)return qf(n,a,e);dn(),n=n.memoizedState,a=dn();var s=a.queue.dispatch;return a.memoizedState=e,[n,s,!1]}function Eo(e,n,a,s){return e={tag:e,create:a,deps:s,inst:n,next:null},n=mt.updateQueue,n===null&&(n=Sl(),mt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,n.lastEffect=e),e}function zf(){return dn().memoizedState}function Nl(e,n,a,s){var p=Jn();mt.flags|=e,p.memoizedState=Eo(1|n,{destroy:void 0},a,s===void 0?null:s)}function Cl(e,n,a,s){var p=dn();s=s===void 0?null:s;var y=p.memoizedState.inst;qt!==null&&s!==null&&Wu(s,qt.memoizedState.deps)?p.memoizedState=Eo(n,y,a,s):(mt.flags|=e,p.memoizedState=Eo(1|n,y,a,s))}function Gf(e,n){Nl(8390656,8,e,n)}function lc(e,n){Cl(2048,8,e,n)}function Wy(e){mt.flags|=4;var n=mt.updateQueue;if(n===null)n=Sl(),mt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Hf(e){var n=dn().memoizedState;return Wy({ref:n,nextImpl:e}),function(){if((Dt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Ff(e,n){return Cl(4,2,e,n)}function Jf(e,n){return Cl(4,4,e,n)}function jf(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yf(e,n,a){a=a!=null?a.concat([e]):null,Cl(4,4,jf.bind(null,n,e),a)}function uc(){}function Kf(e,n){var a=dn();n=n===void 0?null:n;var s=a.memoizedState;return n!==null&&Wu(n,s[1])?s[0]:(a.memoizedState=[e,n],e)}function Zf(e,n){var a=dn();n=n===void 0?null:n;var s=a.memoizedState;if(n!==null&&Wu(n,s[1]))return s[0];if(s=e(),Vr){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[s,n],s}function cc(e,n,a){return a===void 0||(Sa&1073741824)!==0&&(St&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Qp(),mt.lanes|=e,rr|=e,a)}function Qf(e,n,a,s){return Ln(a,n)?a:bo.current!==null?(e=cc(e,a,s),Ln(e,n)||(yn=!0),e):(Sa&42)===0||(Sa&1073741824)!==0&&(St&261930)===0?(yn=!0,e.memoizedState=a):(e=Qp(),mt.lanes|=e,rr|=e,n)}function Xf(e,n,a,s,p){var y=Se.p;Se.p=y!==0&&8>y?y:8;var N=ie.T,R={};ie.T=R,pc(e,!1,n,a);try{var U=p(),ne=ie.S;if(ne!==null&&ne(R,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var he=Yy(U,s);Es(e,n,he,di(e))}else Es(e,n,s,di(e))}catch(be){Es(e,n,{then:function(){},status:"rejected",reason:be},di())}finally{Se.p=y,N!==null&&R.types!==null&&(N.types=R.types),ie.T=N}}function $y(){}function dc(e,n,a,s){if(e.tag!==5)throw Error(o(476));var p=Wf(e).queue;Xf(e,p,n,Ge,a===null?$y:function(){return $f(e),a(s)})}function Wf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ge,baseState:Ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:Ge},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function $f(e){var n=Wf(e);n.next===null&&(n=e.alternate.memoizedState),Es(e,n.next.queue,{},di())}function fc(){return kn(Vs)}function ep(){return dn().memoizedState}function tp(){return dn().memoizedState}function e0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=di();e=$a(a);var s=er(n,e,a);s!==null&&($n(s,n,a),vs(s,n,a)),n={cache:zu()},e.payload=n;return}n=n.return}}function t0(e,n,a){var s=di();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_l(e)?ip(n,a):(a=pn(e,n,a,s),a!==null&&($n(a,e,s),ap(a,n,s)))}function np(e,n,a){var s=di();Es(e,n,a,s)}function Es(e,n,a,s){var p={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_l(e))ip(n,p);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var N=n.lastRenderedState,R=y(N,a);if(p.hasEagerState=!0,p.eagerState=R,Ln(R,N))return at(e,n,p,0),Gt===null&&_n(),!1}catch{}finally{}if(a=pn(e,n,p,s),a!==null)return $n(a,e,s),ap(a,n,s),!0}return!1}function pc(e,n,a,s){if(s={lane:2,revertLane:Jc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},_l(e)){if(n)throw Error(o(479))}else n=pn(e,a,s,2),n!==null&&$n(n,e,2)}function _l(e){var n=e.alternate;return e===mt||n!==null&&n===mt}function ip(e,n){xo=bl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ap(e,n,a){if((a&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,a|=s,n.lanes=a,Pt(e,a)}}var As={readContext:kn,use:El,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};As.useEffectEvent=on;var rp={readContext:kn,use:El,useCallback:function(e,n){return Jn().memoizedState=[e,n===void 0?null:n],e},useContext:kn,useEffect:Gf,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Nl(4194308,4,jf.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Nl(4194308,4,e,n)},useInsertionEffect:function(e,n){Nl(4,2,e,n)},useMemo:function(e,n){var a=Jn();n=n===void 0?null:n;var s=e();if(Vr){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[s,n],s},useReducer:function(e,n,a){var s=Jn();if(a!==void 0){var p=a(n);if(Vr){bn(!0);try{a(n)}finally{bn(!1)}}}else p=n;return s.memoizedState=s.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},s.queue=e,e=e.dispatch=t0.bind(null,mt,e),[s.memoizedState,e]},useRef:function(e){var n=Jn();return e={current:e},n.memoizedState=e},useState:function(e){e=oc(e);var n=e.queue,a=np.bind(null,mt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:uc,useDeferredValue:function(e,n){var a=Jn();return cc(a,e,n)},useTransition:function(){var e=oc(!1);return e=Xf.bind(null,mt,e.queue,!0,!1),Jn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var s=mt,p=Jn();if(Nt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),Gt===null)throw Error(o(349));(St&127)!==0||Cf(s,n,a)}p.memoizedState=a;var y={value:a,getSnapshot:n};return p.queue=y,Gf(If.bind(null,s,y,e),[e]),s.flags|=2048,Eo(9,{destroy:void 0},_f.bind(null,s,y,a,n),null),a},useId:function(){var e=Jn(),n=Gt.identifierPrefix;if(Nt){var a=Wi,s=Xi;a=(s&~(1<<32-Be(s)-1)).toString(32)+a,n="_"+n+"R_"+a,a=xl++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Ky++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:fc,useFormState:Lf,useActionState:Lf,useOptimistic:function(e){var n=Jn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=pc.bind(null,mt,!0,a),a.dispatch=n,[e,n]},useMemoCache:ic,useCacheRefresh:function(){return Jn().memoizedState=e0.bind(null,mt)},useEffectEvent:function(e){var n=Jn(),a={impl:e};return n.memoizedState=a,function(){if((Dt&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},mc={readContext:kn,use:El,useCallback:Kf,useContext:kn,useEffect:lc,useImperativeHandle:Yf,useInsertionEffect:Ff,useLayoutEffect:Jf,useMemo:Zf,useReducer:Al,useRef:zf,useState:function(){return Al(Ea)},useDebugValue:uc,useDeferredValue:function(e,n){var a=dn();return Qf(a,qt.memoizedState,e,n)},useTransition:function(){var e=Al(Ea)[0],n=dn().memoizedState;return[typeof e=="boolean"?e:Ss(e),n]},useSyncExternalStore:Nf,useId:ep,useHostTransitionStatus:fc,useFormState:Bf,useActionState:Bf,useOptimistic:function(e,n){var a=dn();return Mf(a,qt,e,n)},useMemoCache:ic,useCacheRefresh:tp};mc.useEffectEvent=Hf;var op={readContext:kn,use:El,useCallback:Kf,useContext:kn,useEffect:lc,useImperativeHandle:Yf,useInsertionEffect:Ff,useLayoutEffect:Jf,useMemo:Zf,useReducer:rc,useRef:zf,useState:function(){return rc(Ea)},useDebugValue:uc,useDeferredValue:function(e,n){var a=dn();return qt===null?cc(a,e,n):Qf(a,qt.memoizedState,e,n)},useTransition:function(){var e=rc(Ea)[0],n=dn().memoizedState;return[typeof e=="boolean"?e:Ss(e),n]},useSyncExternalStore:Nf,useId:ep,useHostTransitionStatus:fc,useFormState:Vf,useActionState:Vf,useOptimistic:function(e,n){var a=dn();return qt!==null?Mf(a,qt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ic,useCacheRefresh:tp};op.useEffectEvent=Hf;function hc(e,n,a,s){n=e.memoizedState,a=a(s,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var gc={enqueueSetState:function(e,n,a){e=e._reactInternals;var s=di(),p=$a(s);p.payload=n,a!=null&&(p.callback=a),n=er(e,p,s),n!==null&&($n(n,e,s),vs(n,e,s))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var s=di(),p=$a(s);p.tag=1,p.payload=n,a!=null&&(p.callback=a),n=er(e,p,s),n!==null&&($n(n,e,s),vs(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=di(),s=$a(a);s.tag=2,n!=null&&(s.callback=n),n=er(e,s,a),n!==null&&($n(n,e,a),vs(n,e,a))}};function sp(e,n,a,s,p,y,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,y,N):n.prototype&&n.prototype.isPureReactComponent?!f(a,s)||!f(p,y):!0}function lp(e,n,a,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,s),n.state!==e&&gc.enqueueReplaceState(n,n.state,null)}function zr(e,n){var a=n;if("ref"in n){a={};for(var s in n)s!=="ref"&&(a[s]=n[s])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}function up(e){ze(e)}function cp(e){console.error(e)}function dp(e){ze(e)}function Il(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function fp(e,n,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function yc(e,n,a){return a=$a(a),a.tag=3,a.payload={element:null},a.callback=function(){Il(e,n)},a}function pp(e){return e=$a(e),e.tag=3,e}function mp(e,n,a,s){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=s.value;e.payload=function(){return p(y)},e.callback=function(){fp(n,a,s)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){fp(n,a,s),typeof p!="function"&&(or===null?or=new Set([this]):or.add(this));var R=s.stack;this.componentDidCatch(s.value,{componentStack:R!==null?R:""})})}function n0(e,n,a,s,p){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=a.alternate,n!==null&&ho(n,a,p,!0),a=si.current,a!==null){switch(a.tag){case 31:case 13:return _i===null?Vl():a.alternate===null&&sn===0&&(sn=3),a.flags&=-257,a.flags|=65536,a.lanes=p,s===hl?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([s]):n.add(s),Gc(e,s,p)),!1;case 22:return a.flags|=65536,s===hl?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([s]):a.add(s)),Gc(e,s,p)),!1}throw Error(o(435,a.tag))}return Gc(e,s,p),Vl(),!1}if(Nt)return n=si.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,s!==Uu&&(e=Error(o(422),{cause:s}),ps(Ei(e,a)))):(s!==Uu&&(n=Error(o(423),{cause:s}),ps(Ei(n,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,s=Ei(s,a),p=yc(e.stateNode,s,p),Yu(e,p),sn!==4&&(sn=2)),!1;var y=Error(o(520),{cause:s});if(y=Ei(y,a),Ds===null?Ds=[y]:Ds.push(y),sn!==4&&(sn=2),n===null)return!0;s=Ei(s,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=yc(a.stateNode,s,e),Yu(a,e),!1;case 1:if(n=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(or===null||!or.has(y))))return a.flags|=65536,p&=-p,a.lanes|=p,p=pp(p),mp(p,e,a,s),Yu(a,p),!1}a=a.return}while(a!==null);return!1}var vc=Error(o(461)),yn=!1;function Pn(e,n,a,s){n.child=e===null?vf(n,null,a,s):qr(n,e.child,a,s)}function hp(e,n,a,s,p){a=a.render;var y=n.ref;if("ref"in s){var N={};for(var R in s)R!=="ref"&&(N[R]=s[R])}else N=s;return Or(n),s=$u(e,n,a,N,y,p),R=ec(),e!==null&&!yn?(tc(e,n,p),Aa(e,n,p)):(Nt&&R&&Pu(n),n.flags|=1,Pn(e,n,s,p),n.child)}function gp(e,n,a,s,p){if(e===null){var y=a.type;return typeof y=="function"&&!Mu(y)&&y.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=y,yp(e,n,y,s,p)):(e=ul(a.type,null,s,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!Cc(e,p)){var N=y.memoizedProps;if(a=a.compare,a=a!==null?a:f,a(N,s)&&e.ref===n.ref)return Aa(e,n,p)}return n.flags|=1,e=va(y,s),e.ref=n.ref,e.return=n,n.child=e}function yp(e,n,a,s,p){if(e!==null){var y=e.memoizedProps;if(f(y,s)&&e.ref===n.ref)if(yn=!1,n.pendingProps=s=y,Cc(e,p))(e.flags&131072)!==0&&(yn=!0);else return n.lanes=e.lanes,Aa(e,n,p)}return Tc(e,n,a,s,p)}function vp(e,n,a,s){var p=s.children,y=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,e!==null){for(s=n.child=e.child,p=0;s!==null;)p=p|s.lanes|s.childLanes,s=s.sibling;s=p&~y}else s=0,n.child=null;return Tp(e,n,y,a,s)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&pl(n,y!==null?y.cachePool:null),y!==null?xf(n,y):Zu(),Sf(n);else return s=n.lanes=536870912,Tp(e,n,y!==null?y.baseLanes|a:a,a,s)}else y!==null?(pl(n,y.cachePool),xf(n,y),nr(),n.memoizedState=null):(e!==null&&pl(n,null),Zu(),nr());return Pn(e,n,p,a),n.child}function Ns(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Tp(e,n,a,s,p){var y=Hu();return y=y===null?null:{parent:hn._currentValue,pool:y},n.memoizedState={baseLanes:a,cachePool:y},e!==null&&pl(n,null),Zu(),Sf(n),e!==null&&ho(e,n,s,!0),n.childLanes=p,null}function wl(e,n){return n=Ml({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function bp(e,n,a){return qr(n,e.child,null,a),e=wl(n,n.pendingProps),e.flags|=2,li(n),n.memoizedState=null,e}function i0(e,n,a){var s=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Nt){if(s.mode==="hidden")return e=wl(n,s),n.lanes=536870912,Ns(null,e);if(Xu(n),(e=Yt)?(e=Dm(e,Ci),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},a=nf(e),a.return=n,n.child=a,Dn=n,Yt=null)):e=null,e===null)throw Qa(n);return n.lanes=536870912,null}return wl(n,s)}var y=e.memoizedState;if(y!==null){var N=y.dehydrated;if(Xu(n),p)if(n.flags&256)n.flags&=-257,n=bp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(yn||ho(e,n,a,!1),p=(a&e.childLanes)!==0,yn||p){if(s=Gt,s!==null&&(N=tn(s,a),N!==0&&N!==y.retryLane))throw y.retryLane=N,Qt(e,N),$n(s,e,N),vc;Vl(),n=bp(e,n,a)}else e=y.treeContext,Yt=Ii(N.nextSibling),Dn=n,Nt=!0,Za=null,Ci=!1,e!==null&&of(n,e),n=wl(n,s),n.flags|=4096;return n}return e=va(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Rl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Tc(e,n,a,s,p){return Or(n),a=$u(e,n,a,s,void 0,p),s=ec(),e!==null&&!yn?(tc(e,n,p),Aa(e,n,p)):(Nt&&s&&Pu(n),n.flags|=1,Pn(e,n,a,p),n.child)}function xp(e,n,a,s,p,y){return Or(n),n.updateQueue=null,a=Af(n,s,a,p),Ef(e),s=ec(),e!==null&&!yn?(tc(e,n,y),Aa(e,n,y)):(Nt&&s&&Pu(n),n.flags|=1,Pn(e,n,a,y),n.child)}function Sp(e,n,a,s,p){if(Or(n),n.stateNode===null){var y=Kn,N=a.contextType;typeof N=="object"&&N!==null&&(y=kn(N)),y=new a(s,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=gc,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=s,y.state=n.memoizedState,y.refs={},Ju(n),N=a.contextType,y.context=typeof N=="object"&&N!==null?kn(N):Kn,y.state=n.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(hc(n,a,N,s),y.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&gc.enqueueReplaceState(y,y.state,null),bs(n,s,y,p),Ts(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){y=n.stateNode;var R=n.memoizedProps,U=zr(a,R);y.props=U;var ne=y.context,he=a.contextType;N=Kn,typeof he=="object"&&he!==null&&(N=kn(he));var be=a.getDerivedStateFromProps;he=typeof be=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=n.pendingProps!==R,he||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||ne!==N)&&lp(n,y,s,N),Wa=!1;var re=n.memoizedState;y.state=re,bs(n,s,y,p),Ts(),ne=n.memoizedState,R||re!==ne||Wa?(typeof be=="function"&&(hc(n,a,be,s),ne=n.memoizedState),(U=Wa||sp(n,a,U,s,re,ne,N))?(he||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=ne),y.props=s,y.state=ne,y.context=N,s=U):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{y=n.stateNode,ju(e,n),N=n.memoizedProps,he=zr(a,N),y.props=he,be=n.pendingProps,re=y.context,ne=a.contextType,U=Kn,typeof ne=="object"&&ne!==null&&(U=kn(ne)),R=a.getDerivedStateFromProps,(ne=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==be||re!==U)&&lp(n,y,s,U),Wa=!1,re=n.memoizedState,y.state=re,bs(n,s,y,p),Ts();var oe=n.memoizedState;N!==be||re!==oe||Wa||e!==null&&e.dependencies!==null&&dl(e.dependencies)?(typeof R=="function"&&(hc(n,a,R,s),oe=n.memoizedState),(he=Wa||sp(n,a,he,s,re,oe,U)||e!==null&&e.dependencies!==null&&dl(e.dependencies))?(ne||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,oe,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,oe,U)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===e.memoizedProps&&re===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&re===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=oe),y.props=s,y.state=oe,y.context=U,s=he):(typeof y.componentDidUpdate!="function"||N===e.memoizedProps&&re===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&re===e.memoizedState||(n.flags|=1024),s=!1)}return y=s,Rl(e,n),s=(n.flags&128)!==0,y||s?(y=n.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&s?(n.child=qr(n,e.child,null,p),n.child=qr(n,null,a,p)):Pn(e,n,a,p),n.memoizedState=y.state,e=n.child):e=Aa(e,n,p),e}function Ep(e,n,a,s){return kr(),n.flags|=256,Pn(e,n,a,s),n.child}var bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xc(e){return{baseLanes:e,cachePool:ff()}}function Sc(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=ci),e}function Ap(e,n,a){var s=n.pendingProps,p=!1,y=(n.flags&128)!==0,N;if((N=y)||(N=e!==null&&e.memoizedState===null?!1:(cn.current&2)!==0),N&&(p=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(Nt){if(p?tr(n):nr(),(e=Yt)?(e=Dm(e,Ci),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},a=nf(e),a.return=n,n.child=a,Dn=n,Yt=null)):e=null,e===null)throw Qa(n);return ad(e)?n.lanes=32:n.lanes=536870912,null}var R=s.children;return s=s.fallback,p?(nr(),p=n.mode,R=Ml({mode:"hidden",children:R},p),s=Dr(s,p,a,null),R.return=n,s.return=n,R.sibling=s,n.child=R,s=n.child,s.memoizedState=xc(a),s.childLanes=Sc(e,N,a),n.memoizedState=bc,Ns(null,s)):(tr(n),Ec(n,R))}var U=e.memoizedState;if(U!==null&&(R=U.dehydrated,R!==null)){if(y)n.flags&256?(tr(n),n.flags&=-257,n=Ac(e,n,a)):n.memoizedState!==null?(nr(),n.child=e.child,n.flags|=128,n=null):(nr(),R=s.fallback,p=n.mode,s=Ml({mode:"visible",children:s.children},p),R=Dr(R,p,a,null),R.flags|=2,s.return=n,R.return=n,s.sibling=R,n.child=s,qr(n,e.child,null,a),s=n.child,s.memoizedState=xc(a),s.childLanes=Sc(e,N,a),n.memoizedState=bc,n=Ns(null,s));else if(tr(n),ad(R)){if(N=R.nextSibling&&R.nextSibling.dataset,N)var ne=N.dgst;N=ne,s=Error(o(419)),s.stack="",s.digest=N,ps({value:s,source:null,stack:null}),n=Ac(e,n,a)}else if(yn||ho(e,n,a,!1),N=(a&e.childLanes)!==0,yn||N){if(N=Gt,N!==null&&(s=tn(N,a),s!==0&&s!==U.retryLane))throw U.retryLane=s,Qt(e,s),$n(N,e,s),vc;id(R)||Vl(),n=Ac(e,n,a)}else id(R)?(n.flags|=192,n.child=e.child,n=null):(e=U.treeContext,Yt=Ii(R.nextSibling),Dn=n,Nt=!0,Za=null,Ci=!1,e!==null&&of(n,e),n=Ec(n,s.children),n.flags|=4096);return n}return p?(nr(),R=s.fallback,p=n.mode,U=e.child,ne=U.sibling,s=va(U,{mode:"hidden",children:s.children}),s.subtreeFlags=U.subtreeFlags&65011712,ne!==null?R=va(ne,R):(R=Dr(R,p,a,null),R.flags|=2),R.return=n,s.return=n,s.sibling=R,n.child=s,Ns(null,s),s=n.child,R=e.child.memoizedState,R===null?R=xc(a):(p=R.cachePool,p!==null?(U=hn._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=ff(),R={baseLanes:R.baseLanes|a,cachePool:p}),s.memoizedState=R,s.childLanes=Sc(e,N,a),n.memoizedState=bc,Ns(e.child,s)):(tr(n),a=e.child,e=a.sibling,a=va(a,{mode:"visible",children:s.children}),a.return=n,a.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=a,n.memoizedState=null,a)}function Ec(e,n){return n=Ml({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ml(e,n){return e=oi(22,e,null,n),e.lanes=0,e}function Ac(e,n,a){return qr(n,e.child,null,a),e=Ec(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Np(e,n,a){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),qu(e.return,n,a)}function Nc(e,n,a,s,p,y){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:p,treeForkCount:y}:(N.isBackwards=n,N.rendering=null,N.renderingStartTime=0,N.last=s,N.tail=a,N.tailMode=p,N.treeForkCount=y)}function Cp(e,n,a){var s=n.pendingProps,p=s.revealOrder,y=s.tail;s=s.children;var N=cn.current,R=(N&2)!==0;if(R?(N=N&1|2,n.flags|=128):N&=1,Ie(cn,N),Pn(e,n,s,a),s=Nt?fs:0,!R&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Np(e,a,n);else if(e.tag===19)Np(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(a=n.child,p=null;a!==null;)e=a.alternate,e!==null&&Tl(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=n.child,n.child=null):(p=a.sibling,a.sibling=null),Nc(n,!1,p,a,y,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Tl(e)===null){n.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}Nc(n,!0,a,null,y,s);break;case"together":Nc(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function Aa(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),rr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ho(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,a=va(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=va(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Cc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&dl(e)))}function a0(e,n,a){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Xa(n,hn,e.memoizedState.cache),kr();break;case 27:case 5:ei(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Xa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xu(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(tr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ap(e,n,a):(tr(n),e=Aa(e,n,a),e!==null?e.sibling:null);tr(n);break;case 19:var p=(e.flags&128)!==0;if(s=(a&n.childLanes)!==0,s||(ho(e,n,a,!1),s=(a&n.childLanes)!==0),p){if(s)return Cp(e,n,a);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ie(cn,cn.current),s)break;return null;case 22:return n.lanes=0,vp(e,n,a,n.pendingProps);case 24:Xa(n,hn,e.memoizedState.cache)}return Aa(e,n,a)}function _p(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)yn=!0;else{if(!Cc(e,a)&&(n.flags&128)===0)return yn=!1,a0(e,n,a);yn=(e.flags&131072)!==0}else yn=!1,Nt&&(n.flags&1048576)!==0&&rf(n,fs,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Lr(n.elementType),n.type=e,typeof e=="function")Mu(e)?(s=zr(e,s),n.tag=1,n=Sp(null,n,e,s,a)):(n.tag=0,n=Tc(null,n,e,s,a));else{if(e!=null){var p=e.$$typeof;if(p===Ee){n.tag=11,n=hp(null,n,e,s,a);break e}else if(p===J){n.tag=14,n=gp(null,n,e,s,a);break e}}throw n=dt(e)||e,Error(o(306,n,""))}}return n;case 0:return Tc(e,n,n.type,n.pendingProps,a);case 1:return s=n.type,p=zr(s,n.pendingProps),Sp(e,n,s,p,a);case 3:e:{if($t(n,n.stateNode.containerInfo),e===null)throw Error(o(387));s=n.pendingProps;var y=n.memoizedState;p=y.element,ju(e,n),bs(n,s,null,a);var N=n.memoizedState;if(s=N.cache,Xa(n,hn,s),s!==y.cache&&Vu(n,[hn],a,!0),Ts(),s=N.element,y.isDehydrated)if(y={element:s,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=Ep(e,n,s,a);break e}else if(s!==p){p=Ei(Error(o(424)),n),ps(p),n=Ep(e,n,s,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Yt=Ii(e.firstChild),Dn=n,Nt=!0,Za=null,Ci=!0,a=vf(n,null,s,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(kr(),s===p){n=Aa(e,n,a);break e}Pn(e,n,s,a)}n=n.child}return n;case 26:return Rl(e,n),e===null?(a=Bm(n.type,null,n.pendingProps,null))?n.memoizedState=a:Nt||(a=n.type,e=n.pendingProps,s=Yl(rt.current).createElement(a),s[Bt]=n,s[nn]=e,On(s,a,e),an(s),n.stateNode=s):n.memoizedState=Bm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ei(n),e===null&&Nt&&(s=n.stateNode=Om(n.type,n.pendingProps,rt.current),Dn=n,Ci=!0,p=Yt,cr(n.type)?(rd=p,Yt=Ii(s.firstChild)):Yt=p),Pn(e,n,n.pendingProps.children,a),Rl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Nt&&((p=s=Yt)&&(s=P0(s,n.type,n.pendingProps,Ci),s!==null?(n.stateNode=s,Dn=n,Yt=Ii(s.firstChild),Ci=!1,p=!0):p=!1),p||Qa(n)),ei(n),p=n.type,y=n.pendingProps,N=e!==null?e.memoizedProps:null,s=y.children,ed(p,y)?s=null:N!==null&&ed(p,N)&&(n.flags|=32),n.memoizedState!==null&&(p=$u(e,n,Zy,null,null,a),Vs._currentValue=p),Rl(e,n),Pn(e,n,s,a),n.child;case 6:return e===null&&Nt&&((e=a=Yt)&&(a=O0(a,n.pendingProps,Ci),a!==null?(n.stateNode=a,Dn=n,Yt=null,e=!0):e=!1),e||Qa(n)),null;case 13:return Ap(e,n,a);case 4:return $t(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=qr(n,null,s,a):Pn(e,n,s,a),n.child;case 11:return hp(e,n,n.type,n.pendingProps,a);case 7:return Pn(e,n,n.pendingProps,a),n.child;case 8:return Pn(e,n,n.pendingProps.children,a),n.child;case 12:return Pn(e,n,n.pendingProps.children,a),n.child;case 10:return s=n.pendingProps,Xa(n,n.type,s.value),Pn(e,n,s.children,a),n.child;case 9:return p=n.type._context,s=n.pendingProps.children,Or(n),p=kn(p),s=s(p),n.flags|=1,Pn(e,n,s,a),n.child;case 14:return gp(e,n,n.type,n.pendingProps,a);case 15:return yp(e,n,n.type,n.pendingProps,a);case 19:return Cp(e,n,a);case 31:return i0(e,n,a);case 22:return vp(e,n,a,n.pendingProps);case 24:return Or(n),s=kn(hn),e===null?(p=Hu(),p===null&&(p=Gt,y=zu(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=a),p=y),n.memoizedState={parent:s,cache:p},Ju(n),Xa(n,hn,p)):((e.lanes&a)!==0&&(ju(e,n),bs(n,null,null,a),Ts()),p=e.memoizedState,y=n.memoizedState,p.parent!==s?(p={parent:s,cache:s},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Xa(n,hn,s)):(s=y.cache,Xa(n,hn,s),s!==p.cache&&Vu(n,[hn],a,!0))),Pn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Na(e){e.flags|=4}function _c(e,n,a,s,p){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(em())e.flags|=8192;else throw Br=hl,Fu}else e.flags&=-16777217}function Ip(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Hm(n))if(em())e.flags|=8192;else throw Br=hl,Fu}function Dl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?jr():536870912,e.lanes|=n,_o|=n)}function Cs(e,n){if(!Nt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(n)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,s|=p.subtreeFlags&65011712,s|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,s|=p.subtreeFlags,s|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=s,e.childLanes=a,n}function r0(e,n,a){var s=n.pendingProps;switch(Ou(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(n),null;case 1:return Kt(n),null;case 3:return a=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),xa(hn),Pe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(mo(n)?Na(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lu())),Kt(n),null;case 26:var p=n.type,y=n.memoizedState;return e===null?(Na(n),y!==null?(Kt(n),Ip(n,y)):(Kt(n),_c(n,p,null,s,a))):y?y!==e.memoizedState?(Na(n),Kt(n),Ip(n,y)):(Kt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&Na(n),Kt(n),_c(n,p,e,s,a)),null;case 27:if(ln(n),a=rt.current,p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Na(n);else{if(!s){if(n.stateNode===null)throw Error(o(166));return Kt(n),null}e=qe.current,mo(n)?sf(n):(e=Om(p,s,a),n.stateNode=e,Na(n))}return Kt(n),null;case 5:if(ln(n),p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Na(n);else{if(!s){if(n.stateNode===null)throw Error(o(166));return Kt(n),null}if(y=qe.current,mo(n))sf(n);else{var N=Yl(rt.current);switch(y){case 1:y=N.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=N.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=N.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof s.is=="string"?N.createElement("select",{is:s.is}):N.createElement("select"),s.multiple?y.multiple=!0:s.size&&(y.size=s.size);break;default:y=typeof s.is=="string"?N.createElement(p,{is:s.is}):N.createElement(p)}}y[Bt]=n,y[nn]=s;e:for(N=n.child;N!==null;){if(N.tag===5||N.tag===6)y.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===n)break e;for(;N.sibling===null;){if(N.return===null||N.return===n)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}n.stateNode=y;e:switch(On(y,p,s),p){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Na(n)}}return Kt(n),_c(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&Na(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(o(166));if(e=rt.current,mo(n)){if(e=n.stateNode,a=n.memoizedProps,s=null,p=Dn,p!==null)switch(p.tag){case 27:case 5:s=p.memoizedProps}e[Bt]=n,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Am(e.nodeValue,a)),e||Qa(n,!0)}else e=Yl(e).createTextNode(s),e[Bt]=n,n.stateNode=e}return Kt(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(s=mo(n),a!==null){if(e===null){if(!s)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Bt]=n}else kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Kt(n),e=!1}else a=Lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(li(n),n):(li(n),null);if((n.flags&128)!==0)throw Error(o(558))}return Kt(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=mo(n),s!==null&&s.dehydrated!==null){if(e===null){if(!p)throw Error(o(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[Bt]=n}else kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Kt(n),p=!1}else p=Lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(li(n),n):(li(n),null)}return li(n),(n.flags&128)!==0?(n.lanes=a,n):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=n.child,p=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(p=s.alternate.memoizedState.cachePool.pool),y=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(y=s.memoizedState.cachePool.pool),y!==p&&(s.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Dl(n,n.updateQueue),Kt(n),null);case 4:return Pe(),e===null&&Zc(n.stateNode.containerInfo),Kt(n),null;case 10:return xa(n.type),Kt(n),null;case 19:if(ye(cn),s=n.memoizedState,s===null)return Kt(n),null;if(p=(n.flags&128)!==0,y=s.rendering,y===null)if(p)Cs(s,!1);else{if(sn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=Tl(e),y!==null){for(n.flags|=128,Cs(s,!1),e=y.updateQueue,n.updateQueue=e,Dl(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)tf(a,e),a=a.sibling;return Ie(cn,cn.current&1|2),Nt&&Ta(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&Ft()>Ll&&(n.flags|=128,p=!0,Cs(s,!1),n.lanes=4194304)}else{if(!p)if(e=Tl(y),e!==null){if(n.flags|=128,p=!0,e=e.updateQueue,n.updateQueue=e,Dl(n,e),Cs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!y.alternate&&!Nt)return Kt(n),null}else 2*Ft()-s.renderingStartTime>Ll&&a!==536870912&&(n.flags|=128,p=!0,Cs(s,!1),n.lanes=4194304);s.isBackwards?(y.sibling=n.child,n.child=y):(e=s.last,e!==null?e.sibling=y:n.child=y,s.last=y)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ft(),e.sibling=null,a=cn.current,Ie(cn,p?a&1|2:a&1),Nt&&Ta(n,s.treeForkCount),e):(Kt(n),null);case 22:case 23:return li(n),Qu(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(a&536870912)!==0&&(n.flags&128)===0&&(Kt(n),n.subtreeFlags&6&&(n.flags|=8192)):Kt(n),a=n.updateQueue,a!==null&&Dl(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==a&&(n.flags|=2048),e!==null&&ye(Ur),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),xa(hn),Kt(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function o0(e,n){switch(Ou(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xa(hn),Pe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ln(n),null;case 31:if(n.memoizedState!==null){if(li(n),n.alternate===null)throw Error(o(340));kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(li(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ye(cn),null;case 4:return Pe(),null;case 10:return xa(n.type),null;case 22:case 23:return li(n),Qu(),e!==null&&ye(Ur),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xa(hn),null;case 25:return null;default:return null}}function wp(e,n){switch(Ou(n),n.tag){case 3:xa(hn),Pe();break;case 26:case 27:case 5:ln(n);break;case 4:Pe();break;case 31:n.memoizedState!==null&&li(n);break;case 13:li(n);break;case 19:ye(cn);break;case 10:xa(n.type);break;case 22:case 23:li(n),Qu(),e!==null&&ye(Ur);break;case 24:xa(hn)}}function _s(e,n){try{var a=n.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var p=s.next;a=p;do{if((a.tag&e)===e){s=void 0;var y=a.create,N=a.inst;s=y(),N.destroy=s}a=a.next}while(a!==p)}}catch(R){Ut(n,n.return,R)}}function ir(e,n,a){try{var s=n.updateQueue,p=s!==null?s.lastEffect:null;if(p!==null){var y=p.next;s=y;do{if((s.tag&e)===e){var N=s.inst,R=N.destroy;if(R!==void 0){N.destroy=void 0,p=n;var U=a,ne=R;try{ne()}catch(he){Ut(p,U,he)}}}s=s.next}while(s!==y)}}catch(he){Ut(n,n.return,he)}}function Rp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{bf(n,a)}catch(s){Ut(e,e.return,s)}}}function Mp(e,n,a){a.props=zr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ut(e,n,s)}}function Is(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(p){Ut(e,n,p)}}function $i(e,n){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(p){Ut(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Ut(e,n,p)}else a.current=null}function Dp(e){var n=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(p){Ut(e,e.return,p)}}function Ic(e,n,a){try{var s=e.stateNode;I0(s,e.type,a,n),s[nn]=n}catch(p){Ut(e,e.return,p)}}function kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cr(e.type)||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,n,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Yn));else if(s!==4&&(s===27&&cr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Rc(e,n,a),e=e.sibling;e!==null;)Rc(e,n,a),e=e.sibling}function kl(e,n,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(s!==4&&(s===27&&cr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(kl(e,n,a),e=e.sibling;e!==null;)kl(e,n,a),e=e.sibling}function Pp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);On(n,s,a),n[Bt]=e,n[nn]=a}catch(y){Ut(e,e.return,y)}}var Ca=!1,vn=!1,Mc=!1,Op=typeof WeakSet=="function"?WeakSet:Set,In=null;function s0(e,n){if(e=e.containerInfo,Wc=eu,e=_(e),I(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var p=s.anchorOffset,y=s.focusNode;s=s.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var N=0,R=-1,U=-1,ne=0,he=0,be=e,re=null;t:for(;;){for(var oe;be!==a||p!==0&&be.nodeType!==3||(R=N+p),be!==y||s!==0&&be.nodeType!==3||(U=N+s),be.nodeType===3&&(N+=be.nodeValue.length),(oe=be.firstChild)!==null;)re=be,be=oe;for(;;){if(be===e)break t;if(re===a&&++ne===p&&(R=N),re===y&&++he===s&&(U=N),(oe=be.nextSibling)!==null)break;be=re,re=be.parentNode}be=oe}a=R===-1||U===-1?null:{start:R,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for($c={focusedElem:e,selectionRange:a},eu=!1,In=n;In!==null;)if(n=In,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,In=e;else for(;In!==null;){switch(n=In,y=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)p=e[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,a=n,p=y.memoizedProps,y=y.memoizedState,s=a.stateNode;try{var Fe=zr(a.type,p);e=s.getSnapshotBeforeUpdate(Fe,y),s.__reactInternalSnapshotBeforeUpdate=e}catch(tt){Ut(a,a.return,tt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)nd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,In=e;break}In=n.return}}function Up(e,n,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Ia(e,a),s&4&&_s(5,a);break;case 1:if(Ia(e,a),s&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(N){Ut(a,a.return,N)}else{var p=zr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){Ut(a,a.return,N)}}s&64&&Rp(a),s&512&&Is(a,a.return);break;case 3:if(Ia(e,a),s&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{bf(e,n)}catch(N){Ut(a,a.return,N)}}break;case 27:n===null&&s&4&&Pp(a);case 26:case 5:Ia(e,a),n===null&&s&4&&Dp(a),s&512&&Is(a,a.return);break;case 12:Ia(e,a);break;case 31:Ia(e,a),s&4&&qp(e,a);break;case 13:Ia(e,a),s&4&&Vp(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=g0.bind(null,a),U0(e,a))));break;case 22:if(s=a.memoizedState!==null||Ca,!s){n=n!==null&&n.memoizedState!==null||vn,p=Ca;var y=vn;Ca=s,(vn=n)&&!y?wa(e,a,(a.subtreeFlags&8772)!==0):Ia(e,a),Ca=p,vn=y}break;case 30:break;default:Ia(e,a)}}function Lp(e){var n=e.alternate;n!==null&&(e.alternate=null,Lp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ba(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xt=null,Zn=!1;function _a(e,n,a){for(a=a.child;a!==null;)Bp(e,n,a),a=a.sibling}function Bp(e,n,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(mi,a)}catch{}switch(a.tag){case 26:vn||$i(a,n),_a(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vn||$i(a,n);var s=Xt,p=Zn;cr(a.type)&&(Xt=a.stateNode,Zn=!1),_a(e,n,a),Ls(a.stateNode),Xt=s,Zn=p;break;case 5:vn||$i(a,n);case 6:if(s=Xt,p=Zn,Xt=null,_a(e,n,a),Xt=s,Zn=p,Xt!==null)if(Zn)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(a.stateNode)}catch(y){Ut(a,n,y)}else try{Xt.removeChild(a.stateNode)}catch(y){Ut(a,n,y)}break;case 18:Xt!==null&&(Zn?(e=Xt,Rm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Oo(e)):Rm(Xt,a.stateNode));break;case 4:s=Xt,p=Zn,Xt=a.stateNode.containerInfo,Zn=!0,_a(e,n,a),Xt=s,Zn=p;break;case 0:case 11:case 14:case 15:ir(2,a,n),vn||ir(4,a,n),_a(e,n,a);break;case 1:vn||($i(a,n),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Mp(a,n,s)),_a(e,n,a);break;case 21:_a(e,n,a);break;case 22:vn=(s=vn)||a.memoizedState!==null,_a(e,n,a),vn=s;break;default:_a(e,n,a)}}function qp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oo(e)}catch(a){Ut(n,n.return,a)}}}function Vp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oo(e)}catch(a){Ut(n,n.return,a)}}function l0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Op),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Op),n;default:throw Error(o(435,e.tag))}}function Pl(e,n){var a=l0(e);n.forEach(function(s){if(!a.has(s)){a.add(s);var p=y0.bind(null,e,s);s.then(p,p)}})}function Qn(e,n){var a=n.deletions;if(a!==null)for(var s=0;s<a.length;s++){var p=a[s],y=e,N=n,R=N;e:for(;R!==null;){switch(R.tag){case 27:if(cr(R.type)){Xt=R.stateNode,Zn=!1;break e}break;case 5:Xt=R.stateNode,Zn=!1;break e;case 3:case 4:Xt=R.stateNode.containerInfo,Zn=!0;break e}R=R.return}if(Xt===null)throw Error(o(160));Bp(y,N,p),Xt=null,Zn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)zp(n,e),n=n.sibling}var Bi=null;function zp(e,n){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qn(n,e),Xn(e),s&4&&(ir(3,e,e.return),_s(3,e),ir(5,e,e.return));break;case 1:Qn(n,e),Xn(e),s&512&&(vn||a===null||$i(a,a.return)),s&64&&Ca&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var p=Bi;if(Qn(n,e),Xn(e),s&512&&(vn||a===null||$i(a,a.return)),s&4){var y=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,p=p.ownerDocument||p;t:switch(s){case"title":y=p.getElementsByTagName("title")[0],(!y||y[zn]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(s),p.head.insertBefore(y,p.querySelector("head > title"))),On(y,s,a),y[Bt]=e,an(y),s=y;break e;case"link":var N=zm("link","href",p).get(s+(a.href||""));if(N){for(var R=0;R<N.length;R++)if(y=N[R],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(R,1);break t}}y=p.createElement(s),On(y,s,a),p.head.appendChild(y);break;case"meta":if(N=zm("meta","content",p).get(s+(a.content||""))){for(R=0;R<N.length;R++)if(y=N[R],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(R,1);break t}}y=p.createElement(s),On(y,s,a),p.head.appendChild(y);break;default:throw Error(o(468,s))}y[Bt]=e,an(y),s=y}e.stateNode=s}else Gm(p,e.type,e.stateNode);else e.stateNode=Vm(p,s,e.memoizedProps);else y!==s?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,s===null?Gm(p,e.type,e.stateNode):Vm(p,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Ic(e,e.memoizedProps,a.memoizedProps)}break;case 27:Qn(n,e),Xn(e),s&512&&(vn||a===null||$i(a,a.return)),a!==null&&s&4&&Ic(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Qn(n,e),Xn(e),s&512&&(vn||a===null||$i(a,a.return)),e.flags&32){p=e.stateNode;try{ua(p,"")}catch(Fe){Ut(e,e.return,Fe)}}s&4&&e.stateNode!=null&&(p=e.memoizedProps,Ic(e,p,a!==null?a.memoizedProps:p)),s&1024&&(Mc=!0);break;case 6:if(Qn(n,e),Xn(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(Fe){Ut(e,e.return,Fe)}}break;case 3:if(Ql=null,p=Bi,Bi=Kl(n.containerInfo),Qn(n,e),Bi=p,Xn(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Oo(n.containerInfo)}catch(Fe){Ut(e,e.return,Fe)}Mc&&(Mc=!1,Gp(e));break;case 4:s=Bi,Bi=Kl(e.stateNode.containerInfo),Qn(n,e),Xn(e),Bi=s;break;case 12:Qn(n,e),Xn(e);break;case 31:Qn(n,e),Xn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Pl(e,s)));break;case 13:Qn(n,e),Xn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ul=Ft()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Pl(e,s)));break;case 22:p=e.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,ne=Ca,he=vn;if(Ca=ne||p,vn=he||U,Qn(n,e),vn=he,Ca=ne,Xn(e),s&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(a===null||U||Ca||vn||Gr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){U=a=n;try{if(y=U.stateNode,p)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{R=U.stateNode;var be=U.memoizedProps.style,re=be!=null&&be.hasOwnProperty("display")?be.display:null;R.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Fe){Ut(U,U.return,Fe)}}}else if(n.tag===6){if(a===null){U=n;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(Fe){Ut(U,U.return,Fe)}}}else if(n.tag===18){if(a===null){U=n;try{var oe=U.stateNode;p?Mm(oe,!0):Mm(U.stateNode,!1)}catch(Fe){Ut(U,U.return,Fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Pl(e,a))));break;case 19:Qn(n,e),Xn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Pl(e,s)));break;case 30:break;case 21:break;default:Qn(n,e),Xn(e)}}function Xn(e){var n=e.flags;if(n&2){try{for(var a,s=e.return;s!==null;){if(kp(s)){a=s;break}s=s.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var p=a.stateNode,y=wc(e);kl(e,y,p);break;case 5:var N=a.stateNode;a.flags&32&&(ua(N,""),a.flags&=-33);var R=wc(e);kl(e,R,N);break;case 3:case 4:var U=a.stateNode.containerInfo,ne=wc(e);Rc(e,ne,U);break;default:throw Error(o(161))}}catch(he){Ut(e,e.return,he)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Gp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ia(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Up(e,n.alternate,n),n=n.sibling}function Gr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ir(4,n,n.return),Gr(n);break;case 1:$i(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Mp(n,n.return,a),Gr(n);break;case 27:Ls(n.stateNode);case 26:case 5:$i(n,n.return),Gr(n);break;case 22:n.memoizedState===null&&Gr(n);break;case 30:Gr(n);break;default:Gr(n)}e=e.sibling}}function wa(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,p=e,y=n,N=y.flags;switch(y.tag){case 0:case 11:case 15:wa(p,y,a),_s(4,y);break;case 1:if(wa(p,y,a),s=y,p=s.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ne){Ut(s,s.return,ne)}if(s=y,p=s.updateQueue,p!==null){var R=s.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)Tf(U[p],R)}catch(ne){Ut(s,s.return,ne)}}a&&N&64&&Rp(y),Is(y,y.return);break;case 27:Pp(y);case 26:case 5:wa(p,y,a),a&&s===null&&N&4&&Dp(y),Is(y,y.return);break;case 12:wa(p,y,a);break;case 31:wa(p,y,a),a&&N&4&&qp(p,y);break;case 13:wa(p,y,a),a&&N&4&&Vp(p,y);break;case 22:y.memoizedState===null&&wa(p,y,a),Is(y,y.return);break;case 30:break;default:wa(p,y,a)}n=n.sibling}}function Dc(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ms(a))}function kc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ms(e))}function qi(e,n,a,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hp(e,n,a,s),n=n.sibling}function Hp(e,n,a,s){var p=n.flags;switch(n.tag){case 0:case 11:case 15:qi(e,n,a,s),p&2048&&_s(9,n);break;case 1:qi(e,n,a,s);break;case 3:qi(e,n,a,s),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ms(e)));break;case 12:if(p&2048){qi(e,n,a,s),e=n.stateNode;try{var y=n.memoizedProps,N=y.id,R=y.onPostCommit;typeof R=="function"&&R(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Ut(n,n.return,U)}}else qi(e,n,a,s);break;case 31:qi(e,n,a,s);break;case 13:qi(e,n,a,s);break;case 23:break;case 22:y=n.stateNode,N=n.alternate,n.memoizedState!==null?y._visibility&2?qi(e,n,a,s):ws(e,n):y._visibility&2?qi(e,n,a,s):(y._visibility|=2,Ao(e,n,a,s,(n.subtreeFlags&10256)!==0||!1)),p&2048&&Dc(N,n);break;case 24:qi(e,n,a,s),p&2048&&kc(n.alternate,n);break;default:qi(e,n,a,s)}}function Ao(e,n,a,s,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var y=e,N=n,R=a,U=s,ne=N.flags;switch(N.tag){case 0:case 11:case 15:Ao(y,N,R,U,p),_s(8,N);break;case 23:break;case 22:var he=N.stateNode;N.memoizedState!==null?he._visibility&2?Ao(y,N,R,U,p):ws(y,N):(he._visibility|=2,Ao(y,N,R,U,p)),p&&ne&2048&&Dc(N.alternate,N);break;case 24:Ao(y,N,R,U,p),p&&ne&2048&&kc(N.alternate,N);break;default:Ao(y,N,R,U,p)}n=n.sibling}}function ws(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,s=n,p=s.flags;switch(s.tag){case 22:ws(a,s),p&2048&&Dc(s.alternate,s);break;case 24:ws(a,s),p&2048&&kc(s.alternate,s);break;default:ws(a,s)}n=n.sibling}}var Rs=8192;function No(e,n,a){if(e.subtreeFlags&Rs)for(e=e.child;e!==null;)Fp(e,n,a),e=e.sibling}function Fp(e,n,a){switch(e.tag){case 26:No(e,n,a),e.flags&Rs&&e.memoizedState!==null&&K0(a,Bi,e.memoizedState,e.memoizedProps);break;case 5:No(e,n,a);break;case 3:case 4:var s=Bi;Bi=Kl(e.stateNode.containerInfo),No(e,n,a),Bi=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Rs,Rs=16777216,No(e,n,a),Rs=s):No(e,n,a));break;default:No(e,n,a)}}function Jp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ms(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];In=s,Yp(s,e)}Jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jp(e),e=e.sibling}function jp(e){switch(e.tag){case 0:case 11:case 15:Ms(e),e.flags&2048&&ir(9,e,e.return);break;case 3:Ms(e);break;case 12:Ms(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ol(e)):Ms(e);break;default:Ms(e)}}function Ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];In=s,Yp(s,e)}Jp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ir(8,n,n.return),Ol(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ol(n));break;default:Ol(n)}e=e.sibling}}function Yp(e,n){for(;In!==null;){var a=In;switch(a.tag){case 0:case 11:case 15:ir(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ms(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,In=s;else e:for(a=e;In!==null;){s=In;var p=s.sibling,y=s.return;if(Lp(s),s===a){In=null;break e}if(p!==null){p.return=y,In=p;break e}In=y}}}var u0={getCacheForType:function(e){var n=kn(hn),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return kn(hn).controller.signal}},c0=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Gt=null,Tt=null,St=0,Ot=0,ui=null,ar=!1,Co=!1,Pc=!1,Ra=0,sn=0,rr=0,Hr=0,Oc=0,ci=0,_o=0,Ds=null,Wn=null,Uc=!1,Ul=0,Kp=0,Ll=1/0,Bl=null,or=null,xn=0,sr=null,Io=null,Ma=0,Lc=0,Bc=null,Zp=null,ks=0,qc=null;function di(){return(Dt&2)!==0&&St!==0?St&-St:ie.T!==null?Jc():oa()}function Qp(){if(ci===0)if((St&536870912)===0||Nt){var e=Vn;Vn<<=1,(Vn&3932160)===0&&(Vn=262144),ci=e}else ci=536870912;return e=si.current,e!==null&&(e.flags|=32),ci}function $n(e,n,a){(e===Gt&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)&&(wo(e,0),lr(e,St,ci,!1)),jn(e,a),((Dt&2)===0||e!==Gt)&&(e===Gt&&((Dt&2)===0&&(Hr|=a),sn===4&&lr(e,St,ci,!1)),ea(e))}function Xp(e,n,a){if((Dt&6)!==0)throw Error(o(327));var s=!a&&(n&127)===0&&(n&e.expiredLanes)===0||ki(e,n),p=s?p0(e,n):zc(e,n,!0),y=s;do{if(p===0){Co&&!s&&lr(e,n,0,!1);break}else{if(a=e.current.alternate,y&&!d0(a)){p=zc(e,n,!1),y=!1;continue}if(p===2){if(y=n,e.errorRecoveryDisabledLanes&y)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var R=e;p=Ds;var U=R.current.memoizedState.isDehydrated;if(U&&(wo(R,N).flags|=256),N=zc(R,N,!1),N!==2){if(Pc&&!U){R.errorRecoveryDisabledLanes|=y,Hr|=y,p=4;break e}y=Wn,Wn=p,y!==null&&(Wn===null?Wn=y:Wn.push.apply(Wn,y))}p=N}if(y=!1,p!==2)continue}}if(p===1){wo(e,0),lr(e,n,0,!0);break}e:{switch(s=e,y=p,y){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:lr(s,n,ci,!ar);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(p=Ul+300-Ft(),10<p)){if(lr(s,n,ci,!ar),aa(s,0,!0)!==0)break e;Ma=n,s.timeoutHandle=Im(Wp.bind(null,s,a,Wn,Bl,Uc,n,ci,Hr,_o,ar,y,"Throttled",-0,0),p);break e}Wp(s,a,Wn,Bl,Uc,n,ci,Hr,_o,ar,y,null,-0,0)}}break}while(!0);ea(e)}function Wp(e,n,a,s,p,y,N,R,U,ne,he,be,re,oe){if(e.timeoutHandle=-1,be=n.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Fp(n,y,be);var Fe=(y&62914560)===y?Ul-Ft():(y&4194048)===y?Kp-Ft():0;if(Fe=Z0(be,Fe),Fe!==null){Ma=y,e.cancelPendingCommit=Fe(om.bind(null,e,n,y,a,s,p,N,R,U,he,be,null,re,oe)),lr(e,y,N,!ne);return}}om(e,n,y,a,s,p,N,R,U)}function d0(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var p=a[s],y=p.getSnapshot;p=p.value;try{if(!Ln(y(),p))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(e,n,a,s){n&=~Oc,n&=~Hr,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var p=n;0<p;){var y=31-Be(p),N=1<<y;s[y]=-1,p&=~N}a!==0&&ra(e,a,n)}function ql(){return(Dt&6)===0?(Ps(0),!1):!0}function Vc(){if(Tt!==null){if(Ot===0)var e=Tt.return;else e=Tt,ba=Pr=null,nc(e),To=null,gs=0,e=Tt;for(;e!==null;)wp(e.alternate,e),e=e.return;Tt=null}}function wo(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,M0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ma=0,Vc(),Gt=e,Tt=a=va(e.current,null),St=n,Ot=0,ui=null,ar=!1,Co=ki(e,n),Pc=!1,_o=ci=Oc=Hr=rr=sn=0,Wn=Ds=null,Uc=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var p=31-Be(s),y=1<<p;n|=e[p],s&=~y}return Ra=n,_n(),a}function $p(e,n){mt=null,ie.H=As,n===vo||n===ml?(n=hf(),Ot=3):n===Fu?(n=hf(),Ot=4):Ot=n===vc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ui=n,Tt===null&&(sn=1,Il(e,Ei(n,e.current)))}function em(){var e=si.current;return e===null?!0:(St&4194048)===St?_i===null:(St&62914560)===St||(St&536870912)!==0?e===_i:!1}function tm(){var e=ie.H;return ie.H=As,e===null?As:e}function nm(){var e=ie.A;return ie.A=u0,e}function Vl(){sn=4,ar||(St&4194048)!==St&&si.current!==null||(Co=!0),(rr&134217727)===0&&(Hr&134217727)===0||Gt===null||lr(Gt,St,ci,!1)}function zc(e,n,a){var s=Dt;Dt|=2;var p=tm(),y=nm();(Gt!==e||St!==n)&&(Bl=null,wo(e,n)),n=!1;var N=sn;e:do try{if(Ot!==0&&Tt!==null){var R=Tt,U=ui;switch(Ot){case 8:Vc(),N=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(n=!0);var ne=Ot;if(Ot=0,ui=null,Ro(e,R,U,ne),a&&Co){N=0;break e}break;default:ne=Ot,Ot=0,ui=null,Ro(e,R,U,ne)}}f0(),N=sn;break}catch(he){$p(e,he)}while(!0);return n&&e.shellSuspendCounter++,ba=Pr=null,Dt=s,ie.H=p,ie.A=y,Tt===null&&(Gt=null,St=0,_n()),N}function f0(){for(;Tt!==null;)im(Tt)}function p0(e,n){var a=Dt;Dt|=2;var s=tm(),p=nm();Gt!==e||St!==n?(Bl=null,Ll=Ft()+500,wo(e,n)):Co=ki(e,n);e:do try{if(Ot!==0&&Tt!==null){n=Tt;var y=ui;t:switch(Ot){case 1:Ot=0,ui=null,Ro(e,n,y,1);break;case 2:case 9:if(pf(y)){Ot=0,ui=null,am(n);break}n=function(){Ot!==2&&Ot!==9||Gt!==e||(Ot=7),ea(e)},y.then(n,n);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:pf(y)?(Ot=0,ui=null,am(n)):(Ot=0,ui=null,Ro(e,n,y,7));break;case 5:var N=null;switch(Tt.tag){case 26:N=Tt.memoizedState;case 5:case 27:var R=Tt;if(N?Hm(N):R.stateNode.complete){Ot=0,ui=null;var U=R.sibling;if(U!==null)Tt=U;else{var ne=R.return;ne!==null?(Tt=ne,zl(ne)):Tt=null}break t}}Ot=0,ui=null,Ro(e,n,y,5);break;case 6:Ot=0,ui=null,Ro(e,n,y,6);break;case 8:Vc(),sn=6;break e;default:throw Error(o(462))}}m0();break}catch(he){$p(e,he)}while(!0);return ba=Pr=null,ie.H=s,ie.A=p,Dt=a,Tt!==null?0:(Gt=null,St=0,_n(),sn)}function m0(){for(;Tt!==null&&!en();)im(Tt)}function im(e){var n=_p(e.alternate,e,Ra);e.memoizedProps=e.pendingProps,n===null?zl(e):Tt=n}function am(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=xp(a,n,n.pendingProps,n.type,void 0,St);break;case 11:n=xp(a,n,n.pendingProps,n.type.render,n.ref,St);break;case 5:nc(n);default:wp(a,n),n=Tt=tf(n,Ra),n=_p(a,n,Ra)}e.memoizedProps=e.pendingProps,n===null?zl(e):Tt=n}function Ro(e,n,a,s){ba=Pr=null,nc(n),To=null,gs=0;var p=n.return;try{if(n0(e,p,n,a,St)){sn=1,Il(e,Ei(a,e.current)),Tt=null;return}}catch(y){if(p!==null)throw Tt=p,y;sn=1,Il(e,Ei(a,e.current)),Tt=null;return}n.flags&32768?(Nt||s===1?e=!0:Co||(St&536870912)!==0?e=!1:(ar=e=!0,(s===2||s===9||s===3||s===6)&&(s=si.current,s!==null&&s.tag===13&&(s.flags|=16384))),rm(n,e)):zl(n)}function zl(e){var n=e;do{if((n.flags&32768)!==0){rm(n,ar);return}e=n.return;var a=r0(n.alternate,n,Ra);if(a!==null){Tt=a;return}if(n=n.sibling,n!==null){Tt=n;return}Tt=n=e}while(n!==null);sn===0&&(sn=5)}function rm(e,n){do{var a=o0(e.alternate,e);if(a!==null){a.flags&=32767,Tt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Tt=e;return}Tt=e=a}while(e!==null);sn=6,Tt=null}function om(e,n,a,s,p,y,N,R,U){e.cancelPendingCommit=null;do Gl();while(xn!==0);if((Dt&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(y=n.lanes|n.childLanes,y|=pt,yr(e,a,y,N,R,U),e===Gt&&(Tt=Gt=null,St=0),Io=n,sr=e,Ma=a,Lc=y,Bc=p,Zp=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,v0(ti,function(){return dm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=ie.T,ie.T=null,p=Se.p,Se.p=2,N=Dt,Dt|=4;try{s0(e,n,a)}finally{Dt=N,Se.p=p,ie.T=s}}xn=1,sm(),lm(),um()}}function sm(){if(xn===1){xn=0;var e=sr,n=Io,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=ie.T,ie.T=null;var s=Se.p;Se.p=2;var p=Dt;Dt|=4;try{zp(n,e);var y=$c,N=_(e.containerInfo),R=y.focusedElem,U=y.selectionRange;if(N!==R&&R&&R.ownerDocument&&A(R.ownerDocument.documentElement,R)){if(U!==null&&I(R)){var ne=U.start,he=U.end;if(he===void 0&&(he=ne),"selectionStart"in R)R.selectionStart=ne,R.selectionEnd=Math.min(he,R.value.length);else{var be=R.ownerDocument||document,re=be&&be.defaultView||window;if(re.getSelection){var oe=re.getSelection(),Fe=R.textContent.length,tt=Math.min(U.start,Fe),zt=U.end===void 0?tt:Math.min(U.end,Fe);!oe.extend&&tt>zt&&(N=zt,zt=tt,tt=N);var W=S(R,tt),H=S(R,zt);if(W&&H&&(oe.rangeCount!==1||oe.anchorNode!==W.node||oe.anchorOffset!==W.offset||oe.focusNode!==H.node||oe.focusOffset!==H.offset)){var te=be.createRange();te.setStart(W.node,W.offset),oe.removeAllRanges(),tt>zt?(oe.addRange(te),oe.extend(H.node,H.offset)):(te.setEnd(H.node,H.offset),oe.addRange(te))}}}}for(be=[],oe=R;oe=oe.parentNode;)oe.nodeType===1&&be.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<be.length;R++){var ve=be[R];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}eu=!!Wc,$c=Wc=null}finally{Dt=p,Se.p=s,ie.T=a}}e.current=n,xn=2}}function lm(){if(xn===2){xn=0;var e=sr,n=Io,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=ie.T,ie.T=null;var s=Se.p;Se.p=2;var p=Dt;Dt|=4;try{Up(e,n.alternate,n)}finally{Dt=p,Se.p=s,ie.T=a}}xn=3}}function um(){if(xn===4||xn===3){xn=0,wn();var e=sr,n=Io,a=Ma,s=Zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xn=5:(xn=0,Io=sr=null,cm(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(or=null),Fi(a),n=n.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(mi,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=ie.T,p=Se.p,Se.p=2,ie.T=null;try{for(var y=e.onRecoverableError,N=0;N<s.length;N++){var R=s[N];y(R.value,{componentStack:R.stack})}}finally{ie.T=n,Se.p=p}}(Ma&3)!==0&&Gl(),ea(e),p=e.pendingLanes,(a&261930)!==0&&(p&42)!==0?e===qc?ks++:(ks=0,qc=e):ks=0,Ps(0)}}function cm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ms(n)))}function Gl(){return sm(),lm(),um(),dm()}function dm(){if(xn!==5)return!1;var e=sr,n=Lc;Lc=0;var a=Fi(Ma),s=ie.T,p=Se.p;try{Se.p=32>a?32:a,ie.T=null,a=Bc,Bc=null;var y=sr,N=Ma;if(xn=0,Io=sr=null,Ma=0,(Dt&6)!==0)throw Error(o(331));var R=Dt;if(Dt|=4,jp(y.current),Hp(y,y.current,N,a),Dt=R,Ps(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(mi,y)}catch{}return!0}finally{Se.p=p,ie.T=s,cm(e,n)}}function fm(e,n,a){n=Ei(a,n),n=yc(e.stateNode,n,2),e=er(e,n,2),e!==null&&(jn(e,2),ea(e))}function Ut(e,n,a){if(e.tag===3)fm(e,e,a);else for(;n!==null;){if(n.tag===3){fm(n,e,a);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(or===null||!or.has(s))){e=Ei(a,e),a=pp(2),s=er(n,a,2),s!==null&&(mp(a,s,n,e),jn(s,2),ea(s));break}}n=n.return}}function Gc(e,n,a){var s=e.pingCache;if(s===null){s=e.pingCache=new c0;var p=new Set;s.set(n,p)}else p=s.get(n),p===void 0&&(p=new Set,s.set(n,p));p.has(a)||(Pc=!0,p.add(a),e=h0.bind(null,e,n,a),n.then(e,e))}function h0(e,n,a){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Gt===e&&(St&a)===a&&(sn===4||sn===3&&(St&62914560)===St&&300>Ft()-Ul?(Dt&2)===0&&wo(e,0):Oc|=a,_o===St&&(_o=0)),ea(e)}function pm(e,n){n===0&&(n=jr()),e=Qt(e,n),e!==null&&(jn(e,n),ea(e))}function g0(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),pm(e,a)}function y0(e,n){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(n),pm(e,a)}function v0(e,n){return un(e,n)}var Hl=null,Mo=null,Hc=!1,Fl=!1,Fc=!1,ur=0;function ea(e){e!==Mo&&e.next===null&&(Mo===null?Hl=Mo=e:Mo=Mo.next=e),Fl=!0,Hc||(Hc=!0,b0())}function Ps(e,n){if(!Fc&&Fl){Fc=!0;do for(var a=!1,s=Hl;s!==null;){if(e!==0){var p=s.pendingLanes;if(p===0)var y=0;else{var N=s.suspendedLanes,R=s.pingedLanes;y=(1<<31-Be(42|e)+1)-1,y&=p&~(N&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,ym(s,y))}else y=St,y=aa(s,s===Gt?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(y&3)===0||ki(s,y)||(a=!0,ym(s,y));s=s.next}while(a);Fc=!1}}function T0(){mm()}function mm(){Fl=Hc=!1;var e=0;ur!==0&&R0()&&(e=ur);for(var n=Ft(),a=null,s=Hl;s!==null;){var p=s.next,y=hm(s,n);y===0?(s.next=null,a===null?Hl=p:a.next=p,p===null&&(Mo=a)):(a=s,(e!==0||(y&3)!==0)&&(Fl=!0)),s=p}xn!==0&&xn!==5||Ps(e),ur!==0&&(ur=0)}function hm(e,n){for(var a=e.suspendedLanes,s=e.pingedLanes,p=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var N=31-Be(y),R=1<<N,U=p[N];U===-1?((R&a)===0||(R&s)!==0)&&(p[N]=jo(R,n)):U<=n&&(e.expiredLanes|=R),y&=~R}if(n=Gt,a=St,a=aa(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===n&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&yt(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ki(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(s!==null&&yt(s),Fi(a)){case 2:case 8:a=pi;break;case 32:a=ti;break;case 268435456:a=Di;break;default:a=ti}return s=gm.bind(null,e),a=un(a,s),e.callbackPriority=n,e.callbackNode=a,n}return s!==null&&s!==null&&yt(s),e.callbackPriority=2,e.callbackNode=null,2}function gm(e,n){if(xn!==0&&xn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Gl()&&e.callbackNode!==a)return null;var s=St;return s=aa(e,e===Gt?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Xp(e,s,n),hm(e,Ft()),e.callbackNode!=null&&e.callbackNode===a?gm.bind(null,e):null)}function ym(e,n){if(Gl())return null;Xp(e,n,!0)}function b0(){D0(function(){(Dt&6)!==0?un(Tn,T0):mm()})}function Jc(){if(ur===0){var e=go;e===0&&(e=Oe,Oe<<=1,(Oe&261888)===0&&(Oe=256)),ur=e}return ur}function vm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Li(""+e)}function Tm(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function x0(e,n,a,s,p){if(n==="submit"&&a&&a.stateNode===p){var y=vm((p[nn]||null).action),N=s.submitter;N&&(n=(n=N[nn]||null)?vm(n.formAction):N.getAttribute("formAction"),n!==null&&(y=n,N=null));var R=new Qr("action","action",null,s,p);e.push({event:R,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ur!==0){var U=N?Tm(p,N):new FormData(p);dc(a,{pending:!0,data:U,method:p.method,action:y},null,U)}}else typeof y=="function"&&(R.preventDefault(),U=N?Tm(p,N):new FormData(p),dc(a,{pending:!0,data:U,method:p.method,action:y},y,U))},currentTarget:p}]})}}for(var jc=0;jc<ke.length;jc++){var Yc=ke[jc],S0=Yc.toLowerCase(),E0=Yc[0].toUpperCase()+Yc.slice(1);Ne(S0,"on"+E0)}Ne(ee,"onAnimationEnd"),Ne(ae,"onAnimationIteration"),Ne(ue,"onAnimationStart"),Ne("dblclick","onDoubleClick"),Ne("focusin","onFocus"),Ne("focusout","onBlur"),Ne(Te,"onTransitionRun"),Ne(_e,"onTransitionStart"),Ne(Ue,"onTransitionCancel"),Ne(Ae,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Os));function bm(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],p=s.event;s=s.listeners;e:{var y=void 0;if(n)for(var N=s.length-1;0<=N;N--){var R=s[N],U=R.instance,ne=R.currentTarget;if(R=R.listener,U!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=ne;try{y(p)}catch(he){ze(he)}p.currentTarget=null,y=U}else for(N=0;N<s.length;N++){if(R=s[N],U=R.instance,ne=R.currentTarget,R=R.listener,U!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=ne;try{y(p)}catch(he){ze(he)}p.currentTarget=null,y=U}}}}function bt(e,n){var a=n[Ji];a===void 0&&(a=n[Ji]=new Set);var s=e+"__bubble";a.has(s)||(xm(n,e,2,!1),a.add(s))}function Kc(e,n,a){var s=0;n&&(s|=4),xm(a,e,s,n)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[Jl]){e[Jl]=!0,Pi.forEach(function(a){a!=="selectionchange"&&(A0.has(a)||Kc(a,!1,e),Kc(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Jl]||(n[Jl]=!0,Kc("selectionchange",!1,n))}}function xm(e,n,a,s){switch(Qm(n)){case 2:var p=W0;break;case 8:p=$0;break;default:p=cd}a=p.bind(null,n,a,e),p=void 0,!Xo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),s?p!==void 0?e.addEventListener(n,a,{capture:!0,passive:p}):e.addEventListener(n,a,!0):p!==void 0?e.addEventListener(n,a,{passive:p}):e.addEventListener(n,a,!1)}function Qc(e,n,a,s,p){var y=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var N=s.tag;if(N===3||N===4){var R=s.stateNode.containerInfo;if(R===p)break;if(N===4)for(N=s.return;N!==null;){var U=N.tag;if((U===3||U===4)&&N.stateNode.containerInfo===p)return;N=N.return}for(;R!==null;){if(N=vi(R),N===null)return;if(U=N.tag,U===5||U===6||U===26||U===27){s=y=N;continue e}R=R.parentNode}}s=s.return}qa(function(){var ne=y,he=Kr(a),be=[];e:{var re=Re.get(e);if(re!==void 0){var oe=Qr,Fe=e;switch(e){case"keypress":if(Ga(a)===0)break e;case"keydown":case"keyup":oe=io;break;case"focusin":Fe="focus",oe=Ha;break;case"focusout":Fe="blur",oe=Ha;break;case"beforeblur":case"afterblur":oe=Ha;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=$r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Ws;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=as;break;case ee:case ae:case ue:oe=$s;break;case Ae:oe=rs;break;case"scroll":case"scrollend":oe=Xr;break;case"wheel":oe=ro;break;case"copy":case"cut":case"paste":oe=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=is;break;case"toggle":case"beforetoggle":oe=nl}var tt=(n&4)!==0,zt=!tt&&(e==="scroll"||e==="scrollend"),W=tt?re!==null?re+"Capture":null:re;tt=[];for(var H=ne,te;H!==null;){var ve=H;if(te=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||te===null||W===null||(ve=fa(H,W),ve!=null&&tt.push(Us(H,ve,te))),zt)break;H=H.return}0<tt.length&&(re=new oe(re,Fe,null,a,he),be.push({event:re,listeners:tt}))}}if((n&7)===0){e:{if(re=e==="mouseover"||e==="pointerover",oe=e==="mouseout"||e==="pointerout",re&&a!==bi&&(Fe=a.relatedTarget||a.fromElement)&&(vi(Fe)||Fe[Rn]))break e;if((oe||re)&&(re=he.window===he?he:(re=he.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(Fe=a.relatedTarget||a.toElement,oe=ne,Fe=Fe?vi(Fe):null,Fe!==null&&(zt=c(Fe),tt=Fe.tag,Fe!==zt||tt!==5&&tt!==27&&tt!==6)&&(Fe=null)):(oe=null,Fe=ne),oe!==Fe)){if(tt=$r,ve="onMouseLeave",W="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(tt=is,ve="onPointerLeave",W="onPointerEnter",H="pointer"),zt=oe==null?re:Gn(oe),te=Fe==null?re:Gn(Fe),re=new tt(ve,H+"leave",oe,a,he),re.target=zt,re.relatedTarget=te,ve=null,vi(he)===ne&&(tt=new tt(W,H+"enter",Fe,a,he),tt.target=te,tt.relatedTarget=zt,ve=tt),zt=ve,oe&&Fe)t:{for(tt=N0,W=oe,H=Fe,te=0,ve=W;ve;ve=tt(ve))te++;ve=0;for(var $e=H;$e;$e=tt($e))ve++;for(;0<te-ve;)W=tt(W),te--;for(;0<ve-te;)H=tt(H),ve--;for(;te--;){if(W===H||H!==null&&W===H.alternate){tt=W;break t}W=tt(W),H=tt(H)}tt=null}else tt=null;oe!==null&&Sm(be,re,oe,tt,!1),Fe!==null&&zt!==null&&Sm(be,zt,Fe,tt,!0)}}e:{if(re=ne?Gn(ne):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var _t=Rr;else if(lo(re))if(Si)_t=Ya;else{_t=ya;var Ze=ll}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&Qo(ne.elementType)&&(_t=Rr):_t=cs;if(_t&&(_t=_t(e,ne))){us(be,_t,a,he);break e}Ze&&Ze(e,re,ne),e==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&Sr(re,"number",re.value)}switch(Ze=ne?Gn(ne):window,e){case"focusin":(lo(Ze)||Ze.contentEditable==="true")&&(O=Ze,q=ne,V=null);break;case"focusout":V=q=O=null;break;case"mousedown":Z=!0;break;case"contextmenu":case"mouseup":case"dragend":Z=!1,L(be,a,he);break;case"selectionchange":if(D)break;case"keydown":case"keyup":L(be,a,he)}var ht;if(Ir)e:{switch(e){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else ga?ls(e,a)&&(Et="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Et="onCompositionStart");Et&&(oo&&a.locale!=="ko"&&(ga||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&ga&&(ht=za()):(xi=he,Zr="value"in xi?xi.value:xi.textContent,ga=!0)),Ze=jl(ne,Et),0<Ze.length&&(Et=new no(Et,e,null,a,he),be.push({event:Et,listeners:Ze}),ht?Et.data=ht:(ht=al(a),ht!==null&&(Et.data=ht)))),(ht=Iu?rl(e,a):wu(e,a))&&(Et=jl(ne,"onBeforeInput"),0<Et.length&&(Ze=new no("onBeforeInput","beforeinput",null,a,he),be.push({event:Ze,listeners:Et}),Ze.data=ht)),x0(be,e,ne,a,he)}bm(be,n)})}function Us(e,n,a){return{instance:e,listener:n,currentTarget:a}}function jl(e,n){for(var a=n+"Capture",s=[];e!==null;){var p=e,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=fa(e,a),p!=null&&s.unshift(Us(e,p,y)),p=fa(e,n),p!=null&&s.push(Us(e,p,y))),e.tag===3)return s;e=e.return}return[]}function N0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sm(e,n,a,s,p){for(var y=n._reactName,N=[];a!==null&&a!==s;){var R=a,U=R.alternate,ne=R.stateNode;if(R=R.tag,U!==null&&U===s)break;R!==5&&R!==26&&R!==27||ne===null||(U=ne,p?(ne=fa(a,y),ne!=null&&N.unshift(Us(a,ne,U))):p||(ne=fa(a,y),ne!=null&&N.push(Us(a,ne,U)))),a=a.return}N.length!==0&&e.push({event:n,listeners:N})}var C0=/\r\n?/g,_0=/\u0000|\uFFFD/g;function Em(e){return(typeof e=="string"?e:""+e).replace(C0,`
`).replace(_0,"")}function Am(e,n){return n=Em(n),Em(e)===n}function Vt(e,n,a,s,p,y){switch(a){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||ua(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&ua(e,""+s);break;case"className":En(e,"class",s);break;case"tabIndex":En(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":En(e,a,s);break;case"style":Zo(e,s,y);break;case"data":if(n!=="object"){En(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Li(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(n!=="input"&&Vt(e,n,"name",p.name,p,null),Vt(e,n,"formEncType",p.formEncType,p,null),Vt(e,n,"formMethod",p.formMethod,p,null),Vt(e,n,"formTarget",p.formTarget,p,null)):(Vt(e,n,"encType",p.encType,p,null),Vt(e,n,"method",p.method,p,null),Vt(e,n,"target",p.target,p,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Li(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Yn);break;case"onScroll":s!=null&&bt("scroll",e);break;case"onScrollEnd":s!=null&&bt("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(p.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Li(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":bt("beforetoggle",e),bt("toggle",e),Ke(e,"popover",s);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ke(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nu.get(a)||a,Ke(e,a,s))}}function Xc(e,n,a,s,p,y){switch(a){case"style":Zo(e,s,y);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(p.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof s=="string"?ua(e,s):(typeof s=="number"||typeof s=="bigint")&&ua(e,""+s);break;case"onScroll":s!=null&&bt("scroll",e);break;case"onScrollEnd":s!=null&&bt("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),n=a.slice(2,p?a.length-7:void 0),y=e[nn]||null,y=y!=null?y[a]:null,typeof y=="function"&&e.removeEventListener(n,y,p),typeof s=="function")){typeof y!="function"&&y!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,s,p);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ke(e,a,s)}}}function On(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",e),bt("load",e);var s=!1,p=!1,y;for(y in a)if(a.hasOwnProperty(y)){var N=a[y];if(N!=null)switch(y){case"src":s=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Vt(e,n,y,N,a,null)}}p&&Vt(e,n,"srcSet",a.srcSet,a,null),s&&Vt(e,n,"src",a.src,a,null);return;case"input":bt("invalid",e);var R=y=N=p=null,U=null,ne=null;for(s in a)if(a.hasOwnProperty(s)){var he=a[s];if(he!=null)switch(s){case"name":p=he;break;case"type":N=he;break;case"checked":U=he;break;case"defaultChecked":ne=he;break;case"value":y=he;break;case"defaultValue":R=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(o(137,n));break;default:Vt(e,n,s,he,a,null)}}Yr(e,y,R,U,ne,N,p,!1);return;case"select":bt("invalid",e),s=N=y=null;for(p in a)if(a.hasOwnProperty(p)&&(R=a[p],R!=null))switch(p){case"value":y=R;break;case"defaultValue":N=R;break;case"multiple":s=R;default:Vt(e,n,p,R,a,null)}n=y,a=N,e.multiple=!!s,n!=null?Ui(e,!!s,n,!1):a!=null&&Ui(e,!!s,a,!0);return;case"textarea":bt("invalid",e),y=p=s=null;for(N in a)if(a.hasOwnProperty(N)&&(R=a[N],R!=null))switch(N){case"value":s=R;break;case"defaultValue":p=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(o(91));break;default:Vt(e,n,N,R,a,null)}Er(e,s,p,y);return;case"option":for(U in a)if(a.hasOwnProperty(U)&&(s=a[U],s!=null))switch(U){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Vt(e,n,U,s,a,null)}return;case"dialog":bt("beforetoggle",e),bt("toggle",e),bt("cancel",e),bt("close",e);break;case"iframe":case"object":bt("load",e);break;case"video":case"audio":for(s=0;s<Os.length;s++)bt(Os[s],e);break;case"image":bt("error",e),bt("load",e);break;case"details":bt("toggle",e);break;case"embed":case"source":case"link":bt("error",e),bt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in a)if(a.hasOwnProperty(ne)&&(s=a[ne],s!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Vt(e,n,ne,s,a,null)}return;default:if(Qo(n)){for(he in a)a.hasOwnProperty(he)&&(s=a[he],s!==void 0&&Xc(e,n,he,s,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(s=a[R],s!=null&&Vt(e,n,R,s,a,null))}function I0(e,n,a,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,N=null,R=null,U=null,ne=null,he=null;for(oe in a){var be=a[oe];if(a.hasOwnProperty(oe)&&be!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":U=be;default:s.hasOwnProperty(oe)||Vt(e,n,oe,null,s,be)}}for(var re in s){var oe=s[re];if(be=a[re],s.hasOwnProperty(re)&&(oe!=null||be!=null))switch(re){case"type":y=oe;break;case"name":p=oe;break;case"checked":ne=oe;break;case"defaultChecked":he=oe;break;case"value":N=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(o(137,n));break;default:oe!==be&&Vt(e,n,re,oe,s,be)}}Yi(e,N,R,U,ne,he,y,p);return;case"select":oe=N=R=re=null;for(y in a)if(U=a[y],a.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":oe=U;default:s.hasOwnProperty(y)||Vt(e,n,y,null,s,U)}for(p in s)if(y=s[p],U=a[p],s.hasOwnProperty(p)&&(y!=null||U!=null))switch(p){case"value":re=y;break;case"defaultValue":R=y;break;case"multiple":N=y;default:y!==U&&Vt(e,n,p,y,s,U)}n=R,a=N,s=oe,re!=null?Ui(e,!!a,re,!1):!!s!=!!a&&(n!=null?Ui(e,!!a,n,!0):Ui(e,!!a,a?[]:"",!1));return;case"textarea":oe=re=null;for(R in a)if(p=a[R],a.hasOwnProperty(R)&&p!=null&&!s.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Vt(e,n,R,null,s,p)}for(N in s)if(p=s[N],y=a[N],s.hasOwnProperty(N)&&(p!=null||y!=null))switch(N){case"value":re=p;break;case"defaultValue":oe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==y&&Vt(e,n,N,p,s,y)}Ko(e,re,oe);return;case"option":for(var Fe in a)if(re=a[Fe],a.hasOwnProperty(Fe)&&re!=null&&!s.hasOwnProperty(Fe))switch(Fe){case"selected":e.selected=!1;break;default:Vt(e,n,Fe,null,s,re)}for(U in s)if(re=s[U],oe=a[U],s.hasOwnProperty(U)&&re!==oe&&(re!=null||oe!=null))switch(U){case"selected":e.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Vt(e,n,U,re,s,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in a)re=a[tt],a.hasOwnProperty(tt)&&re!=null&&!s.hasOwnProperty(tt)&&Vt(e,n,tt,null,s,re);for(ne in s)if(re=s[ne],oe=a[ne],s.hasOwnProperty(ne)&&re!==oe&&(re!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(o(137,n));break;default:Vt(e,n,ne,re,s,oe)}return;default:if(Qo(n)){for(var zt in a)re=a[zt],a.hasOwnProperty(zt)&&re!==void 0&&!s.hasOwnProperty(zt)&&Xc(e,n,zt,void 0,s,re);for(he in s)re=s[he],oe=a[he],!s.hasOwnProperty(he)||re===oe||re===void 0&&oe===void 0||Xc(e,n,he,re,s,oe);return}}for(var W in a)re=a[W],a.hasOwnProperty(W)&&re!=null&&!s.hasOwnProperty(W)&&Vt(e,n,W,null,s,re);for(be in s)re=s[be],oe=a[be],!s.hasOwnProperty(be)||re===oe||re==null&&oe==null||Vt(e,n,be,re,s,oe)}function Nm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var p=a[s],y=p.transferSize,N=p.initiatorType,R=p.duration;if(y&&R&&Nm(N)){for(N=0,R=p.responseEnd,s+=1;s<a.length;s++){var U=a[s],ne=U.startTime;if(ne>R)break;var he=U.transferSize,be=U.initiatorType;he&&Nm(be)&&(U=U.responseEnd,N+=he*(U<R?1:(R-ne)/(U-ne)))}if(--s,n+=8*(y+N)/(p.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wc=null,$c=null;function Yl(e){return e.nodeType===9?e:e.ownerDocument}function Cm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _m(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var td=null;function R0(){var e=window.event;return e&&e.type==="popstate"?e===td?!1:(td=e,!0):(td=null,!1)}var Im=typeof setTimeout=="function"?setTimeout:void 0,M0=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,D0=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(e){return wm.resolve(null).then(e).catch(k0)}:Im;function k0(e){setTimeout(function(){throw e})}function cr(e){return e==="head"}function Rm(e,n){var a=n,s=0;do{var p=a.nextSibling;if(e.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(p),Oo(n);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Ls(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ls(a);for(var y=a.firstChild;y;){var N=y.nextSibling,R=y.nodeName;y[zn]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=N}}else a==="body"&&Ls(e.ownerDocument.body);a=p}while(a);Oo(n)}function Mm(e,n){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function nd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nd(a),Ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function P0(e,n,a,s){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[zn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Ii(e.nextSibling),e===null)break}return null}function O0(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ii(e.nextSibling),e===null))return null;return e}function Dm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ii(e.nextSibling),e===null))return null;return e}function id(e){return e.data==="$?"||e.data==="$~"}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function U0(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var s=function(){n(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ii(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var rd=null;function km(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Ii(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function Pm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Om(e,n,a){switch(n=Yl(a),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Ls(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ba(e)}var wi=new Map,Um=new Set;function Kl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Da=Se.d;Se.d={f:L0,r:B0,D:q0,C:V0,L:z0,m:G0,X:F0,S:H0,M:J0};function L0(){var e=Da.f(),n=ql();return e||n}function B0(e){var n=kt(e);n!==null&&n.tag===5&&n.type==="form"?$f(n):Da.r(e)}var Do=typeof document>"u"?null:document;function Lm(e,n,a){var s=Do;if(s&&typeof n=="string"&&n){var p=An(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),Um.has(p)||(Um.add(p),e={rel:e,crossOrigin:a,href:n},s.querySelector(p)===null&&(n=s.createElement("link"),On(n,"link",e),an(n),s.head.appendChild(n)))}}function q0(e){Da.D(e),Lm("dns-prefetch",e,null)}function V0(e,n){Da.C(e,n),Lm("preconnect",e,n)}function z0(e,n,a){Da.L(e,n,a);var s=Do;if(s&&e&&n){var p='link[rel="preload"][as="'+An(n)+'"]';n==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+An(a.imageSizes)+'"]')):p+='[href="'+An(e)+'"]';var y=p;switch(n){case"style":y=ko(e);break;case"script":y=Po(e)}wi.has(y)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),wi.set(y,e),s.querySelector(p)!==null||n==="style"&&s.querySelector(Bs(y))||n==="script"&&s.querySelector(qs(y))||(n=s.createElement("link"),On(n,"link",e),an(n),s.head.appendChild(n)))}}function G0(e,n){Da.m(e,n);var a=Do;if(a&&e){var s=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+An(s)+'"][href="'+An(e)+'"]',y=p;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Po(e)}if(!wi.has(y)&&(e=E({rel:"modulepreload",href:e},n),wi.set(y,e),a.querySelector(p)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(qs(y)))return}s=a.createElement("link"),On(s,"link",e),an(s),a.head.appendChild(s)}}}function H0(e,n,a){Da.S(e,n,a);var s=Do;if(s&&e){var p=Sn(s).hoistableStyles,y=ko(e);n=n||"default";var N=p.get(y);if(!N){var R={loading:0,preload:null};if(N=s.querySelector(Bs(y)))R.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=wi.get(y))&&od(e,a);var U=N=s.createElement("link");an(U),On(U,"link",e),U._p=new Promise(function(ne,he){U.onload=ne,U.onerror=he}),U.addEventListener("load",function(){R.loading|=1}),U.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Zl(N,n,s)}N={type:"stylesheet",instance:N,count:1,state:R},p.set(y,N)}}}function F0(e,n){Da.X(e,n);var a=Do;if(a&&e){var s=Sn(a).hoistableScripts,p=Po(e),y=s.get(p);y||(y=a.querySelector(qs(p)),y||(e=E({src:e,async:!0},n),(n=wi.get(p))&&sd(e,n),y=a.createElement("script"),an(y),On(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(p,y))}}function J0(e,n){Da.M(e,n);var a=Do;if(a&&e){var s=Sn(a).hoistableScripts,p=Po(e),y=s.get(p);y||(y=a.querySelector(qs(p)),y||(e=E({src:e,async:!0,type:"module"},n),(n=wi.get(p))&&sd(e,n),y=a.createElement("script"),an(y),On(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(p,y))}}function Bm(e,n,a,s){var p=(p=rt.current)?Kl(p):null;if(!p)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ko(a.href),a=Sn(p).hoistableStyles,s=a.get(n),s||(s={type:"style",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ko(a.href);var y=Sn(p).hoistableStyles,N=y.get(e);if(N||(p=p.ownerDocument||p,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,N),(y=p.querySelector(Bs(e)))&&!y._p&&(N.instance=y,N.state.loading=5),wi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wi.set(e,a),y||j0(p,e,a,N.state))),n&&s===null)throw Error(o(528,""));return N}if(n&&s!==null)throw Error(o(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Po(a),a=Sn(p).hoistableScripts,s=a.get(n),s||(s={type:"script",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ko(e){return'href="'+An(e)+'"'}function Bs(e){return'link[rel="stylesheet"]['+e+"]"}function qm(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function j0(e,n,a,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),On(n,"link",a),an(n),e.head.appendChild(n))}function Po(e){return'[src="'+An(e)+'"]'}function qs(e){return"script[async]"+e}function Vm(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+An(a.href)+'"]');if(s)return n.instance=s,an(s),s;var p=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),an(s),On(s,"style",p),Zl(s,a.precedence,e),n.instance=s;case"stylesheet":p=ko(a.href);var y=e.querySelector(Bs(p));if(y)return n.state.loading|=4,n.instance=y,an(y),y;s=qm(a),(p=wi.get(p))&&od(s,p),y=(e.ownerDocument||e).createElement("link"),an(y);var N=y;return N._p=new Promise(function(R,U){N.onload=R,N.onerror=U}),On(y,"link",s),n.state.loading|=4,Zl(y,a.precedence,e),n.instance=y;case"script":return y=Po(a.src),(p=e.querySelector(qs(y)))?(n.instance=p,an(p),p):(s=a,(p=wi.get(y))&&(s=E({},a),sd(s,p)),e=e.ownerDocument||e,p=e.createElement("script"),an(p),On(p,"link",s),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Zl(s,a.precedence,e));return n.instance}function Zl(e,n,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=s.length?s[s.length-1]:null,y=p,N=0;N<s.length;N++){var R=s[N];if(R.dataset.precedence===n)y=R;else if(y!==p)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ql=null;function zm(e,n,a){if(Ql===null){var s=new Map,p=Ql=new Map;p.set(a,s)}else p=Ql,s=p.get(a),s||(s=new Map,p.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var y=a[p];if(!(y[zn]||y[Bt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(n)||"";N=e+N;var R=s.get(N);R?R.push(y):s.set(N,[y])}}return s}function Gm(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Y0(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function K0(e,n,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=ko(s.href),y=n.querySelector(Bs(p));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Xl.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=y,an(y);return}y=n.ownerDocument||n,s=qm(s),(p=wi.get(p))&&od(s,p),y=y.createElement("link"),an(y);var N=y;N._p=new Promise(function(R,U){N.onload=R,N.onerror=U}),On(y,"link",s),a.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Xl.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var ld=0;function Z0(e,n){return e.stylesheets&&e.count===0&&$l(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&$l(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+n);0<e.imgBytes&&ld===0&&(ld=62500*w0());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$l(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>ld?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(p)}}:null}function Xl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$l(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wl=null;function $l(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wl=new Map,n.forEach(Q0,e),Wl=null,Xl.call(e))}function Q0(e,n){if(!(n.state.loading&4)){var a=Wl.get(e);if(a)var s=a.get(null);else{a=new Map,Wl.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var N=p[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),s=N)}s&&a.set(null,s)}p=n.instance,N=p.getAttribute("data-precedence"),y=a.get(N)||s,y===s&&a.set(null,p),a.set(N,p),this.count++,s=Xl.bind(this),p.addEventListener("load",s),p.addEventListener("error",s),y?y.parentNode.insertBefore(p,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var Vs={$$typeof:se,Provider:null,Consumer:null,_currentValue:Ge,_currentValue2:Ge,_threadCount:0};function X0(e,n,a,s,p,y,N,R,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=s,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Fm(e,n,a,s,p,y,N,R,U,ne,he,be){return e=new X0(e,n,a,N,U,ne,he,be,R),n=1,y===!0&&(n|=24),y=oi(3,null,null,n),e.current=y,y.stateNode=e,n=zu(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:s,isDehydrated:a,cache:n},Ju(y),e}function Jm(e){return e?(e=Kn,e):Kn}function jm(e,n,a,s,p,y){p=Jm(p),s.context===null?s.context=p:s.pendingContext=p,s=$a(n),s.payload={element:a},y=y===void 0?null:y,y!==null&&(s.callback=y),a=er(e,s,n),a!==null&&($n(a,e,n),vs(a,e,n))}function Ym(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function ud(e,n){Ym(e,n),(e=e.alternate)&&Ym(e,n)}function Km(e){if(e.tag===13||e.tag===31){var n=Qt(e,67108864);n!==null&&$n(n,e,67108864),ud(e,67108864)}}function Zm(e){if(e.tag===13||e.tag===31){var n=di();n=vr(n);var a=Qt(e,n);a!==null&&$n(a,e,n),ud(e,n)}}var eu=!0;function W0(e,n,a,s){var p=ie.T;ie.T=null;var y=Se.p;try{Se.p=2,cd(e,n,a,s)}finally{Se.p=y,ie.T=p}}function $0(e,n,a,s){var p=ie.T;ie.T=null;var y=Se.p;try{Se.p=8,cd(e,n,a,s)}finally{Se.p=y,ie.T=p}}function cd(e,n,a,s){if(eu){var p=dd(s);if(p===null)Qc(e,n,s,tu,a),Xm(e,s);else if(tv(p,e,n,a,s))s.stopPropagation();else if(Xm(e,s),n&4&&-1<ev.indexOf(e)){for(;p!==null;){var y=kt(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=ii(y.pendingLanes);if(N!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;N;){var U=1<<31-Be(N);R.entanglements[1]|=U,N&=~U}ea(y),(Dt&6)===0&&(Ll=Ft()+500,Ps(0))}}break;case 31:case 13:R=Qt(y,2),R!==null&&$n(R,y,2),ql(),ud(y,2)}if(y=dd(s),y===null&&Qc(e,n,s,tu,a),y===p)break;p=y}p!==null&&s.stopPropagation()}else Qc(e,n,s,null,a)}}function dd(e){return e=Kr(e),fd(e)}var tu=null;function fd(e){if(tu=null,e=vi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=m(n),e!==null)return e;e=null}else if(a===31){if(e=v(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return tu=e,null}function Qm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mi()){case Tn:return 2;case pi:return 8;case ti:case na:return 32;case Di:return 268435456;default:return 32}default:return 32}}var pd=!1,dr=null,fr=null,pr=null,zs=new Map,Gs=new Map,mr=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xm(e,n){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":zs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(n.pointerId)}}function Hs(e,n,a,s,p,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:a,eventSystemFlags:s,nativeEvent:y,targetContainers:[p]},n!==null&&(n=kt(n),n!==null&&Km(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function tv(e,n,a,s,p){switch(n){case"focusin":return dr=Hs(dr,e,n,a,s,p),!0;case"dragenter":return fr=Hs(fr,e,n,a,s,p),!0;case"mouseover":return pr=Hs(pr,e,n,a,s,p),!0;case"pointerover":var y=p.pointerId;return zs.set(y,Hs(zs.get(y)||null,e,n,a,s,p)),!0;case"gotpointercapture":return y=p.pointerId,Gs.set(y,Hs(Gs.get(y)||null,e,n,a,s,p)),!0}return!1}function Wm(e){var n=vi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){e.blockedOn=n,sa(e.priority,function(){Zm(a)});return}}else if(n===31){if(n=v(a),n!==null){e.blockedOn=n,sa(e.priority,function(){Zm(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=dd(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);bi=s,a.target.dispatchEvent(s),bi=null}else return n=kt(a),n!==null&&Km(n),e.blockedOn=a,!1;n.shift()}return!0}function $m(e,n,a){nu(e)&&a.delete(n)}function nv(){pd=!1,dr!==null&&nu(dr)&&(dr=null),fr!==null&&nu(fr)&&(fr=null),pr!==null&&nu(pr)&&(pr=null),zs.forEach($m),Gs.forEach($m)}function iu(e,n){e.blockedOn===n&&(e.blockedOn=null,pd||(pd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,nv)))}var au=null;function eh(e){au!==e&&(au=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){au===e&&(au=null);for(var n=0;n<e.length;n+=3){var a=e[n],s=e[n+1],p=e[n+2];if(typeof s!="function"){if(fd(s||a)===null)continue;break}var y=kt(a);y!==null&&(e.splice(n,3),n-=3,dc(y,{pending:!0,data:p,method:a.method,action:s},s,p))}}))}function Oo(e){function n(U){return iu(U,e)}dr!==null&&iu(dr,e),fr!==null&&iu(fr,e),pr!==null&&iu(pr,e),zs.forEach(n),Gs.forEach(n);for(var a=0;a<mr.length;a++){var s=mr[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<mr.length&&(a=mr[0],a.blockedOn===null);)Wm(a),a.blockedOn===null&&mr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var p=a[s],y=a[s+1],N=p[nn]||null;if(typeof y=="function")N||eh(a);else if(N){var R=null;if(y&&y.hasAttribute("formAction")){if(p=y,N=y[nn]||null)R=N.formAction;else if(fd(p)!==null)continue}else R=N.action;typeof R=="function"?a[s+1]=R:(a.splice(s,3),s-=3),eh(a)}}}function th(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(N){return p=N})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function md(e){this._internalRoot=e}ru.prototype.render=md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var a=n.current,s=di();jm(a,s,e,n,null,null)},ru.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;jm(e.current,2,null,e,null,null),ql(),n[Rn]=null}};function ru(e){this._internalRoot=e}ru.prototype.unstable_scheduleHydration=function(e){if(e){var n=oa();e={blockedOn:null,target:e,priority:n};for(var a=0;a<mr.length&&n!==0&&n<mr[a].priority;a++);mr.splice(a,0,e),a===0&&Wm(e)}};var nh=t.version;if(nh!=="19.2.0")throw Error(o(527,nh,"19.2.0"));Se.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=T(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var iv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{mi=ou.inject(iv),rn=ou}catch{}}return Js.createRoot=function(e,n){if(!l(e))throw Error(o(299));var a=!1,s="",p=up,y=cp,N=dp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError)),n=Fm(e,1,!1,null,null,a,s,null,p,y,N,th),e[Rn]=n.current,Zc(e),new md(n)},Js.hydrateRoot=function(e,n,a){if(!l(e))throw Error(o(299));var s=!1,p="",y=up,N=cp,R=dp,U=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.formState!==void 0&&(U=a.formState)),n=Fm(e,1,!0,n,a??null,s,p,U,y,N,R,th),n.context=Jm(null),a=n.current,s=di(),s=vr(s),p=$a(s),p.callback=null,er(a,p,s),a=s,n.current.lanes=a,jn(n,a),ea(n),e[Rn]=n.current,Zc(e),new ru(n)},Js.version="19.2.0",Js}var fh;function hv(){if(fh)return yd.exports;fh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),yd.exports=mv(),yd.exports}var gv=hv();const yv=Fd(gv);var w=(i=>(i.PRESIDENTE="Presidente",i.ORACAO_INICIAL="Orao Inicial",i.ORACAO_FINAL="Orao Final",i.TESOUROS="Tesouros da Palavra de Deus",i.MINISTERIO="Faa Seu Melhor no Ministrio",i.VIDA_CRISTA="Nossa Vida Crist",i.DIRIGENTE="Dirigente do EBC",i.LEITOR="Leitor do EBC",i.AJUDANTE="Ajudante",i.CANTICO="Cntico",i.COMENTARIOS_FINAIS="Comentrios Finais",i))(w||{}),lu={exports:{}},vv=lu.exports,ph;function Tv(){return ph||(ph=1,(function(i,t){(function(r,o){i.exports=o()})(vv,function(){var r=function(f,h){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,A){S.__proto__=A}||function(S,A){for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(S[_]=A[_])})(f,h)},o=function(){return(o=Object.assign||function(f){for(var h,S=1,A=arguments.length;S<A;S++)for(var _ in h=arguments[S])Object.prototype.hasOwnProperty.call(h,_)&&(f[_]=h[_]);return f}).apply(this,arguments)};function l(f,h,S){for(var A,_=0,I=h.length;_<I;_++)!A&&_ in h||((A=A||Array.prototype.slice.call(h,0,_))[_]=h[_]);return f.concat(A||Array.prototype.slice.call(h))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:rv,m=Object.keys,v=Array.isArray;function b(f,h){return typeof h!="object"||m(h).forEach(function(S){f[S]=h[S]}),f}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var T=Object.getPrototypeOf,x={}.hasOwnProperty;function E(f,h){return x.call(f,h)}function C(f,h){typeof h=="function"&&(h=h(T(f))),(typeof Reflect>"u"?m:Reflect.ownKeys)(h).forEach(function(S){P(f,S,h[S])})}var M=Object.defineProperty;function P(f,h,S,A){M(f,h,b(S&&E(S,"get")&&typeof S.get=="function"?{get:S.get,set:S.set,configurable:!0}:{value:S,configurable:!0,writable:!0},A))}function k(f){return{from:function(h){return f.prototype=Object.create(h.prototype),P(f.prototype,"constructor",f),{extend:C.bind(null,f.prototype)}}}}var Y=Object.getOwnPropertyDescriptor,G=[].slice;function $(f,h,S){return G.call(f,h,S)}function se(f,h){return h(f)}function Ee(f){if(!f)throw new Error("Assertion Failed")}function Ce(f){c.setImmediate?setImmediate(f):setTimeout(f,0)}function De(f,h){if(typeof h=="string"&&E(f,h))return f[h];if(!h)return f;if(typeof h!="string"){for(var S=[],A=0,_=h.length;A<_;++A){var I=De(f,h[A]);S.push(I)}return S}var D=h.indexOf(".");if(D!==-1){var O=f[h.substr(0,D)];return O==null?void 0:De(O,h.substr(D+1))}}function J(f,h,S){if(f&&h!==void 0&&!("isFrozen"in Object&&Object.isFrozen(f)))if(typeof h!="string"&&"length"in h){Ee(typeof S!="string"&&"length"in S);for(var A=0,_=h.length;A<_;++A)J(f,h[A],S[A])}else{var I,D,O=h.indexOf(".");O!==-1?(I=h.substr(0,O),(D=h.substr(O+1))===""?S===void 0?v(f)&&!isNaN(parseInt(I))?f.splice(I,1):delete f[I]:f[I]=S:J(O=!(O=f[I])||!E(f,I)?f[I]={}:O,D,S)):S===void 0?v(f)&&!isNaN(parseInt(h))?f.splice(h,1):delete f[h]:f[h]=S}}function Me(f){var h,S={};for(h in f)E(f,h)&&(S[h]=f[h]);return S}var xe=[].concat;function me(f){return xe.apply([],f)}var Tn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(me([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(h){return h+f+"Array"})}))).filter(function(f){return c[f]}),ge=new Set(Tn.map(function(f){return c[f]})),we=null;function Je(f){return we=new WeakMap,f=(function h(S){if(!S||typeof S!="object")return S;var A=we.get(S);if(A)return A;if(v(S)){A=[],we.set(S,A);for(var _=0,I=S.length;_<I;++_)A.push(h(S[_]))}else if(ge.has(S.constructor))A=S;else{var D,O=T(S);for(D in A=O===Object.prototype?{}:Object.create(O),we.set(S,A),S)E(S,D)&&(A[D]=h(S[D]))}return A})(f),we=null,f}var dt={}.toString;function Xe(f){return dt.call(f).slice(8,-1)}var ie=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Se=typeof ie=="symbol"?function(f){var h;return f!=null&&(h=f[ie])&&h.apply(f)}:function(){return null};function Ge(f,h){return h=f.indexOf(h),0<=h&&f.splice(h,1),0<=h}var nt={};function je(f){var h,S,A,_;if(arguments.length===1){if(v(f))return f.slice();if(this===nt&&typeof f=="string")return[f];if(_=Se(f)){for(S=[];!(A=_.next()).done;)S.push(A.value);return S}if(f==null)return[f];if(typeof(h=f.length)!="number")return[f];for(S=new Array(h);h--;)S[h]=f[h];return S}for(h=arguments.length,S=new Array(h);h--;)S[h]=arguments[h];return S}var B=typeof Symbol<"u"?function(f){return f[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Mi=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Fn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Mi),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ie(f,h){this.name=f,this.message=h}function qe(f,h){return f+". Errors: "+Object.keys(h).map(function(S){return h[S].toString()}).filter(function(S,A,_){return _.indexOf(S)===A}).join(`
`)}function et(f,h,S,A){this.failures=h,this.failedKeys=A,this.successCount=S,this.message=qe(f,h)}function rt(f,h){this.name="BulkError",this.failures=Object.keys(h).map(function(S){return h[S]}),this.failuresByPos=h,this.message=qe(f,this.failures)}k(Ie).from(Error).extend({toString:function(){return this.name+": "+this.message}}),k(et).from(Ie),k(rt).from(Ie);var gt=Fn.reduce(function(f,h){return f[h]=h+"Error",f},{}),$t=Ie,Pe=Fn.reduce(function(f,h){var S=h+"Error";function A(_,I){this.name=S,_?typeof _=="string"?(this.message="".concat(_).concat(I?`
 `+I:""),this.inner=I||null):typeof _=="object"&&(this.message="".concat(_.name," ").concat(_.message),this.inner=_):(this.message=ye[h]||S,this.inner=null)}return k(A).from($t),f[h]=A,f},{});Pe.Syntax=SyntaxError,Pe.Type=TypeError,Pe.Range=RangeError;var ei=Mi.reduce(function(f,h){return f[h+"Error"]=Pe[h],f},{}),ln=Fn.reduce(function(f,h){return["Syntax","Type","Range"].indexOf(h)===-1&&(f[h+"Error"]=Pe[h]),f},{});function le(){}function Ye(f){return f}function ft(f,h){return f==null||f===Ye?h:function(S){return h(f(S))}}function He(f,h){return function(){f.apply(this,arguments),h.apply(this,arguments)}}function Ct(f,h){return f===le?h:function(){var S=f.apply(this,arguments);S!==void 0&&(arguments[0]=S);var A=this.onsuccess,_=this.onerror;this.onsuccess=null,this.onerror=null;var I=h.apply(this,arguments);return A&&(this.onsuccess=this.onsuccess?He(A,this.onsuccess):A),_&&(this.onerror=this.onerror?He(_,this.onerror):_),I!==void 0?I:S}}function it(f,h){return f===le?h:function(){f.apply(this,arguments);var S=this.onsuccess,A=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?He(S,this.onsuccess):S),A&&(this.onerror=this.onerror?He(A,this.onerror):A)}}function Ht(f,h){return f===le?h:function(S){var A=f.apply(this,arguments);b(S,A);var _=this.onsuccess,I=this.onerror;return this.onsuccess=null,this.onerror=null,S=h.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?He(_,this.onsuccess):_),I&&(this.onerror=this.onerror?He(I,this.onerror):I),A===void 0?S===void 0?void 0:S:b(A,S)}}function st(f,h){return f===le?h:function(){return h.apply(this,arguments)!==!1&&f.apply(this,arguments)}}function un(f,h){return f===le?h:function(){var S=f.apply(this,arguments);if(S&&typeof S.then=="function"){for(var A=this,_=arguments.length,I=new Array(_);_--;)I[_]=arguments[_];return S.then(function(){return h.apply(A,I)})}return h.apply(this,arguments)}}ln.ModifyError=et,ln.DexieError=Ie,ln.BulkError=rt;var yt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function en(f){yt=f}var wn={},Ft=100,Tn=typeof Promise>"u"?[]:(function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,T(f),f];var h=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[h,T(h),f]})(),Mi=Tn[0],Fn=Tn[1],Tn=Tn[2],Fn=Fn&&Fn.then,pi=Mi&&Mi.constructor,ti=!!Tn,na=function(f,h){ia.push([f,h]),Ua&&(queueMicrotask(jr),Ua=!1)},Di=!0,Ua=!0,ni=[],mi=[],rn=Ye,bn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:le,pgp:!1,env:{},finalize:le},Be=bn,ia=[],Lt=0,La=[];function Oe(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=Be;if(typeof f!="function"){if(f!==wn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ii(this,this._value))}this._state=null,this._value=null,++h.ref,(function S(A,_){try{_(function(I){if(A._state===null){if(I===A)throw new TypeError("A promise cannot be resolved with itself.");var D=A._lib&&hi();I&&typeof I.then=="function"?S(A,function(O,q){I instanceof Oe?I._then(O,q):I.then(O,q)}):(A._state=!0,A._value=I,aa(A)),D&&jn()}},ii.bind(null,A))}catch(I){ii(A,I)}})(this,f)}var Vn={get:function(){var f=Be,h=sa;function S(A,_){var I=this,D=!f.global&&(f!==Be||h!==sa),O=D&&!Rn(),q=new Oe(function(V,Z){ki(I,new Hi(Ba(A,f,D,O),Ba(_,f,D,O),V,Z,f))});return this._consoleTask&&(q._consoleTask=this._consoleTask),q}return S.prototype=wn,S},set:function(f){P(this,"then",f&&f.prototype===wn?Vn:{get:function(){return f},set:Vn.set})}};function Hi(f,h,S,A,_){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof h=="function"?h:null,this.resolve=S,this.reject=A,this.psd=_}function ii(f,h){var S,A;mi.push(h),f._state===null&&(S=f._lib&&hi(),h=rn(h),f._state=!1,f._value=h,A=f,ni.some(function(_){return _._value===A._value})||ni.push(A),aa(f),S&&jn())}function aa(f){var h=f._listeners;f._listeners=[];for(var S=0,A=h.length;S<A;++S)ki(f,h[S]);var _=f._PSD;--_.ref||_.finalize(),Lt===0&&(++Lt,na(function(){--Lt==0&&yr()},[]))}function ki(f,h){if(f._state!==null){var S=f._state?h.onFulfilled:h.onRejected;if(S===null)return(f._state?h.resolve:h.reject)(f._value);++h.psd.ref,++Lt,na(jo,[S,f,h])}else f._listeners.push(h)}function jo(f,h,S){try{var A,_=h._value;!h._state&&mi.length&&(mi=[]),A=yt&&h._consoleTask?h._consoleTask.run(function(){return f(_)}):f(_),h._state||mi.indexOf(_)!==-1||(function(I){for(var D=ni.length;D;)if(ni[--D]._value===I._value)return ni.splice(D,1)})(h),S.resolve(A)}catch(I){S.reject(I)}finally{--Lt==0&&yr(),--S.psd.ref||S.psd.finalize()}}function jr(){zn(bn,function(){hi()&&jn()})}function hi(){var f=Di;return Ua=Di=!1,f}function jn(){var f,h,S;do for(;0<ia.length;)for(f=ia,ia=[],S=f.length,h=0;h<S;++h){var A=f[h];A[0].apply(null,A[1])}while(0<ia.length);Ua=Di=!0}function yr(){var f=ni;ni=[],f.forEach(function(A){A._PSD.onunhandled.call(null,A._value,A)});for(var h=La.slice(0),S=h.length;S;)h[--S]()}function ra(f){return new Oe(wn,!1,f)}function Pt(f,h){var S=Be;return function(){var A=hi(),_=Be;try{return yi(S,!0),f.apply(this,arguments)}catch(I){h&&h(I)}finally{yi(_,!1),A&&jn()}}}C(Oe.prototype,{then:Vn,_then:function(f,h){ki(this,new Hi(null,null,f,h,Be))},catch:function(f){if(arguments.length===1)return this.then(null,f);var h=f,S=arguments[1];return typeof h=="function"?this.then(null,function(A){return(A instanceof h?S:ra)(A)}):this.then(null,function(A){return(A&&A.name===h?S:ra)(A)})},finally:function(f){return this.then(function(h){return Oe.resolve(f()).then(function(){return h})},function(h){return Oe.resolve(f()).then(function(){return ra(h)})})},timeout:function(f,h){var S=this;return f<1/0?new Oe(function(A,_){var I=setTimeout(function(){return _(new Pe.Timeout(h))},f);S.then(A,_).finally(clearTimeout.bind(null,I))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&P(Oe.prototype,Symbol.toStringTag,"Dexie.Promise"),bn.env=Tr(),C(Oe,{all:function(){var f=je.apply(null,arguments).map(Ji);return new Oe(function(h,S){f.length===0&&h([]);var A=f.length;f.forEach(function(_,I){return Oe.resolve(_).then(function(D){f[I]=D,--A||h(f)},S)})})},resolve:function(f){return f instanceof Oe?f:f&&typeof f.then=="function"?new Oe(function(h,S){f.then(h,S)}):new Oe(wn,!0,f)},reject:ra,race:function(){var f=je.apply(null,arguments).map(Ji);return new Oe(function(h,S){f.map(function(A){return Oe.resolve(A).then(h,S)})})},PSD:{get:function(){return Be},set:function(f){return Be=f}},totalEchoes:{get:function(){return sa}},newPSD:Bt,usePSD:zn,scheduler:{get:function(){return na},set:function(f){na=f}},rejectionMapper:{get:function(){return rn},set:function(f){rn=f}},follow:function(f,h){return new Oe(function(S,A){return Bt(function(_,I){var D=Be;D.unhandleds=[],D.onunhandled=I,D.finalize=He(function(){var O,q=this;O=function(){q.unhandleds.length===0?_():I(q.unhandleds[0])},La.push(function V(){O(),La.splice(La.indexOf(V),1)}),++Lt,na(function(){--Lt==0&&yr()},[])},D.finalize),f()},h,S,A)})}}),pi&&(pi.allSettled&&P(Oe,"allSettled",function(){var f=je.apply(null,arguments).map(Ji);return new Oe(function(h){f.length===0&&h([]);var S=f.length,A=new Array(S);f.forEach(function(_,I){return Oe.resolve(_).then(function(D){return A[I]={status:"fulfilled",value:D}},function(D){return A[I]={status:"rejected",reason:D}}).then(function(){return--S||h(A)})})})}),pi.any&&typeof AggregateError<"u"&&P(Oe,"any",function(){var f=je.apply(null,arguments).map(Ji);return new Oe(function(h,S){f.length===0&&S(new AggregateError([]));var A=f.length,_=new Array(A);f.forEach(function(I,D){return Oe.resolve(I).then(function(O){return h(O)},function(O){_[D]=O,--A||S(new AggregateError(_))})})})}),pi.withResolvers&&(Oe.withResolvers=pi.withResolvers));var tn={awaits:0,echoes:0,id:0},vr=0,Fi=[],oa=0,sa=0,gi=0;function Bt(f,h,S,A){var _=Be,I=Object.create(_);return I.parent=_,I.ref=0,I.global=!1,I.id=++gi,bn.env,I.env=ti?{Promise:Oe,PromiseProp:{value:Oe,configurable:!0,writable:!0},all:Oe.all,race:Oe.race,allSettled:Oe.allSettled,any:Oe.any,resolve:Oe.resolve,reject:Oe.reject}:{},h&&b(I,h),++_.ref,I.finalize=function(){--this.parent.ref||this.parent.finalize()},A=zn(I,f,S,A),I.ref===0&&I.finalize(),A}function nn(){return tn.id||(tn.id=++vr),++tn.awaits,tn.echoes+=Ft,tn.id}function Rn(){return!!tn.awaits&&(--tn.awaits==0&&(tn.id=0),tn.echoes=tn.awaits*Ft,!0)}function Ji(f){return tn.echoes&&f&&f.constructor===pi?(nn(),f.then(function(h){return Rn(),h},function(h){return Rn(),kt(h)})):f}function Yo(){var f=Fi[Fi.length-1];Fi.pop(),yi(f,!1)}function yi(f,h){var S,A=Be;(h?!tn.echoes||oa++&&f===Be:!oa||--oa&&f===Be)||queueMicrotask(h?(function(_){++sa,tn.echoes&&--tn.echoes!=0||(tn.echoes=tn.awaits=tn.id=0),Fi.push(Be),yi(_,!0)}).bind(null,f):Yo),f!==Be&&(Be=f,A===bn&&(bn.env=Tr()),ti&&(S=bn.env.Promise,h=f.env,(A.global||f.global)&&(Object.defineProperty(c,"Promise",h.PromiseProp),S.all=h.all,S.race=h.race,S.resolve=h.resolve,S.reject=h.reject,h.allSettled&&(S.allSettled=h.allSettled),h.any&&(S.any=h.any))))}function Tr(){var f=c.Promise;return ti?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function zn(f,h,S,A,_){var I=Be;try{return yi(f,!0),h(S,A,_)}finally{yi(I,!1)}}function Ba(f,h,S,A){return typeof f!="function"?f:function(){var _=Be;S&&nn(),yi(h,!0);try{return f.apply(this,arguments)}finally{yi(_,!1),A&&queueMicrotask(Rn)}}}function vi(f){Promise===pi&&tn.echoes===0?oa===0?f():enqueueNativeMicroTask(f):setTimeout(f,0)}(""+Fn).indexOf("[native code]")===-1&&(nn=Rn=le);var kt=Oe.reject,Gn="",Sn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",an="String expected.",Pi=[],la="__dbnames",ai="readonly",Ti="readwrite";function Oi(f,h){return f?h?function(){return f.apply(this,arguments)&&h.apply(this,arguments)}:f:h}var K={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Le(f){return typeof f!="string"||/\./.test(f)?function(h){return h}:function(h){return h[f]===void 0&&f in h&&delete(h=Je(h))[f],h}}function ct(){throw Pe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ke(f,h){try{var S=En(f),A=En(h);if(S!==A)return S==="Array"?1:A==="Array"?-1:S==="binary"?1:A==="binary"?-1:S==="string"?1:A==="string"?-1:S==="Date"?1:A!=="Date"?NaN:-1;switch(S){case"number":case"Date":case"string":return h<f?1:f<h?-1:0;case"binary":return(function(_,I){for(var D=_.length,O=I.length,q=D<O?D:O,V=0;V<q;++V)if(_[V]!==I[V])return _[V]<I[V]?-1:1;return D===O?0:D<O?-1:1})(lt(f),lt(h));case"Array":return(function(_,I){for(var D=_.length,O=I.length,q=D<O?D:O,V=0;V<q;++V){var Z=Ke(_[V],I[V]);if(Z!==0)return Z}return D===O?0:D<O?-1:1})(f,h)}}catch{}return NaN}function En(f){var h=typeof f;return h!="object"?h:ArrayBuffer.isView(f)?"binary":(f=Xe(f),f==="ArrayBuffer"?"binary":f)}function lt(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}function vt(f,h,S){var A=f.schema.yProps;return A?(h&&0<S.numFailures&&(h=h.filter(function(_,I){return!S.failures[I]})),Promise.all(A.map(function(_){return _=_.updatesTable,h?f.db.table(_).where("k").anyOf(h).delete():f.db.table(_).clear()})).then(function(){return S})):S}var Rt=(Mn.prototype.execute=function(f){var h=this["@@propmod"];if(h.add!==void 0){var S=h.add;if(v(S))return l(l([],v(f)?f:[],!0),S).sort();if(typeof S=="number")return(Number(f)||0)+S;if(typeof S=="bigint")try{return BigInt(f)+S}catch{return BigInt(0)+S}throw new TypeError("Invalid term ".concat(S))}if(h.remove!==void 0){var A=h.remove;if(v(A))return v(f)?f.filter(function(_){return!A.includes(_)}).sort():[];if(typeof A=="number")return Number(f)-A;if(typeof A=="bigint")try{return BigInt(f)-A}catch{return BigInt(0)-A}throw new TypeError("Invalid subtrahend ".concat(A))}return S=(S=h.replacePrefix)===null||S===void 0?void 0:S[0],S&&typeof f=="string"&&f.startsWith(S)?h.replacePrefix[1]+f.substring(S.length):f},Mn);function Mn(f){this["@@propmod"]=f}function ji(f,h){for(var S=m(h),A=S.length,_=!1,I=0;I<A;++I){var D=S[I],O=h[D],q=De(f,D);O instanceof Rt?(J(f,D,O.execute(q)),_=!0):q!==O&&(J(f,D,O),_=!0)}return _}var br=(Mt.prototype._trans=function(f,h,S){var A=this._tx||Be.trans,_=this.name,I=yt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(f==="readonly"?"read":"write"," ").concat(this.name));function D(V,Z,L){if(!L.schema[_])throw new Pe.NotFound("Table "+_+" not part of transaction");return h(L.idbtrans,L)}var O=hi();try{var q=A&&A.db._novip===this.db._novip?A===Be.trans?A._promise(f,D,S):Bt(function(){return A._promise(f,D,S)},{trans:A,transless:Be.transless||Be}):(function V(Z,L,X,z){if(Z.idbdb&&(Z._state.openComplete||Be.letThrough||Z._vip)){var F=Z._createTransaction(L,X,Z._dbSchema);try{F.create(),Z._state.PR1398_maxLoop=3}catch(j){return j.name===gt.InvalidState&&Z.isOpen()&&0<--Z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Z.close({disableAutoOpen:!1}),Z.open().then(function(){return V(Z,L,X,z)})):kt(j)}return F._promise(L,function(j,Q){return Bt(function(){return Be.trans=F,z(j,Q,F)})}).then(function(j){if(L==="readwrite")try{F.idbtrans.commit()}catch{}return L==="readonly"?j:F._completion.then(function(){return j})})}if(Z._state.openComplete)return kt(new Pe.DatabaseClosed(Z._state.dbOpenError));if(!Z._state.isBeingOpened){if(!Z._state.autoOpen)return kt(new Pe.DatabaseClosed);Z.open().catch(le)}return Z._state.dbReadyPromise.then(function(){return V(Z,L,X,z)})})(this.db,f,[this.name],D);return I&&(q._consoleTask=I,q=q.catch(function(V){return console.trace(V),kt(V)})),q}finally{O&&jn()}},Mt.prototype.get=function(f,h){var S=this;return f&&f.constructor===Object?this.where(f).first(h):f==null?kt(new Pe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(A){return S.core.get({trans:A,key:f}).then(function(_){return S.hook.reading.fire(_)})}).then(h)},Mt.prototype.where=function(f){if(typeof f=="string")return new this.db.WhereClause(this,f);if(v(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var h=m(f);if(h.length===1)return this.where(h[0]).equals(f[h[0]]);var S=this.schema.indexes.concat(this.schema.primKey).filter(function(O){if(O.compound&&h.every(function(V){return 0<=O.keyPath.indexOf(V)})){for(var q=0;q<h.length;++q)if(h.indexOf(O.keyPath[q])===-1)return!1;return!0}return!1}).sort(function(O,q){return O.keyPath.length-q.keyPath.length})[0];if(S&&this.db._maxKey!==Gn){var I=S.keyPath.slice(0,h.length);return this.where(I).equals(I.map(function(q){return f[q]}))}!S&&yt&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var A=this.schema.idxByName;function _(O,q){return Ke(O,q)===0}var D=h.reduce(function(L,q){var V=L[0],Z=L[1],L=A[q],X=f[q];return[V||L,V||!L?Oi(Z,L&&L.multi?function(z){return z=De(z,q),v(z)&&z.some(function(F){return _(X,F)})}:function(z){return _(X,De(z,q))}):Z]},[null,null]),I=D[0],D=D[1];return I?this.where(I.name).equals(f[I.keyPath]).filter(D):S?this.filter(D):this.where(h).equals("")},Mt.prototype.filter=function(f){return this.toCollection().and(f)},Mt.prototype.count=function(f){return this.toCollection().count(f)},Mt.prototype.offset=function(f){return this.toCollection().offset(f)},Mt.prototype.limit=function(f){return this.toCollection().limit(f)},Mt.prototype.each=function(f){return this.toCollection().each(f)},Mt.prototype.toArray=function(f){return this.toCollection().toArray(f)},Mt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Mt.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,v(f)?"[".concat(f.join("+"),"]"):f))},Mt.prototype.reverse=function(){return this.toCollection().reverse()},Mt.prototype.mapToClass=function(f){var h,S=this.db,A=this.name;function _(){return h!==null&&h.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof ct&&((function(q,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function Z(){this.constructor=q}r(q,V),q.prototype=V===null?Object.create(V):(Z.prototype=V.prototype,new Z)})(_,h=f),Object.defineProperty(_.prototype,"db",{get:function(){return S},enumerable:!1,configurable:!0}),_.prototype.table=function(){return A},f=_);for(var I=new Set,D=f.prototype;D;D=T(D))Object.getOwnPropertyNames(D).forEach(function(q){return I.add(q)});function O(q){if(!q)return q;var V,Z=Object.create(f.prototype);for(V in q)if(!I.has(V))try{Z[V]=q[V]}catch{}return Z}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=O,this.hook("reading",O),f},Mt.prototype.defineClass=function(){return this.mapToClass(function(f){b(this,f)})},Mt.prototype.add=function(f,h){var S=this,A=this.schema.primKey,_=A.auto,I=A.keyPath,D=f;return I&&_&&(D=Le(I)(f)),this._trans("readwrite",function(O){return S.core.mutate({trans:O,type:"add",keys:h!=null?[h]:null,values:[D]})}).then(function(O){return O.numFailures?Oe.reject(O.failures[0]):O.lastResult}).then(function(O){if(I)try{J(f,I,O)}catch{}return O})},Mt.prototype.upsert=function(f,h){var S=this,A=this.schema.primKey.keyPath;return this._trans("readwrite",function(_){return S.core.get({trans:_,key:f}).then(function(I){var D=I??{};return ji(D,h),A&&J(D,A,f),S.core.mutate({trans:_,type:"put",values:[D],keys:[f],upsert:!0,updates:{keys:[f],changeSpecs:[h]}}).then(function(O){return O.numFailures?Oe.reject(O.failures[0]):!!I})})})},Mt.prototype.update=function(f,h){return typeof f!="object"||v(f)?this.where(":id").equals(f).modify(h):(f=De(f,this.schema.primKey.keyPath),f===void 0?kt(new Pe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(h))},Mt.prototype.put=function(f,h){var S=this,A=this.schema.primKey,_=A.auto,I=A.keyPath,D=f;return I&&_&&(D=Le(I)(f)),this._trans("readwrite",function(O){return S.core.mutate({trans:O,type:"put",values:[D],keys:h!=null?[h]:null})}).then(function(O){return O.numFailures?Oe.reject(O.failures[0]):O.lastResult}).then(function(O){if(I)try{J(f,I,O)}catch{}return O})},Mt.prototype.delete=function(f){var h=this;return this._trans("readwrite",function(S){return h.core.mutate({trans:S,type:"delete",keys:[f]}).then(function(A){return vt(h,[f],A)}).then(function(A){return A.numFailures?Oe.reject(A.failures[0]):void 0})})},Mt.prototype.clear=function(){var f=this;return this._trans("readwrite",function(h){return f.core.mutate({trans:h,type:"deleteRange",range:K}).then(function(S){return vt(f,null,S)})}).then(function(h){return h.numFailures?Oe.reject(h.failures[0]):void 0})},Mt.prototype.bulkGet=function(f){var h=this;return this._trans("readonly",function(S){return h.core.getMany({keys:f,trans:S}).then(function(A){return A.map(function(_){return h.hook.reading.fire(_)})})})},Mt.prototype.bulkAdd=function(f,h,S){var A=this,_=Array.isArray(h)?h:void 0,I=(S=S||(_?void 0:h))?S.allKeys:void 0;return this._trans("readwrite",function(D){var V=A.schema.primKey,O=V.auto,V=V.keyPath;if(V&&_)throw new Pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(_&&_.length!==f.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var q=f.length,V=V&&O?f.map(Le(V)):f;return A.core.mutate({trans:D,type:"add",keys:_,values:V,wantResults:I}).then(function(F){var L=F.numFailures,X=F.results,z=F.lastResult,F=F.failures;if(L===0)return I?X:z;throw new rt("".concat(A.name,".bulkAdd(): ").concat(L," of ").concat(q," operations failed"),F)})})},Mt.prototype.bulkPut=function(f,h,S){var A=this,_=Array.isArray(h)?h:void 0,I=(S=S||(_?void 0:h))?S.allKeys:void 0;return this._trans("readwrite",function(D){var V=A.schema.primKey,O=V.auto,V=V.keyPath;if(V&&_)throw new Pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(_&&_.length!==f.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var q=f.length,V=V&&O?f.map(Le(V)):f;return A.core.mutate({trans:D,type:"put",keys:_,values:V,wantResults:I}).then(function(F){var L=F.numFailures,X=F.results,z=F.lastResult,F=F.failures;if(L===0)return I?X:z;throw new rt("".concat(A.name,".bulkPut(): ").concat(L," of ").concat(q," operations failed"),F)})})},Mt.prototype.bulkUpdate=function(f){var h=this,S=this.core,A=f.map(function(D){return D.key}),_=f.map(function(D){return D.changes}),I=[];return this._trans("readwrite",function(D){return S.getMany({trans:D,keys:A,cache:"clone"}).then(function(O){var q=[],V=[];f.forEach(function(L,X){var z=L.key,F=L.changes,j=O[X];if(j){for(var Q=0,ee=Object.keys(F);Q<ee.length;Q++){var ae=ee[Q],ue=F[ae];if(ae===h.schema.primKey.keyPath){if(Ke(ue,z)!==0)throw new Pe.Constraint("Cannot update primary key in bulkUpdate()")}else J(j,ae,ue)}I.push(X),q.push(z),V.push(j)}});var Z=q.length;return S.mutate({trans:D,type:"put",keys:q,values:V,updates:{keys:A,changeSpecs:_}}).then(function(L){var X=L.numFailures,z=L.failures;if(X===0)return Z;for(var F=0,j=Object.keys(z);F<j.length;F++){var Q,ee=j[F],ae=I[Number(ee)];ae!=null&&(Q=z[ee],delete z[ee],z[ae]=Q)}throw new rt("".concat(h.name,".bulkUpdate(): ").concat(X," of ").concat(Z," operations failed"),z)})})})},Mt.prototype.bulkDelete=function(f){var h=this,S=f.length;return this._trans("readwrite",function(A){return h.core.mutate({trans:A,type:"delete",keys:f}).then(function(_){return vt(h,f,_)})}).then(function(D){var _=D.numFailures,I=D.lastResult,D=D.failures;if(_===0)return I;throw new rt("".concat(h.name,".bulkDelete(): ").concat(_," of ").concat(S," operations failed"),D)})},Mt);function Mt(){}function xr(f){function h(D,O){if(O){for(var q=arguments.length,V=new Array(q-1);--q;)V[q-1]=arguments[q];return S[D].subscribe.apply(null,V),f}if(typeof D=="string")return S[D]}var S={};h.addEventType=I;for(var A=1,_=arguments.length;A<_;++A)I(arguments[A]);return h;function I(D,O,q){if(typeof D!="object"){var V;O=O||st;var Z={subscribers:[],fire:q=q||le,subscribe:function(L){Z.subscribers.indexOf(L)===-1&&(Z.subscribers.push(L),Z.fire=O(Z.fire,L))},unsubscribe:function(L){Z.subscribers=Z.subscribers.filter(function(X){return X!==L}),Z.fire=Z.subscribers.reduce(O,q)}};return S[D]=h[D]=Z}m(V=D).forEach(function(L){var X=V[L];if(v(X))I(L,V[L][0],V[L][1]);else{if(X!=="asap")throw new Pe.InvalidArgument("Invalid event config");var z=I(L,Ye,function(){for(var F=arguments.length,j=new Array(F);F--;)j[F]=arguments[F];z.subscribers.forEach(function(Q){Ce(function(){Q.apply(null,j)})})})}})}}function An(f,h){return k(h).from({prototype:f}),h}function Yi(f,h){return!(f.filter||f.algorithm||f.or)&&(h?f.justLimit:!f.replayFilter)}function Yr(f,h){f.filter=Oi(f.filter,h)}function Sr(f,h,S){var A=f.replayFilter;f.replayFilter=A?function(){return Oi(A(),h())}:h,f.justLimit=S&&!A}function Ui(f,h){if(f.isPrimKey)return h.primaryKey;var S=h.getIndexByKeyPath(f.index);if(!S)throw new Pe.Schema("KeyPath "+f.index+" on object store "+h.name+" is not indexed");return S}function Ko(f,h,S){var A=Ui(f,h.schema);return h.openCursor({trans:S,values:!f.keysOnly,reverse:f.dir==="prev",unique:!!f.unique,query:{index:A,range:f.range}})}function Er(f,h,S,A){var _=f.replayFilter?Oi(f.filter,f.replayFilter()):f.filter;if(f.or){var I={},D=function(O,q,V){var Z,L;_&&!_(q,V,function(X){return q.stop(X)},function(X){return q.fail(X)})||((L=""+(Z=q.primaryKey))=="[object ArrayBuffer]"&&(L=""+new Uint8Array(Z)),E(I,L)||(I[L]=!0,h(O,q,V)))};return Promise.all([f.or._iterate(D,S),ua(Ko(f,A,S),f.algorithm,D,!f.keysOnly&&f.valueMapper)])}return ua(Ko(f,A,S),Oi(f.algorithm,_),h,!f.keysOnly&&f.valueMapper)}function ua(f,h,S,A){var _=Pt(A?function(I,D,O){return S(A(I),D,O)}:S);return f.then(function(I){if(I)return I.start(function(){var D=function(){return I.continue()};h&&!h(I,function(O){return D=O},function(O){I.stop(O),D=le},function(O){I.fail(O),D=le})||_(I.value,I,function(O){return D=O}),D()})})}var Au=(At.prototype._read=function(f,h){var S=this._ctx;return S.error?S.table._trans(null,kt.bind(null,S.error)):S.table._trans("readonly",f).then(h)},At.prototype._write=function(f){var h=this._ctx;return h.error?h.table._trans(null,kt.bind(null,h.error)):h.table._trans("readwrite",f,"locked")},At.prototype._addAlgorithm=function(f){var h=this._ctx;h.algorithm=Oi(h.algorithm,f)},At.prototype._iterate=function(f,h){return Er(this._ctx,f,h,this._ctx.table.core)},At.prototype.clone=function(f){var h=Object.create(this.constructor.prototype),S=Object.create(this._ctx);return f&&b(S,f),h._ctx=S,h},At.prototype.raw=function(){return this._ctx.valueMapper=null,this},At.prototype.each=function(f){var h=this._ctx;return this._read(function(S){return Er(h,f,S,h.table.core)})},At.prototype.count=function(f){var h=this;return this._read(function(S){var A=h._ctx,_=A.table.core;if(Yi(A,!0))return _.count({trans:S,query:{index:Ui(A,_.schema),range:A.range}}).then(function(D){return Math.min(D,A.limit)});var I=0;return Er(A,function(){return++I,!1},S,_).then(function(){return I})}).then(f)},At.prototype.sortBy=function(f,h){var S=f.split(".").reverse(),A=S[0],_=S.length-1;function I(q,V){return V?I(q[S[V]],V-1):q[A]}var D=this._ctx.dir==="next"?1:-1;function O(q,V){return Ke(I(q,_),I(V,_))*D}return this.toArray(function(q){return q.sort(O)}).then(h)},At.prototype.toArray=function(f){var h=this;return this._read(function(S){var A=h._ctx;if(A.dir==="next"&&Yi(A,!0)&&0<A.limit){var _=A.valueMapper,I=Ui(A,A.table.core.schema);return A.table.core.query({trans:S,limit:A.limit,values:!0,query:{index:I,range:A.range}}).then(function(O){return O=O.result,_?O.map(_):O})}var D=[];return Er(A,function(O){return D.push(O)},S,A.table.core).then(function(){return D})},f)},At.prototype.offset=function(f){var h=this._ctx;return f<=0||(h.offset+=f,Yi(h)?Sr(h,function(){var S=f;return function(A,_){return S===0||(S===1?--S:_(function(){A.advance(S),S=0}),!1)}}):Sr(h,function(){var S=f;return function(){return--S<0}})),this},At.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),Sr(this._ctx,function(){var h=f;return function(S,A,_){return--h<=0&&A(_),0<=h}},!0),this},At.prototype.until=function(f,h){return Yr(this._ctx,function(S,A,_){return!f(S.value)||(A(_),h)}),this},At.prototype.first=function(f){return this.limit(1).toArray(function(h){return h[0]}).then(f)},At.prototype.last=function(f){return this.reverse().first(f)},At.prototype.filter=function(f){var h;return Yr(this._ctx,function(S){return f(S.value)}),(h=this._ctx).isMatch=Oi(h.isMatch,f),this},At.prototype.and=function(f){return this.filter(f)},At.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},At.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},At.prototype.desc=function(){return this.reverse()},At.prototype.eachKey=function(f){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(S,A){f(A.key,A)})},At.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},At.prototype.eachPrimaryKey=function(f){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(S,A){f(A.primaryKey,A)})},At.prototype.keys=function(f){var h=this._ctx;h.keysOnly=!h.isMatch;var S=[];return this.each(function(A,_){S.push(_.key)}).then(function(){return S}).then(f)},At.prototype.primaryKeys=function(f){var h=this._ctx;if(h.dir==="next"&&Yi(h,!0)&&0<h.limit)return this._read(function(A){var _=Ui(h,h.table.core.schema);return h.table.core.query({trans:A,values:!1,limit:h.limit,query:{index:_,range:h.range}})}).then(function(A){return A.result}).then(f);h.keysOnly=!h.isMatch;var S=[];return this.each(function(A,_){S.push(_.primaryKey)}).then(function(){return S}).then(f)},At.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},At.prototype.firstKey=function(f){return this.limit(1).keys(function(h){return h[0]}).then(f)},At.prototype.lastKey=function(f){return this.reverse().firstKey(f)},At.prototype.distinct=function(){var f=this._ctx,f=f.index&&f.table.schema.idxByName[f.index];if(!f||!f.multi)return this;var h={};return Yr(this._ctx,function(_){var A=_.primaryKey.toString(),_=E(h,A);return h[A]=!0,!_}),this},At.prototype.modify=function(f){var h=this,S=this._ctx;return this._write(function(A){var _=typeof f=="function"?f:function(j){return ji(j,f)},I=S.table.core,V=I.schema.primaryKey,D=V.outbound,O=V.extractKey,q=200,V=h.db._options.modifyChunkSize;V&&(q=typeof V=="object"?V[I.name]||V["*"]||200:V);function Z(j,ae){var ee=ae.failures,ae=ae.numFailures;X+=j-ae;for(var ue=0,Te=m(ee);ue<Te.length;ue++){var _e=Te[ue];L.push(ee[_e])}}var L=[],X=0,z=[],F=f===Zo;return h.clone().primaryKeys().then(function(j){function Q(ae){var ue=Math.min(q,j.length-ae),Te=j.slice(ae,ae+ue);return(F?Promise.resolve([]):I.getMany({trans:A,keys:Te,cache:"immutable"})).then(function(_e){var Ue=[],Ae=[],Re=D?[]:null,ke=F?Te:[];if(!F)for(var Ne=0;Ne<ue;++Ne){var ze=_e[Ne],We={value:Je(ze),primKey:j[ae+Ne]};_.call(We,We.value,We)!==!1&&(We.value==null?ke.push(j[ae+Ne]):D||Ke(O(ze),O(We.value))===0?(Ae.push(We.value),D&&Re.push(j[ae+Ne])):(ke.push(j[ae+Ne]),Ue.push(We.value)))}return Promise.resolve(0<Ue.length&&I.mutate({trans:A,type:"add",values:Ue}).then(function(ot){for(var pt in ot.failures)ke.splice(parseInt(pt),1);Z(Ue.length,ot)})).then(function(){return(0<Ae.length||ee&&typeof f=="object")&&I.mutate({trans:A,type:"put",keys:Re,values:Ae,criteria:ee,changeSpec:typeof f!="function"&&f,isAdditionalChunk:0<ae}).then(function(ot){return Z(Ae.length,ot)})}).then(function(){return(0<ke.length||ee&&F)&&I.mutate({trans:A,type:"delete",keys:ke,criteria:ee,isAdditionalChunk:0<ae}).then(function(ot){return vt(S.table,ke,ot)}).then(function(ot){return Z(ke.length,ot)})}).then(function(){return j.length>ae+ue&&Q(ae+q)})})}var ee=Yi(S)&&S.limit===1/0&&(typeof f!="function"||F)&&{index:S.index,range:S.range};return Q(0).then(function(){if(0<L.length)throw new et("Error modifying one or more objects",L,X,z);return j.length})})})},At.prototype.delete=function(){var f=this._ctx,h=f.range;return!Yi(f)||f.table.schema.yProps||!f.isPrimKey&&h.type!==3?this.modify(Zo):this._write(function(S){var A=f.table.core.schema.primaryKey,_=h;return f.table.core.count({trans:S,query:{index:A,range:_}}).then(function(I){return f.table.core.mutate({trans:S,type:"deleteRange",range:_}).then(function(q){var O=q.failures,q=q.numFailures;if(q)throw new et("Could not delete some values",Object.keys(O).map(function(V){return O[V]}),I-q);return I-q})})})},At);function At(){}var Zo=function(f,h){return h.value=null};function Qo(f,h){return f<h?-1:f===h?0:1}function Nu(f,h){return h<f?-1:f===h?0:1}function Hn(f,h,S){return f=f instanceof ca?new f.Collection(f):f,f._ctx.error=new(S||TypeError)(h),f}function Li(f){return new f.Collection(f,function(){return Kr("")}).limit(0)}function Yn(f,h,S,A){var _,I,D,O,q,V,Z,L=S.length;if(!S.every(function(F){return typeof F=="string"}))return Hn(f,an);function X(F){_=F==="next"?function(Q){return Q.toUpperCase()}:function(Q){return Q.toLowerCase()},I=F==="next"?function(Q){return Q.toLowerCase()}:function(Q){return Q.toUpperCase()},D=F==="next"?Qo:Nu;var j=S.map(function(Q){return{lower:I(Q),upper:_(Q)}}).sort(function(Q,ee){return D(Q.lower,ee.lower)});O=j.map(function(Q){return Q.upper}),q=j.map(function(Q){return Q.lower}),Z=(V=F)==="next"?"":A}X("next"),f=new f.Collection(f,function(){return bi(O[0],q[L-1]+A)}),f._ondirectionchange=function(F){X(F)};var z=0;return f._addAlgorithm(function(F,j,Q){var ee=F.key;if(typeof ee!="string")return!1;var ae=I(ee);if(h(ae,q,z))return!0;for(var ue=null,Te=z;Te<L;++Te){var _e=(function(Ue,Ae,Re,ke,Ne,ze){for(var We=Math.min(Ue.length,ke.length),ot=-1,pt=0;pt<We;++pt){var _n=Ae[pt];if(_n!==ke[pt])return Ne(Ue[pt],Re[pt])<0?Ue.substr(0,pt)+Re[pt]+Re.substr(pt+1):Ne(Ue[pt],ke[pt])<0?Ue.substr(0,pt)+ke[pt]+Re.substr(pt+1):0<=ot?Ue.substr(0,ot)+Ae[ot]+Re.substr(ot+1):null;Ne(Ue[pt],_n)<0&&(ot=pt)}return We<ke.length&&ze==="next"?Ue+Re.substr(Ue.length):We<Ue.length&&ze==="prev"?Ue.substr(0,Re.length):ot<0?null:Ue.substr(0,ot)+ke[ot]+Re.substr(ot+1)})(ee,ae,O[Te],q[Te],D,V);_e===null&&ue===null?z=Te+1:(ue===null||0<D(ue,_e))&&(ue=_e)}return j(ue!==null?function(){F.continue(ue+Z)}:Q),!1}),f}function bi(f,h,S,A){return{type:2,lower:f,upper:h,lowerOpen:S,upperOpen:A}}function Kr(f){return{type:1,lower:f,upper:f}}var ca=(Object.defineProperty(Jt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Jt.prototype.between=function(f,h,S,A){S=S!==!1,A=A===!0;try{return 0<this._cmp(f,h)||this._cmp(f,h)===0&&(S||A)&&(!S||!A)?Li(this):new this.Collection(this,function(){return bi(f,h,!S,!A)})}catch{return Hn(this,Sn)}},Jt.prototype.equals=function(f){return f==null?Hn(this,Sn):new this.Collection(this,function(){return Kr(f)})},Jt.prototype.above=function(f){return f==null?Hn(this,Sn):new this.Collection(this,function(){return bi(f,void 0,!0)})},Jt.prototype.aboveOrEqual=function(f){return f==null?Hn(this,Sn):new this.Collection(this,function(){return bi(f,void 0,!1)})},Jt.prototype.below=function(f){return f==null?Hn(this,Sn):new this.Collection(this,function(){return bi(void 0,f,!1,!0)})},Jt.prototype.belowOrEqual=function(f){return f==null?Hn(this,Sn):new this.Collection(this,function(){return bi(void 0,f)})},Jt.prototype.startsWith=function(f){return typeof f!="string"?Hn(this,an):this.between(f,f+Gn,!0,!0)},Jt.prototype.startsWithIgnoreCase=function(f){return f===""?this.startsWith(f):Yn(this,function(h,S){return h.indexOf(S[0])===0},[f],Gn)},Jt.prototype.equalsIgnoreCase=function(f){return Yn(this,function(h,S){return h===S[0]},[f],"")},Jt.prototype.anyOfIgnoreCase=function(){var f=je.apply(nt,arguments);return f.length===0?Li(this):Yn(this,function(h,S){return S.indexOf(h)!==-1},f,"")},Jt.prototype.startsWithAnyOfIgnoreCase=function(){var f=je.apply(nt,arguments);return f.length===0?Li(this):Yn(this,function(h,S){return S.some(function(A){return h.indexOf(A)===0})},f,Gn)},Jt.prototype.anyOf=function(){var f=this,h=je.apply(nt,arguments),S=this._cmp;try{h.sort(S)}catch{return Hn(this,Sn)}if(h.length===0)return Li(this);var A=new this.Collection(this,function(){return bi(h[0],h[h.length-1])});A._ondirectionchange=function(I){S=I==="next"?f._ascending:f._descending,h.sort(S)};var _=0;return A._addAlgorithm(function(I,D,O){for(var q=I.key;0<S(q,h[_]);)if(++_===h.length)return D(O),!1;return S(q,h[_])===0||(D(function(){I.continue(h[_])}),!1)}),A},Jt.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Jt.prototype.noneOf=function(){var f=je.apply(nt,arguments);if(f.length===0)return new this.Collection(this);try{f.sort(this._ascending)}catch{return Hn(this,Sn)}var h=f.reduce(function(S,A){return S?S.concat([[S[S.length-1][1],A]]):[[-1/0,A]]},null);return h.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},Jt.prototype.inAnyRange=function(ee,h){var S=this,A=this._cmp,_=this._ascending,I=this._descending,D=this._min,O=this._max;if(ee.length===0)return Li(this);if(!ee.every(function(ae){return ae[0]!==void 0&&ae[1]!==void 0&&_(ae[0],ae[1])<=0}))return Hn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Pe.InvalidArgument);var q=!h||h.includeLowers!==!1,V=h&&h.includeUppers===!0,Z,L=_;function X(ae,ue){return L(ae[0],ue[0])}try{(Z=ee.reduce(function(ae,ue){for(var Te=0,_e=ae.length;Te<_e;++Te){var Ue=ae[Te];if(A(ue[0],Ue[1])<0&&0<A(ue[1],Ue[0])){Ue[0]=D(Ue[0],ue[0]),Ue[1]=O(Ue[1],ue[1]);break}}return Te===_e&&ae.push(ue),ae},[])).sort(X)}catch{return Hn(this,Sn)}var z=0,F=V?function(ae){return 0<_(ae,Z[z][1])}:function(ae){return 0<=_(ae,Z[z][1])},j=q?function(ae){return 0<I(ae,Z[z][0])}:function(ae){return 0<=I(ae,Z[z][0])},Q=F,ee=new this.Collection(this,function(){return bi(Z[0][0],Z[Z.length-1][1],!q,!V)});return ee._ondirectionchange=function(ae){L=ae==="next"?(Q=F,_):(Q=j,I),Z.sort(X)},ee._addAlgorithm(function(ae,ue,Te){for(var _e,Ue=ae.key;Q(Ue);)if(++z===Z.length)return ue(Te),!1;return!F(_e=Ue)&&!j(_e)||(S._cmp(Ue,Z[z][1])===0||S._cmp(Ue,Z[z][0])===0||ue(function(){L===_?ae.continue(Z[z][0]):ae.continue(Z[z][1])}),!1)}),ee},Jt.prototype.startsWithAnyOf=function(){var f=je.apply(nt,arguments);return f.every(function(h){return typeof h=="string"})?f.length===0?Li(this):this.inAnyRange(f.map(function(h){return[h,h+Gn]})):Hn(this,"startsWithAnyOf() only works with strings")},Jt);function Jt(){}function ri(f){return Pt(function(h){return da(h),f(h.target.error),!1})}function da(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var qa="storagemutated",fa="x-storagemutated-1",Nn=xr(null,qa),Xo=(Un.prototype._lock=function(){return Ee(!Be.global),++this._reculock,this._reculock!==1||Be.global||(Be.lockOwnerFor=this),this},Un.prototype._unlock=function(){if(Ee(!Be.global),--this._reculock==0)for(Be.global||(Be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{zn(f[1],f[0])}catch{}}return this},Un.prototype._locked=function(){return this._reculock&&Be.lockOwnerFor!==this},Un.prototype.create=function(f){var h=this;if(!this.mode)return this;var S=this.db.idbdb,A=this.db._state.dbOpenError;if(Ee(!this.idbtrans),!f&&!S)switch(A&&A.name){case"DatabaseClosedError":throw new Pe.DatabaseClosed(A);case"MissingAPIError":throw new Pe.MissingAPI(A.message,A);default:throw new Pe.OpenFailed(A)}if(!this.active)throw new Pe.TransactionInactive;return Ee(this._completion._state===null),(f=this.idbtrans=f||(this.db.core||S).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Pt(function(_){da(_),h._reject(f.error)}),f.onabort=Pt(function(_){da(_),h.active&&h._reject(new Pe.Abort(f.error)),h.active=!1,h.on("abort").fire(_)}),f.oncomplete=Pt(function(){h.active=!1,h._resolve(),"mutatedParts"in f&&Nn.storagemutated.fire(f.mutatedParts)}),this},Un.prototype._promise=function(f,h,S){var A=this;if(f==="readwrite"&&this.mode!=="readwrite")return kt(new Pe.ReadOnly("Transaction is readonly"));if(!this.active)return kt(new Pe.TransactionInactive);if(this._locked())return new Oe(function(I,D){A._blockedFuncs.push([function(){A._promise(f,h,S).then(I,D)},Be])});if(S)return Bt(function(){var I=new Oe(function(D,O){A._lock();var q=h(D,O,A);q&&q.then&&q.then(D,O)});return I.finally(function(){return A._unlock()}),I._lib=!0,I});var _=new Oe(function(I,D){var O=h(I,D,A);O&&O.then&&O.then(I,D)});return _._lib=!0,_},Un.prototype._root=function(){return this.parent?this.parent._root():this},Un.prototype.waitFor=function(f){var h,S=this._root(),A=Oe.resolve(f);S._waitingFor?S._waitingFor=S._waitingFor.then(function(){return A}):(S._waitingFor=A,S._waitingQueue=[],h=S.idbtrans.objectStore(S.storeNames[0]),(function I(){for(++S._spinCount;S._waitingQueue.length;)S._waitingQueue.shift()();S._waitingFor&&(h.get(-1/0).onsuccess=I)})());var _=S._waitingFor;return new Oe(function(I,D){A.then(function(O){return S._waitingQueue.push(Pt(I.bind(null,O)))},function(O){return S._waitingQueue.push(Pt(D.bind(null,O)))}).finally(function(){S._waitingFor===_&&(S._waitingFor=null)})})},Un.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Pe.Abort))},Un.prototype.table=function(f){var h=this._memoizedTables||(this._memoizedTables={});if(E(h,f))return h[f];var S=this.schema[f];if(!S)throw new Pe.NotFound("Table "+f+" not part of transaction");return S=new this.db.Table(f,S,this),S.core=this.db.core.table(f),h[f]=S},Un);function Un(){}function xi(f,h,S,A,_,I,D,O){return{name:f,keyPath:h,unique:S,multi:A,auto:_,compound:I,src:(S&&!D?"&":"")+(A?"*":"")+(_?"++":"")+Zr(h),type:O}}function Zr(f){return typeof f=="string"?f:f?"["+[].join.call(f,"+")+"]":""}function Va(f,h,S){return{name:f,primKey:h,indexes:S,mappedClass:null,idxByName:(A=function(_){return[_.name,_]},S.reduce(function(_,I,D){return D=A(I,D),D&&(_[D[0]]=D[1]),_},{}))};var A}var za=function(f){try{return f.only([[]]),za=function(){return[[]]},[[]]}catch{return za=function(){return Gn},Gn}};function Ga(f){return f==null?function(){}:typeof f=="string"?(h=f).split(".").length===1?function(S){return S[h]}:function(S){return De(S,h)}:function(S){return De(S,f)};var h}function Ar(f){return[].slice.call(f)}var Xs=0;function fn(f){return f==null?":id":typeof f=="string"?f:"[".concat(f.join("+"),"]")}function pa(f,h,q){function A(Q){if(Q.type===3)return null;if(Q.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var z=Q.lower,F=Q.upper,j=Q.lowerOpen,Q=Q.upperOpen;return z===void 0?F===void 0?null:h.upperBound(F,!!Q):F===void 0?h.lowerBound(z,!!j):h.bound(z,F,!!j,!!Q)}function _(X){var z,F=X.name;return{name:F,schema:X,mutate:function(j){var Q=j.trans,ee=j.type,ae=j.keys,ue=j.values,Te=j.range;return new Promise(function(_e,Ue){_e=Pt(_e);var Ae=Q.objectStore(F),Re=Ae.keyPath==null,ke=ee==="put"||ee==="add";if(!ke&&ee!=="delete"&&ee!=="deleteRange")throw new Error("Invalid operation type: "+ee);var Ne,ze=(ae||ue||{length:1}).length;if(ae&&ue&&ae.length!==ue.length)throw new Error("Given keys array must have same length as given values array.");if(ze===0)return _e({numFailures:0,failures:{},results:[],lastResult:void 0});function We(mn){++_n,da(mn)}var ot=[],pt=[],_n=0;if(ee==="deleteRange"){if(Te.type===4)return _e({numFailures:_n,failures:pt,results:[],lastResult:void 0});Te.type===3?ot.push(Ne=Ae.clear()):ot.push(Ne=Ae.delete(A(Te)))}else{var Re=ke?Re?[ue,ae]:[ue,null]:[ae,null],at=Re[0],pn=Re[1];if(ke)for(var Qt=0;Qt<ze;++Qt)ot.push(Ne=pn&&pn[Qt]!==void 0?Ae[ee](at[Qt],pn[Qt]):Ae[ee](at[Qt])),Ne.onerror=We;else for(Qt=0;Qt<ze;++Qt)ot.push(Ne=Ae[ee](at[Qt])),Ne.onerror=We}function Mr(mn){mn=mn.target.result,ot.forEach(function(Kn,ds){return Kn.error!=null&&(pt[ds]=Kn.error)}),_e({numFailures:_n,failures:pt,results:ee==="delete"?ae:ot.map(function(Kn){return Kn.result}),lastResult:mn})}Ne.onerror=function(mn){We(mn),Mr(mn)},Ne.onsuccess=Mr})},getMany:function(j){var Q=j.trans,ee=j.keys;return new Promise(function(ae,ue){ae=Pt(ae);for(var Te,_e=Q.objectStore(F),Ue=ee.length,Ae=new Array(Ue),Re=0,ke=0,Ne=function(ot){ot=ot.target,Ae[ot._pos]=ot.result,++ke===Re&&ae(Ae)},ze=ri(ue),We=0;We<Ue;++We)ee[We]!=null&&((Te=_e.get(ee[We]))._pos=We,Te.onsuccess=Ne,Te.onerror=ze,++Re);Re===0&&ae(Ae)})},get:function(j){var Q=j.trans,ee=j.key;return new Promise(function(ae,ue){ae=Pt(ae);var Te=Q.objectStore(F).get(ee);Te.onsuccess=function(_e){return ae(_e.target.result)},Te.onerror=ri(ue)})},query:(z=V,function(j){return new Promise(function(Q,ee){Q=Pt(Q);var ae,ue,Te,Re=j.trans,_e=j.values,Ue=j.limit,Ne=j.query,Ae=Ue===1/0?void 0:Ue,ke=Ne.index,Ne=Ne.range,Re=Re.objectStore(F),ke=ke.isPrimaryKey?Re:Re.index(ke.name),Ne=A(Ne);if(Ue===0)return Q({result:[]});z?((Ae=_e?ke.getAll(Ne,Ae):ke.getAllKeys(Ne,Ae)).onsuccess=function(ze){return Q({result:ze.target.result})},Ae.onerror=ri(ee)):(ae=0,ue=!_e&&"openKeyCursor"in ke?ke.openKeyCursor(Ne):ke.openCursor(Ne),Te=[],ue.onsuccess=function(ze){var We=ue.result;return We?(Te.push(_e?We.value:We.primaryKey),++ae===Ue?Q({result:Te}):void We.continue()):Q({result:Te})},ue.onerror=ri(ee))})}),openCursor:function(j){var Q=j.trans,ee=j.values,ae=j.query,ue=j.reverse,Te=j.unique;return new Promise(function(_e,Ue){_e=Pt(_e);var ke=ae.index,Ae=ae.range,Re=Q.objectStore(F),Re=ke.isPrimaryKey?Re:Re.index(ke.name),ke=ue?Te?"prevunique":"prev":Te?"nextunique":"next",Ne=!ee&&"openKeyCursor"in Re?Re.openKeyCursor(A(Ae),ke):Re.openCursor(A(Ae),ke);Ne.onerror=ri(Ue),Ne.onsuccess=Pt(function(ze){var We,ot,pt,_n,at=Ne.result;at?(at.___id=++Xs,at.done=!1,We=at.continue.bind(at),ot=(ot=at.continuePrimaryKey)&&ot.bind(at),pt=at.advance.bind(at),_n=function(){throw new Error("Cursor not stopped")},at.trans=Q,at.stop=at.continue=at.continuePrimaryKey=at.advance=function(){throw new Error("Cursor not started")},at.fail=Pt(Ue),at.next=function(){var pn=this,Qt=1;return this.start(function(){return Qt--?pn.continue():pn.stop()}).then(function(){return pn})},at.start=function(pn){function Qt(){if(Ne.result)try{pn()}catch(mn){at.fail(mn)}else at.done=!0,at.start=function(){throw new Error("Cursor behind last entry")},at.stop()}var Mr=new Promise(function(mn,Kn){mn=Pt(mn),Ne.onerror=ri(Kn),at.fail=Kn,at.stop=function(ds){at.stop=at.continue=at.continuePrimaryKey=at.advance=_n,mn(ds)}});return Ne.onsuccess=Pt(function(mn){Ne.onsuccess=Qt,Qt()}),at.continue=We,at.continuePrimaryKey=ot,at.advance=pt,Qt(),Mr},_e(at)):_e(null)},Ue)})},count:function(j){var Q=j.query,ee=j.trans,ae=Q.index,ue=Q.range;return new Promise(function(Te,_e){var Ue=ee.objectStore(F),Ae=ae.isPrimaryKey?Ue:Ue.index(ae.name),Ue=A(ue),Ae=Ue?Ae.count(Ue):Ae.count();Ae.onsuccess=Pt(function(Re){return Te(Re.target.result)}),Ae.onerror=ri(_e)})}}}var I,D,O,Z=(D=q,O=Ar((I=f).objectStoreNames),{schema:{name:I.name,tables:O.map(function(X){return D.objectStore(X)}).map(function(X){var z=X.keyPath,Q=X.autoIncrement,F=v(z),j={},Q={name:X.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:z==null,compound:F,keyPath:z,autoIncrement:Q,unique:!0,extractKey:Ga(z)},indexes:Ar(X.indexNames).map(function(ee){return X.index(ee)}).map(function(Te){var ae=Te.name,ue=Te.unique,_e=Te.multiEntry,Te=Te.keyPath,_e={name:ae,compound:v(Te),keyPath:Te,unique:ue,multiEntry:_e,extractKey:Ga(Te)};return j[fn(Te)]=_e}),getIndexByKeyPath:function(ee){return j[fn(ee)]}};return j[":id"]=Q.primaryKey,z!=null&&(j[fn(z)]=Q.primaryKey),Q})},hasGetAll:0<O.length&&"getAll"in D.objectStore(O[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),q=Z.schema,V=Z.hasGetAll,Z=q.tables.map(_),L={};return Z.forEach(function(X){return L[X.name]=X}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function(X){if(!L[X])throw new Error("Table '".concat(X,"' not found"));return L[X]},MIN_KEY:-1/0,MAX_KEY:za(h),schema:q}}function Qr(f,h,S,A){var _=S.IDBKeyRange;return S.indexedDB,{dbcore:(A=pa(h,_,A),f.dbcore.reduce(function(I,D){return D=D.create,o(o({},I),D(I))},A))}}function Ki(f,A){var S=A.db,A=Qr(f._middlewares,S,f._deps,A);f.core=A.dbcore,f.tables.forEach(function(_){var I=_.name;f.core.schema.tables.some(function(D){return D.name===I})&&(_.core=f.core.table(I),f[I]instanceof f.Table&&(f[I].core=_.core))})}function Xr(f,h,S,A){S.forEach(function(_){var I=A[_];h.forEach(function(D){var O=(function q(V,Z){return Y(V,Z)||(V=T(V))&&q(V,Z)})(D,_);(!O||"value"in O&&O.value===void 0)&&(D===f.Transaction.prototype||D instanceof f.Transaction?P(D,_,{get:function(){return this.table(_)},set:function(q){M(this,_,{value:q,writable:!0,configurable:!0,enumerable:!0})}}):D[_]=new f.Table(_,I))})})}function Nr(f,h){h.forEach(function(S){for(var A in S)S[A]instanceof f.Table&&delete S[A]})}function Wo(f,h){return f._cfg.version-h._cfg.version}function Cr(f,h,S,A){var _=f._dbSchema;S.objectStoreNames.contains("$meta")&&!_.$meta&&(_.$meta=Va("$meta",$s("")[0],[]),f._storeNames.push("$meta"));var I=f._createTransaction("readwrite",f._storeNames,_);I.create(S),I._completion.catch(A);var D=I._reject.bind(I),O=Be.transless||Be;Bt(function(){return Be.trans=I,Be.transless=O,h!==0?(Ki(f,S),V=h,((q=I).storeNames.includes("$meta")?q.table("$meta").get("version").then(function(Z){return Z??V}):Oe.resolve(V)).then(function(Z){return X=Z,z=I,F=S,j=[],Z=(L=f)._versions,Q=L._dbSchema=Ha(0,L.idbdb,F),(Z=Z.filter(function(ee){return ee._cfg.version>=X})).length!==0?(Z.forEach(function(ee){j.push(function(){var ae=Q,ue=ee._cfg.dbschema;to(L,ae,F),to(L,ue,F),Q=L._dbSchema=ue;var Te=$r(ae,ue);Te.add.forEach(function(ke){$o(F,ke[0],ke[1].primKey,ke[1].indexes)}),Te.change.forEach(function(ke){if(ke.recreate)throw new Pe.Upgrade("Not yet support for changing primary key");var Ne=F.objectStore(ke.name);ke.add.forEach(function(ze){return eo(Ne,ze)}),ke.change.forEach(function(ze){Ne.deleteIndex(ze.name),eo(Ne,ze)}),ke.del.forEach(function(ze){return Ne.deleteIndex(ze)})});var _e=ee._cfg.contentUpgrade;if(_e&&ee._cfg.version>X){Ki(L,F),z._memoizedTables={};var Ue=Me(ue);Te.del.forEach(function(ke){Ue[ke]=ae[ke]}),Nr(L,[L.Transaction.prototype]),Xr(L,[L.Transaction.prototype],m(Ue),Ue),z.schema=Ue;var Ae,Re=B(_e);return Re&&nn(),Te=Oe.follow(function(){var ke;(Ae=_e(z))&&Re&&(ke=Rn.bind(null,null),Ae.then(ke,ke))}),Ae&&typeof Ae.then=="function"?Oe.resolve(Ae):Te.then(function(){return Ae})}}),j.push(function(ae){var ue,Te,_e=ee._cfg.dbschema;ue=_e,Te=ae,[].slice.call(Te.db.objectStoreNames).forEach(function(Ue){return ue[Ue]==null&&Te.db.deleteObjectStore(Ue)}),Nr(L,[L.Transaction.prototype]),Xr(L,[L.Transaction.prototype],L._storeNames,L._dbSchema),z.schema=L._dbSchema}),j.push(function(ae){L.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(L.idbdb.version/10)===ee._cfg.version?(L.idbdb.deleteObjectStore("$meta"),delete L._dbSchema.$meta,L._storeNames=L._storeNames.filter(function(ue){return ue!=="$meta"})):ae.objectStore("$meta").put(ee._cfg.version,"version"))})}),(function ee(){return j.length?Oe.resolve(j.shift()(z.idbtrans)).then(ee):Oe.resolve()})().then(function(){Ws(Q,F)})):Oe.resolve();var L,X,z,F,j,Q}).catch(D)):(m(_).forEach(function(Z){$o(S,Z,_[Z].primKey,_[Z].indexes)}),Ki(f,S),void Oe.follow(function(){return f.on.populate.fire(I)}).catch(D));var q,V})}function Wr(f,h){Ws(f._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var S=Ha(0,f.idbdb,h);to(f,f._dbSchema,h);for(var A=0,_=$r(S,f._dbSchema).change;A<_.length;A++){var I=(function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var O=h.objectStore(D.name);D.add.forEach(function(q){yt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(q.src)),eo(O,q)})})(_[A]);if(typeof I=="object")return I.value}}function $r(f,h){var S,A={del:[],add:[],change:[]};for(S in f)h[S]||A.del.push(S);for(S in h){var _=f[S],I=h[S];if(_){var D={name:S,def:I,recreate:!1,del:[],add:[],change:[]};if(""+(_.primKey.keyPath||"")!=""+(I.primKey.keyPath||"")||_.primKey.auto!==I.primKey.auto)D.recreate=!0,A.change.push(D);else{var O=_.idxByName,q=I.idxByName,V=void 0;for(V in O)q[V]||D.del.push(V);for(V in q){var Z=O[V],L=q[V];Z?Z.src!==L.src&&D.change.push(L):D.add.push(L)}(0<D.del.length||0<D.add.length||0<D.change.length)&&A.change.push(D)}}else A.add.push([S,I])}return A}function $o(f,h,S,A){var _=f.db.createObjectStore(h,S.keyPath?{keyPath:S.keyPath,autoIncrement:S.auto}:{autoIncrement:S.auto});return A.forEach(function(I){return eo(_,I)}),_}function Ws(f,h){m(f).forEach(function(S){h.db.objectStoreNames.contains(S)||(yt&&console.debug("Dexie: Creating missing table",S),$o(h,S,f[S].primKey,f[S].indexes))})}function eo(f,h){f.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function Ha(f,h,S){var A={};return $(h.objectStoreNames,0).forEach(function(_){for(var I=S.objectStore(_),D=xi(Zr(V=I.keyPath),V||"",!0,!1,!!I.autoIncrement,V&&typeof V!="string",!0),O=[],q=0;q<I.indexNames.length;++q){var Z=I.index(I.indexNames[q]),V=Z.keyPath,Z=xi(Z.name,V,!!Z.unique,!!Z.multiEntry,!1,V&&typeof V!="string",!1);O.push(Z)}A[_]=Va(_,D,O)}),A}function to(f,h,S){for(var A=S.db.objectStoreNames,_=0;_<A.length;++_){var I=A[_],D=S.objectStore(I);f._hasGetAll="getAll"in D;for(var O=0;O<D.indexNames.length;++O){var q=D.indexNames[O],V=D.index(q).keyPath,Z=typeof V=="string"?V:"["+$(V).join("+")+"]";!h[I]||(V=h[I].idxByName[Z])&&(V.name=q,delete h[I].idxByName[Z],h[I].idxByName[q]=V)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function $s(f){return f.split(",").map(function(h,S){var I=h.split(":"),A=(_=I[1])===null||_===void 0?void 0:_.trim(),_=(h=I[0].trim()).replace(/([&*]|\+\+)/g,""),I=/^\[/.test(_)?_.match(/^\[(.*)\]$/)[1].split("+"):_;return xi(_,I||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),v(I),S===0,A)})}var Cu=(Fa.prototype._createTableSchema=Va,Fa.prototype._parseIndexSyntax=$s,Fa.prototype._parseStoresSpec=function(f,h){var S=this;m(f).forEach(function(A){if(f[A]!==null){var _=S._parseIndexSyntax(f[A]),I=_.shift();if(!I)throw new Pe.Schema("Invalid schema for table "+A+": "+f[A]);if(I.unique=!0,I.multi)throw new Pe.Schema("Primary key cannot be multiEntry*");_.forEach(function(D){if(D.auto)throw new Pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new Pe.Schema("Index must have a name and cannot be an empty string")}),_=S._createTableSchema(A,I,_),h[A]=_}})},Fa.prototype.stores=function(S){var h=this.db;this._cfg.storesSource=this._cfg.storesSource?b(this._cfg.storesSource,S):S;var S=h._versions,A={},_={};return S.forEach(function(I){b(A,I._cfg.storesSource),_=I._cfg.dbschema={},I._parseStoresSpec(A,_)}),h._dbSchema=_,Nr(h,[h._allTables,h,h.Transaction.prototype]),Xr(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],m(_),_),h._storeNames=m(_),this},Fa.prototype.upgrade=function(f){return this._cfg.contentUpgrade=un(this._cfg.contentUpgrade||le,f),this},Fa);function Fa(){}function es(f,h){var S=f._dbNamesDB;return S||(S=f._dbNamesDB=new Si(la,{addons:[],indexedDB:f,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),S.table("dbnames")}function no(f){return f&&typeof f.databases=="function"}function ts(f){return Bt(function(){return Be.letThrough=!0,f()})}function ns(f){return!("from"in f)}var Cn=function(f,h){if(!this){var S=new Cn;return f&&"d"in f&&b(S,f),S}b(this,arguments.length?{d:1,from:f,to:1<arguments.length?h:f}:{d:0})};function _r(f,h,S){var A=Ke(h,S);if(!isNaN(A)){if(0<A)throw RangeError();if(ns(f))return b(f,{from:h,to:S,d:1});var _=f.l,A=f.r;if(Ke(S,f.from)<0)return _?_r(_,h,S):f.l={from:h,to:S,d:1,l:null,r:null},tl(f);if(0<Ke(h,f.to))return A?_r(A,h,S):f.r={from:h,to:S,d:1,l:null,r:null},tl(f);Ke(h,f.from)<0&&(f.from=h,f.l=null,f.d=A?A.d+1:1),0<Ke(S,f.to)&&(f.to=S,f.r=null,f.d=f.l?f.l.d+1:1),S=!f.r,_&&!f.l&&ma(f,_),A&&S&&ma(f,A)}}function ma(f,h){ns(h)||(function S(A,q){var I=q.from,D=q.to,O=q.l,q=q.r;_r(A,I,D),O&&S(A,O),q&&S(A,q)})(f,h)}function el(f,h){var S=io(h),A=S.next();if(A.done)return!1;for(var _=A.value,I=io(f),D=I.next(_.from),O=D.value;!A.done&&!D.done;){if(Ke(O.from,_.to)<=0&&0<=Ke(O.to,_.from))return!0;Ke(_.from,O.from)<0?_=(A=S.next(O.from)).value:O=(D=I.next(_.from)).value}return!1}function io(f){var h=ns(f)?null:{s:0,n:f};return{next:function(S){for(var A=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,A)for(;h.n.l&&Ke(S,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!A||Ke(S,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function tl(f){var h,S,A=(((h=f.r)===null||h===void 0?void 0:h.d)||0)-(((S=f.l)===null||S===void 0?void 0:S.d)||0),_=1<A?"r":A<-1?"l":"";_&&(h=_=="r"?"l":"r",S=o({},f),A=f[_],f.from=A.from,f.to=A.to,f[_]=A[_],S[_]=A[h],(f[h]=S).d=is(S)),f.d=is(f)}function is(S){var h=S.r,S=S.l;return(h?S?Math.max(h.d,S.d):h.d:S?S.d:0)+1}function ao(f,h){return m(h).forEach(function(S){f[S]?ma(f[S],h[S]):f[S]=(function A(_){var I,D,O={};for(I in _)E(_,I)&&(D=_[I],O[I]=!D||typeof D!="object"||ge.has(D.constructor)?D:A(D));return O})(h[S])}),f}function as(f,h){return f.all||h.all||Object.keys(f).some(function(S){return h[S]&&el(h[S],f[S])})}C(Cn.prototype,((Fn={add:function(f){return ma(this,f),this},addKey:function(f){return _r(this,f,f),this},addKeys:function(f){var h=this;return f.forEach(function(S){return _r(h,S,S)}),this},hasKey:function(f){var h=io(this).next(f).value;return h&&Ke(h.from,f)<=0&&0<=Ke(h.to,f)}})[ie]=function(){return io(this)},Fn));var ha={},rs={},os=!1;function ro(f){ao(rs,f),os||(os=!0,setTimeout(function(){os=!1,ss(rs,!(rs={}))},0))}function ss(f,h){h===void 0&&(h=!1);var S=new Set;if(f.all)for(var A=0,_=Object.values(ha);A<_.length;A++)nl(D=_[A],f,S,h);else for(var I in f){var D,O=/^idb\:\/\/(.*)\/(.*)\//.exec(I);O&&(I=O[1],O=O[2],(D=ha["idb://".concat(I,"/").concat(O)])&&nl(D,f,S,h))}S.forEach(function(q){return q()})}function nl(f,h,S,A){for(var _=[],I=0,D=Object.entries(f.queries.query);I<D.length;I++){for(var O=D[I],q=O[0],V=[],Z=0,L=O[1];Z<L.length;Z++){var X=L[Z];as(h,X.obsSet)?X.subscribers.forEach(function(Q){return S.add(Q)}):A&&V.push(X)}A&&_.push([q,V])}if(A)for(var z=0,F=_;z<F.length;z++){var j=F[z],q=j[0],V=j[1];f.queries.query[q]=V}}function _u(f){var h=f._state,S=f._deps.indexedDB;if(h.isBeingOpened||f.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?kt(h.dbOpenError):f});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var A=h.openCanceller,_=Math.round(10*f.verno),I=!1;function D(){if(h.openCanceller!==A)throw new Pe.DatabaseClosed("db.open() was cancelled")}function O(){return new Oe(function(X,z){if(D(),!S)throw new Pe.MissingAPI;var F=f.name,j=h.autoSchema||!_?S.open(F):S.open(F,_);if(!j)throw new Pe.MissingAPI;j.onerror=ri(z),j.onblocked=Pt(f._fireOnBlocked),j.onupgradeneeded=Pt(function(Q){var ee;Z=j.transaction,h.autoSchema&&!f._options.allowEmptyDB?(j.onerror=da,Z.abort(),j.result.close(),(ee=S.deleteDatabase(F)).onsuccess=ee.onerror=Pt(function(){z(new Pe.NoSuchDatabase("Database ".concat(F," doesnt exist")))})):(Z.onerror=ri(z),Q=Q.oldVersion>Math.pow(2,62)?0:Q.oldVersion,L=Q<1,f.idbdb=j.result,I&&Wr(f,Z),Cr(f,Q/10,Z,z))},z),j.onsuccess=Pt(function(){Z=null;var Q,ee,ae,ue,Te,_e=f.idbdb=j.result,Ue=$(_e.objectStoreNames);if(0<Ue.length)try{var Ae=_e.transaction((ue=Ue).length===1?ue[0]:ue,"readonly");if(h.autoSchema)ee=_e,ae=Ae,(Q=f).verno=ee.version/10,ae=Q._dbSchema=Ha(0,ee,ae),Q._storeNames=$(ee.objectStoreNames,0),Xr(Q,[Q._allTables],m(ae),ae);else if(to(f,f._dbSchema,Ae),((Te=$r(Ha(0,(Te=f).idbdb,Ae),Te._dbSchema)).add.length||Te.change.some(function(Re){return Re.add.length||Re.change.length}))&&!I)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),_e.close(),_=_e.version+1,I=!0,X(O());Ki(f,Ae)}catch{}Pi.push(f),_e.onversionchange=Pt(function(Re){h.vcFired=!0,f.on("versionchange").fire(Re)}),_e.onclose=Pt(function(){f.close({disableAutoOpen:!1})}),L&&(Te=f._deps,Ae=F,_e=Te.indexedDB,Te=Te.IDBKeyRange,no(_e)||Ae===la||es(_e,Te).put({name:Ae}).catch(le)),X()},z)}).catch(function(X){switch(X==null?void 0:X.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),O();break;case"VersionError":if(0<_)return _=0,O()}return Oe.reject(X)})}var q,V=h.dbReadyResolve,Z=null,L=!1;return Oe.race([A,(typeof navigator>"u"?Oe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(X){function z(){return indexedDB.databases().finally(X)}q=setInterval(z,100),z()}).finally(function(){return clearInterval(q)}):Promise.resolve()).then(O)]).then(function(){return D(),h.onReadyBeingFired=[],Oe.resolve(ts(function(){return f.on.ready.fire(f.vip)})).then(function X(){if(0<h.onReadyBeingFired.length){var z=h.onReadyBeingFired.reduce(un,le);return h.onReadyBeingFired=[],Oe.resolve(ts(function(){return z(f.vip)})).then(X)}})}).finally(function(){h.openCanceller===A&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(X){h.dbOpenError=X;try{Z&&Z.abort()}catch{}return A===h.openCanceller&&f._close(),kt(X)}).finally(function(){h.openComplete=!0,V()}).then(function(){var X;return L&&(X={},f.tables.forEach(function(z){z.schema.indexes.forEach(function(F){F.name&&(X["idb://".concat(f.name,"/").concat(z.name,"/").concat(F.name)]=new Cn(-1/0,[[[]]]))}),X["idb://".concat(f.name,"/").concat(z.name,"/")]=X["idb://".concat(f.name,"/").concat(z.name,"/:dels")]=new Cn(-1/0,[[[]]])}),Nn(qa).fire(X),ss(X,!0)),f})}function Ir(f){function h(I){return f.next(I)}var S=_(h),A=_(function(I){return f.throw(I)});function _(I){return function(q){var O=I(q),q=O.value;return O.done?q:q&&typeof q.then=="function"?q.then(S,A):v(q)?Promise.all(q).then(S,A):S(q)}}return _(h)()}function Zi(f,h,S){for(var A=v(f)?f.slice():[f],_=0;_<S;++_)A.push(h);return A}var Iu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return o(o({},f),{table:function(h){var S=f.table(h),A=S.schema,_={},I=[];function D(L,X,z){var F=fn(L),j=_[F]=_[F]||[],Q=L==null?0:typeof L=="string"?1:L.length,ee=0<X,ee=o(o({},z),{name:ee?"".concat(F,"(virtual-from:").concat(z.name,")"):z.name,lowLevelIndex:z,isVirtual:ee,keyTail:X,keyLength:Q,extractKey:Ga(L),unique:!ee&&z.unique});return j.push(ee),ee.isPrimaryKey||I.push(ee),1<Q&&D(Q===2?L[0]:L.slice(0,Q-1),X+1,z),j.sort(function(ae,ue){return ae.keyTail-ue.keyTail}),ee}h=D(A.primaryKey.keyPath,0,A.primaryKey),_[":id"]=[h];for(var O=0,q=A.indexes;O<q.length;O++){var V=q[O];D(V.keyPath,0,V)}function Z(L){var X,z=L.query.index;return z.isVirtual?o(o({},L),{query:{index:z.lowLevelIndex,range:(X=L.query.range,z=z.keyTail,{type:X.type===1?2:X.type,lower:Zi(X.lower,X.lowerOpen?f.MAX_KEY:f.MIN_KEY,z),lowerOpen:!0,upper:Zi(X.upper,X.upperOpen?f.MIN_KEY:f.MAX_KEY,z),upperOpen:!0})}}):L}return o(o({},S),{schema:o(o({},A),{primaryKey:h,indexes:I,getIndexByKeyPath:function(L){return(L=_[fn(L)])&&L[0]}}),count:function(L){return S.count(Z(L))},query:function(L){return S.query(Z(L))},openCursor:function(L){var X=L.query.index,z=X.keyTail,F=X.isVirtual,j=X.keyLength;return F?S.openCursor(Z(L)).then(function(ee){return ee&&Q(ee)}):S.openCursor(L);function Q(ee){return Object.create(ee,{continue:{value:function(ae){ae!=null?ee.continue(Zi(ae,L.reverse?f.MAX_KEY:f.MIN_KEY,z)):L.unique?ee.continue(ee.key.slice(0,j).concat(L.reverse?f.MIN_KEY:f.MAX_KEY,z)):ee.continue()}},continuePrimaryKey:{value:function(ae,ue){ee.continuePrimaryKey(Zi(ae,f.MAX_KEY,z),ue)}},primaryKey:{get:function(){return ee.primaryKey}},key:{get:function(){var ae=ee.key;return j===1?ae[0]:ae.slice(0,j)}},value:{get:function(){return ee.value}}})}}})}})}};function oo(f,h,S,A){return S=S||{},A=A||"",m(f).forEach(function(_){var I,D,O;E(h,_)?(I=f[_],D=h[_],typeof I=="object"&&typeof D=="object"&&I&&D?(O=Xe(I))!==Xe(D)?S[A+_]=h[_]:O==="Object"?oo(I,D,S,A+_+"."):I!==D&&(S[A+_]=h[_]):I!==D&&(S[A+_]=h[_])):S[A+_]=void 0}),m(h).forEach(function(_){E(f,_)||(S[A+_]=h[_])}),S}function so(f,h){return h.type==="delete"?h.keys:h.keys||h.values.map(f.extractKey)}var il={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return o(o({},f),{table:function(h){var S=f.table(h),A=S.schema.primaryKey;return o(o({},S),{mutate:function(_){var I=Be.trans,D=I.table(h).hook,O=D.deleting,q=D.creating,V=D.updating;switch(_.type){case"add":if(q.fire===le)break;return I._promise("readwrite",function(){return Z(_)},!0);case"put":if(q.fire===le&&V.fire===le)break;return I._promise("readwrite",function(){return Z(_)},!0);case"delete":if(O.fire===le)break;return I._promise("readwrite",function(){return Z(_)},!0);case"deleteRange":if(O.fire===le)break;return I._promise("readwrite",function(){return(function L(X,z,F){return S.query({trans:X,values:!1,query:{index:A,range:z},limit:F}).then(function(j){var Q=j.result;return Z({type:"delete",keys:Q,trans:X}).then(function(ee){return 0<ee.numFailures?Promise.reject(ee.failures[0]):Q.length<F?{failures:[],numFailures:0,lastResult:void 0}:L(X,o(o({},z),{lower:Q[Q.length-1],lowerOpen:!0}),F)})})})(_.trans,_.range,1e4)},!0)}return S.mutate(_);function Z(L){var X,z,F,j=Be.trans,Q=L.keys||so(A,L);if(!Q)throw new Error("Keys missing");return(L=L.type==="add"||L.type==="put"?o(o({},L),{keys:Q}):o({},L)).type!=="delete"&&(L.values=l([],L.values)),L.keys&&(L.keys=l([],L.keys)),X=S,F=Q,((z=L).type==="add"?Promise.resolve([]):X.getMany({trans:z.trans,keys:F,cache:"immutable"})).then(function(ee){var ae=Q.map(function(ue,Te){var _e,Ue,Ae,Re=ee[Te],ke={onerror:null,onsuccess:null};return L.type==="delete"?O.fire.call(ke,ue,Re,j):L.type==="add"||Re===void 0?(_e=q.fire.call(ke,ue,L.values[Te],j),ue==null&&_e!=null&&(L.keys[Te]=ue=_e,A.outbound||J(L.values[Te],A.keyPath,ue))):(_e=oo(Re,L.values[Te]),(Ue=V.fire.call(ke,_e,ue,Re,j))&&(Ae=L.values[Te],Object.keys(Ue).forEach(function(Ne){E(Ae,Ne)?Ae[Ne]=Ue[Ne]:J(Ae,Ne,Ue[Ne])}))),ke});return S.mutate(L).then(function(ue){for(var Te=ue.failures,_e=ue.results,Ue=ue.numFailures,ue=ue.lastResult,Ae=0;Ae<Q.length;++Ae){var Re=(_e||Q)[Ae],ke=ae[Ae];Re==null?ke.onerror&&ke.onerror(Te[Ae]):ke.onsuccess&&ke.onsuccess(L.type==="put"&&ee[Ae]?L.values[Ae]:Re)}return{failures:Te,results:_e,numFailures:Ue,lastResult:ue}}).catch(function(ue){return ae.forEach(function(Te){return Te.onerror&&Te.onerror(ue)}),Promise.reject(ue)})})}}})}})}};function ls(f,h,S){try{if(!h||h.keys.length<f.length)return null;for(var A=[],_=0,I=0;_<h.keys.length&&I<f.length;++_)Ke(h.keys[_],f[I])===0&&(A.push(S?Je(h.values[_]):h.values[_]),++I);return A.length===f.length?A:null}catch{return null}}var al={stack:"dbcore",level:-1,create:function(f){return{table:function(h){var S=f.table(h);return o(o({},S),{getMany:function(A){if(!A.cache)return S.getMany(A);var _=ls(A.keys,A.trans._cache,A.cache==="clone");return _?Oe.resolve(_):S.getMany(A).then(function(I){return A.trans._cache={keys:A.keys,values:A.cache==="clone"?Je(I):I},I})},mutate:function(A){return A.type!=="add"&&(A.trans._cache=null),S.mutate(A)}})}}}};function ga(f,h){return f.trans.mode==="readonly"&&!!f.subscr&&!f.trans.explicit&&f.trans.db._options.cache!=="disabled"&&!h.schema.primaryKey.outbound}function rl(f,h){switch(f){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var wu={stack:"dbcore",level:0,name:"Observability",create:function(f){var h=f.schema.name,S=new Cn(f.MIN_KEY,f.MAX_KEY);return o(o({},f),{transaction:function(A,_,I){if(Be.subscr&&_!=="readonly")throw new Pe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Be.querier));return f.transaction(A,_,I)},table:function(A){var _=f.table(A),I=_.schema,D=I.primaryKey,L=I.indexes,O=D.extractKey,q=D.outbound,V=D.autoIncrement&&L.filter(function(z){return z.compound&&z.keyPath.includes(D.keyPath)}),Z=o(o({},_),{mutate:function(z){function F(Ne){return Ne="idb://".concat(h,"/").concat(A,"/").concat(Ne),ue[Ne]||(ue[Ne]=new Cn)}var j,Q,ee,ae=z.trans,ue=z.mutatedParts||(z.mutatedParts={}),Te=F(""),_e=F(":dels"),Ue=z.type,ke=z.type==="deleteRange"?[z.range]:z.type==="delete"?[z.keys]:z.values.length<50?[so(D,z).filter(function(Ne){return Ne}),z.values]:[],Ae=ke[0],Re=ke[1],ke=z.trans._cache;return v(Ae)?(Te.addKeys(Ae),(ke=Ue==="delete"||Ae.length===Re.length?ls(Ae,ke):null)||_e.addKeys(Ae),(ke||Re)&&(j=F,Q=ke,ee=Re,I.indexes.forEach(function(Ne){var ze=j(Ne.name||"");function We(pt){return pt!=null?Ne.extractKey(pt):null}function ot(pt){return Ne.multiEntry&&v(pt)?pt.forEach(function(_n){return ze.addKey(_n)}):ze.addKey(pt)}(Q||ee).forEach(function(pt,pn){var at=Q&&We(Q[pn]),pn=ee&&We(ee[pn]);Ke(at,pn)!==0&&(at!=null&&ot(at),pn!=null&&ot(pn))})}))):Ae?(Re={from:(Re=Ae.lower)!==null&&Re!==void 0?Re:f.MIN_KEY,to:(Re=Ae.upper)!==null&&Re!==void 0?Re:f.MAX_KEY},_e.add(Re),Te.add(Re)):(Te.add(S),_e.add(S),I.indexes.forEach(function(Ne){return F(Ne.name).add(S)})),_.mutate(z).then(function(Ne){return!Ae||z.type!=="add"&&z.type!=="put"||(Te.addKeys(Ne.results),V&&V.forEach(function(ze){for(var We=z.values.map(function(at){return ze.extractKey(at)}),ot=ze.keyPath.findIndex(function(at){return at===D.keyPath}),pt=0,_n=Ne.results.length;pt<_n;++pt)We[pt][ot]=Ne.results[pt];F(ze.name).addKeys(We)})),ae.mutatedParts=ao(ae.mutatedParts||{},ue),Ne})}}),L=function(F){var j=F.query,F=j.index,j=j.range;return[F,new Cn((F=j.lower)!==null&&F!==void 0?F:f.MIN_KEY,(j=j.upper)!==null&&j!==void 0?j:f.MAX_KEY)]},X={get:function(z){return[D,new Cn(z.key)]},getMany:function(z){return[D,new Cn().addKeys(z.keys)]},count:L,query:L,openCursor:L};return m(X).forEach(function(z){Z[z]=function(F){var j=Be.subscr,Q=!!j,ee=ga(Be,_)&&rl(z,F)?F.obsSet={}:j;if(Q){var ae=function(Re){return Re="idb://".concat(h,"/").concat(A,"/").concat(Re),ee[Re]||(ee[Re]=new Cn)},ue=ae(""),Te=ae(":dels"),j=X[z](F),Q=j[0],j=j[1];if((z==="query"&&Q.isPrimaryKey&&!F.values?Te:ae(Q.name||"")).add(j),!Q.isPrimaryKey){if(z!=="count"){var _e=z==="query"&&q&&F.values&&_.query(o(o({},F),{values:!1}));return _[z].apply(this,arguments).then(function(Re){if(z==="query"){if(q&&F.values)return _e.then(function(We){return We=We.result,ue.addKeys(We),Re});var ke=F.values?Re.result.map(O):Re.result;(F.values?ue:Te).addKeys(ke)}else if(z==="openCursor"){var Ne=Re,ze=F.values;return Ne&&Object.create(Ne,{key:{get:function(){return Te.addKey(Ne.primaryKey),Ne.key}},primaryKey:{get:function(){var We=Ne.primaryKey;return Te.addKey(We),We}},value:{get:function(){return ze&&ue.addKey(Ne.primaryKey),Ne.value}}})}return Re})}Te.add(S)}}return _[z].apply(this,arguments)}}),Z}})}};function ol(f,h,S){if(S.numFailures===0)return h;if(h.type==="deleteRange")return null;var A=h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1;return S.numFailures===A?null:(h=o({},h),v(h.keys)&&(h.keys=h.keys.filter(function(_,I){return!(I in S.failures)})),"values"in h&&v(h.values)&&(h.values=h.values.filter(function(_,I){return!(I in S.failures)})),h)}function lo(f,h){return S=f,((A=h).lower===void 0||(A.lowerOpen?0<Ke(S,A.lower):0<=Ke(S,A.lower)))&&(f=f,(h=h).upper===void 0||(h.upperOpen?Ke(f,h.upper)<0:Ke(f,h.upper)<=0));var S,A}function us(f,h,X,A,_,I){if(!X||X.length===0)return f;var D=h.query.index,O=D.multiEntry,q=h.query.range,V=A.schema.primaryKey.extractKey,Z=D.extractKey,L=(D.lowLevelIndex||D).extractKey,X=X.reduce(function(z,F){var j=z,Q=[];if(F.type==="add"||F.type==="put")for(var ee=new Cn,ae=F.values.length-1;0<=ae;--ae){var ue,Te=F.values[ae],_e=V(Te);ee.hasKey(_e)||(ue=Z(Te),(O&&v(ue)?ue.some(function(Ne){return lo(Ne,q)}):lo(ue,q))&&(ee.addKey(_e),Q.push(Te)))}switch(F.type){case"add":var Ue=new Cn().addKeys(h.values?z.map(function(ze){return V(ze)}):z),j=z.concat(h.values?Q.filter(function(ze){return ze=V(ze),!Ue.hasKey(ze)&&(Ue.addKey(ze),!0)}):Q.map(function(ze){return V(ze)}).filter(function(ze){return!Ue.hasKey(ze)&&(Ue.addKey(ze),!0)}));break;case"put":var Ae=new Cn().addKeys(F.values.map(function(ze){return V(ze)}));j=z.filter(function(ze){return!Ae.hasKey(h.values?V(ze):ze)}).concat(h.values?Q:Q.map(function(ze){return V(ze)}));break;case"delete":var Re=new Cn().addKeys(F.keys);j=z.filter(function(ze){return!Re.hasKey(h.values?V(ze):ze)});break;case"deleteRange":var ke=F.range;j=z.filter(function(ze){return!lo(V(ze),ke)})}return j},f);return X===f?f:(X.sort(function(z,F){return Ke(L(z),L(F))||Ke(V(z),V(F))}),h.limit&&h.limit<1/0&&(X.length>h.limit?X.length=h.limit:f.length===h.limit&&X.length<h.limit&&(_.dirty=!0)),I?Object.freeze(X):X)}function Ja(f,h){return Ke(f.lower,h.lower)===0&&Ke(f.upper,h.upper)===0&&!!f.lowerOpen==!!h.lowerOpen&&!!f.upperOpen==!!h.upperOpen}function wr(f,h){return(function(S,A,_,I){if(S===void 0)return A!==void 0?-1:0;if(A===void 0)return 1;if((A=Ke(S,A))===0){if(_&&I)return 0;if(_)return 1;if(I)return-1}return A})(f.lower,h.lower,f.lowerOpen,h.lowerOpen)<=0&&0<=(function(S,A,_,I){if(S===void 0)return A!==void 0?1:0;if(A===void 0)return-1;if((A=Ke(S,A))===0){if(_&&I)return 0;if(_)return-1;if(I)return 1}return A})(f.upper,h.upper,f.upperOpen,h.upperOpen)}function Ru(f,h,S,A){f.subscribers.add(S),A.addEventListener("abort",function(){var _,I;f.subscribers.delete(S),f.subscribers.size===0&&(_=f,I=h,setTimeout(function(){_.subscribers.size===0&&Ge(I,_)},3e3))})}var uo={stack:"dbcore",level:0,name:"Cache",create:function(f){var h=f.schema.name;return o(o({},f),{transaction:function(S,A,_){var I,D,O=f.transaction(S,A,_);return A==="readwrite"&&(D=(I=new AbortController).signal,_=function(q){return function(){if(I.abort(),A==="readwrite"){for(var V=new Set,Z=0,L=S;Z<L.length;Z++){var X=L[Z],z=ha["idb://".concat(h,"/").concat(X)];if(z){var F=f.table(X),j=z.optimisticOps.filter(function(ze){return ze.trans===O});if(O._explicit&&q&&O.mutatedParts)for(var Q=0,ee=Object.values(z.queries.query);Q<ee.length;Q++)for(var ae=0,ue=(Ue=ee[Q]).slice();ae<ue.length;ae++)as((Ae=ue[ae]).obsSet,O.mutatedParts)&&(Ge(Ue,Ae),Ae.subscribers.forEach(function(ze){return V.add(ze)}));else if(0<j.length){z.optimisticOps=z.optimisticOps.filter(function(ze){return ze.trans!==O});for(var Te=0,_e=Object.values(z.queries.query);Te<_e.length;Te++)for(var Ue,Ae,Re,ke=0,Ne=(Ue=_e[Te]).slice();ke<Ne.length;ke++)(Ae=Ne[ke]).res!=null&&O.mutatedParts&&(q&&!Ae.dirty?(Re=Object.isFrozen(Ae.res),Re=us(Ae.res,Ae.req,j,F,Ae,Re),Ae.dirty?(Ge(Ue,Ae),Ae.subscribers.forEach(function(ze){return V.add(ze)})):Re!==Ae.res&&(Ae.res=Re,Ae.promise=Oe.resolve({result:Re}))):(Ae.dirty&&Ge(Ue,Ae),Ae.subscribers.forEach(function(ze){return V.add(ze)})))}}}V.forEach(function(ze){return ze()})}}},O.addEventListener("abort",_(!1),{signal:D}),O.addEventListener("error",_(!1),{signal:D}),O.addEventListener("complete",_(!0),{signal:D})),O},table:function(S){var A=f.table(S),_=A.schema.primaryKey;return o(o({},A),{mutate:function(I){var D=Be.trans;if(_.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return A.mutate(I);var O=ha["idb://".concat(h,"/").concat(S)];return O?(D=A.mutate(I),I.type!=="add"&&I.type!=="put"||!(50<=I.values.length||so(_,I).some(function(q){return q==null}))?(O.optimisticOps.push(I),I.mutatedParts&&ro(I.mutatedParts),D.then(function(q){0<q.numFailures&&(Ge(O.optimisticOps,I),(q=ol(0,I,q))&&O.optimisticOps.push(q),I.mutatedParts&&ro(I.mutatedParts))}),D.catch(function(){Ge(O.optimisticOps,I),I.mutatedParts&&ro(I.mutatedParts)})):D.then(function(q){var V=ol(0,o(o({},I),{values:I.values.map(function(Z,L){var X;return q.failures[L]?Z:(Z=(X=_.keyPath)!==null&&X!==void 0&&X.includes(".")?Je(Z):o({},Z),J(Z,_.keyPath,q.results[L]),Z)})}),q);O.optimisticOps.push(V),queueMicrotask(function(){return I.mutatedParts&&ro(I.mutatedParts)})}),D):A.mutate(I)},query:function(I){if(!ga(Be,A)||!rl("query",I))return A.query(I);var D=((V=Be.trans)===null||V===void 0?void 0:V.db._options.cache)==="immutable",L=Be,O=L.requery,q=L.signal,V=(function(F,j,Q,ee){var ae=ha["idb://".concat(F,"/").concat(j)];if(!ae)return[];if(!(j=ae.queries[Q]))return[null,!1,ae,null];var ue=j[(ee.query?ee.query.index.name:null)||""];if(!ue)return[null,!1,ae,null];switch(Q){case"query":var Te=ue.find(function(_e){return _e.req.limit===ee.limit&&_e.req.values===ee.values&&Ja(_e.req.query.range,ee.query.range)});return Te?[Te,!0,ae,ue]:[ue.find(function(_e){return("limit"in _e.req?_e.req.limit:1/0)>=ee.limit&&(!ee.values||_e.req.values)&&wr(_e.req.query.range,ee.query.range)}),!1,ae,ue];case"count":return Te=ue.find(function(_e){return Ja(_e.req.query.range,ee.query.range)}),[Te,!!Te,ae,ue]}})(h,S,"query",I),Z=V[0],L=V[1],X=V[2],z=V[3];return Z&&L?Z.obsSet=I.obsSet:(L=A.query(I).then(function(F){var j=F.result;if(Z&&(Z.res=j),D){for(var Q=0,ee=j.length;Q<ee;++Q)Object.freeze(j[Q]);Object.freeze(j)}else F.result=Je(j);return F}).catch(function(F){return z&&Z&&Ge(z,Z),Promise.reject(F)}),Z={obsSet:I.obsSet,promise:L,subscribers:new Set,type:"query",req:I,dirty:!1},z?z.push(Z):(z=[Z],(X=X||(ha["idb://".concat(h,"/").concat(S)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[I.query.index.name||""]=z)),Ru(Z,z,O,q),Z.promise.then(function(F){return{result:us(F.result,I,X==null?void 0:X.optimisticOps,A,Z,D)}})}})}})}};function Rr(f,h){return new Proxy(f,{get:function(S,A,_){return A==="db"?h:Reflect.get(S,A,_)}})}var Si=(jt.prototype.version=function(f){if(isNaN(f)||f<.1)throw new Pe.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new Pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var h=this._versions,S=h.filter(function(A){return A._cfg.version===f})[0];return S||(S=new this.Version(f),h.push(S),h.sort(Wo),S.stores({}),this._state.autoSchema=!1,S)},jt.prototype._whenReady=function(f){var h=this;return this.idbdb&&(this._state.openComplete||Be.letThrough||this._vip)?f():new Oe(function(S,A){if(h._state.openComplete)return A(new Pe.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void A(new Pe.DatabaseClosed);h.open().catch(le)}h._state.dbReadyPromise.then(S,A)}).then(f)},jt.prototype.use=function(f){var h=f.stack,S=f.create,A=f.level,_=f.name;return _&&this.unuse({stack:h,name:_}),f=this._middlewares[h]||(this._middlewares[h]=[]),f.push({stack:h,create:S,level:A??10,name:_}),f.sort(function(I,D){return I.level-D.level}),this},jt.prototype.unuse=function(f){var h=f.stack,S=f.name,A=f.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(_){return A?_.create!==A:!!S&&_.name!==S})),this},jt.prototype.open=function(){var f=this;return zn(bn,function(){return _u(f)})},jt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var f=this._state,h=Pi.indexOf(this);if(0<=h&&Pi.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new Oe(function(S){f.dbReadyResolve=S}),f.openCanceller=new Oe(function(S,A){f.cancelOpen=A}))},jt.prototype.close=function(S){var h=(S===void 0?{disableAutoOpen:!0}:S).disableAutoOpen,S=this._state;h?(S.isBeingOpened&&S.cancelOpen(new Pe.DatabaseClosed),this._close(),S.autoOpen=!1,S.dbOpenError=new Pe.DatabaseClosed):(this._close(),S.autoOpen=this._options.autoOpen||S.isBeingOpened,S.openComplete=!1,S.dbOpenError=null)},jt.prototype.delete=function(f){var h=this;f===void 0&&(f={disableAutoOpen:!0});var S=0<arguments.length&&typeof arguments[0]!="object",A=this._state;return new Oe(function(_,I){function D(){h.close(f);var O=h._deps.indexedDB.deleteDatabase(h.name);O.onsuccess=Pt(function(){var q,V,Z;q=h._deps,V=h.name,Z=q.indexedDB,q=q.IDBKeyRange,no(Z)||V===la||es(Z,q).delete(V).catch(le),_()}),O.onerror=ri(I),O.onblocked=h._fireOnBlocked}if(S)throw new Pe.InvalidArgument("Invalid closeOptions argument to db.delete()");A.isBeingOpened?A.dbReadyPromise.then(D):D()})},jt.prototype.backendDB=function(){return this.idbdb},jt.prototype.isOpen=function(){return this.idbdb!==null},jt.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&f.name==="DatabaseClosed"},jt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},jt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(jt.prototype,"tables",{get:function(){var f=this;return m(this._allTables).map(function(h){return f._allTables[h]})},enumerable:!1,configurable:!0}),jt.prototype.transaction=function(){var f=(function(h,S,A){var _=arguments.length;if(_<2)throw new Pe.InvalidArgument("Too few arguments");for(var I=new Array(_-1);--_;)I[_-1]=arguments[_];return A=I.pop(),[h,me(I),A]}).apply(this,arguments);return this._transaction.apply(this,f)},jt.prototype._transaction=function(f,h,S){var A=this,_=Be.trans;_&&_.db===this&&f.indexOf("!")===-1||(_=null);var I,D,O=f.indexOf("?")!==-1;f=f.replace("!","").replace("?","");try{if(D=h.map(function(V){if(V=V instanceof A.Table?V.name:V,typeof V!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return V}),f=="r"||f===ai)I=ai;else{if(f!="rw"&&f!=Ti)throw new Pe.InvalidArgument("Invalid transaction mode: "+f);I=Ti}if(_){if(_.mode===ai&&I===Ti){if(!O)throw new Pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");_=null}_&&D.forEach(function(V){if(_&&_.storeNames.indexOf(V)===-1){if(!O)throw new Pe.SubTransaction("Table "+V+" not included in parent transaction.");_=null}}),O&&_&&!_.active&&(_=null)}}catch(V){return _?_._promise(null,function(Z,L){L(V)}):kt(V)}var q=(function V(Z,L,X,z,F){return Oe.resolve().then(function(){var j=Be.transless||Be,Q=Z._createTransaction(L,X,Z._dbSchema,z);if(Q.explicit=!0,j={trans:Q,transless:j},z)Q.idbtrans=z.idbtrans;else try{Q.create(),Q.idbtrans._explicit=!0,Z._state.PR1398_maxLoop=3}catch(ue){return ue.name===gt.InvalidState&&Z.isOpen()&&0<--Z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Z.close({disableAutoOpen:!1}),Z.open().then(function(){return V(Z,L,X,null,F)})):kt(ue)}var ee,ae=B(F);return ae&&nn(),j=Oe.follow(function(){var ue;(ee=F.call(Q,Q))&&(ae?(ue=Rn.bind(null,null),ee.then(ue,ue)):typeof ee.next=="function"&&typeof ee.throw=="function"&&(ee=Ir(ee)))},j),(ee&&typeof ee.then=="function"?Oe.resolve(ee).then(function(ue){return Q.active?ue:kt(new Pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):j.then(function(){return ee})).then(function(ue){return z&&Q._resolve(),Q._completion.then(function(){return ue})}).catch(function(ue){return Q._reject(ue),kt(ue)})})}).bind(null,this,I,D,_,S);return _?_._promise(I,q,"lock"):Be.trans?zn(Be.transless,function(){return A._whenReady(q)}):this._whenReady(q)},jt.prototype.table=function(f){if(!E(this._allTables,f))throw new Pe.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},jt);function jt(f,h){var S=this;this._middlewares={},this.verno=0;var A=jt.dependencies;this._options=h=o({addons:jt.addons,autoOpen:!0,indexedDB:A.indexedDB,IDBKeyRange:A.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},A=h.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var _,I,D,O,q,V={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:le,dbReadyPromise:null,cancelOpen:le,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen};V.dbReadyPromise=new Oe(function(L){V.dbReadyResolve=L}),V.openCanceller=new Oe(function(L,X){V.cancelOpen=X}),this._state=V,this.name=f,this.on=xr(this,"populate","blocked","versionchange","close",{ready:[un,le]}),this.once=function(L,X){var z=function(){for(var F=[],j=0;j<arguments.length;j++)F[j]=arguments[j];S.on(L).unsubscribe(z),X.apply(S,F)};return S.on(L,z)},this.on.ready.subscribe=se(this.on.ready.subscribe,function(L){return function(X,z){jt.vip(function(){var F,j=S._state;j.openComplete?(j.dbOpenError||Oe.resolve().then(X),z&&L(X)):j.onReadyBeingFired?(j.onReadyBeingFired.push(X),z&&L(X)):(L(X),F=S,z||L(function Q(){F.on.ready.unsubscribe(X),F.on.ready.unsubscribe(Q)}))})}}),this.Collection=(_=this,An(Au.prototype,function(ee,Q){this.db=_;var z=K,F=null;if(Q)try{z=Q()}catch(ae){F=ae}var j=ee._ctx,Q=j.table,ee=Q.hook.reading.fire;this._ctx={table:Q,index:j.index,isPrimKey:!j.index||Q.schema.primKey.keyPath&&j.index===Q.schema.primKey.name,range:z,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:F,or:j.or,valueMapper:ee!==Ye?ee:null}})),this.Table=(I=this,An(br.prototype,function(L,X,z){this.db=I,this._tx=z,this.name=L,this.schema=X,this.hook=I._allTables[L]?I._allTables[L].hook:xr(null,{creating:[Ct,le],reading:[ft,Ye],updating:[Ht,le],deleting:[it,le]})})),this.Transaction=(D=this,An(Xo.prototype,function(L,X,z,F,j){var Q=this;L!=="readonly"&&X.forEach(function(ee){ee=(ee=z[ee])===null||ee===void 0?void 0:ee.yProps,ee&&(X=X.concat(ee.map(function(ae){return ae.updatesTable})))}),this.db=D,this.mode=L,this.storeNames=X,this.schema=z,this.chromeTransactionDurability=F,this.idbtrans=null,this.on=xr(this,"complete","error","abort"),this.parent=j||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Oe(function(ee,ae){Q._resolve=ee,Q._reject=ae}),this._completion.then(function(){Q.active=!1,Q.on.complete.fire()},function(ee){var ae=Q.active;return Q.active=!1,Q.on.error.fire(ee),Q.parent?Q.parent._reject(ee):ae&&Q.idbtrans&&Q.idbtrans.abort(),kt(ee)})})),this.Version=(O=this,An(Cu.prototype,function(L){this.db=O,this._cfg={version:L,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(q=this,An(ca.prototype,function(L,X,z){if(this.db=q,this._ctx={table:L,index:X===":id"?null:X,or:z},this._cmp=this._ascending=Ke,this._descending=function(F,j){return Ke(j,F)},this._max=function(F,j){return 0<Ke(F,j)?F:j},this._min=function(F,j){return Ke(F,j)<0?F:j},this._IDBKeyRange=q._deps.IDBKeyRange,!this._IDBKeyRange)throw new Pe.MissingAPI})),this.on("versionchange",function(L){0<L.newVersion?console.warn("Another connection wants to upgrade database '".concat(S.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(S.name,"'. Closing db now to resume the delete request.")),S.close({disableAutoOpen:!1})}),this.on("blocked",function(L){!L.newVersion||L.newVersion<L.oldVersion?console.warn("Dexie.delete('".concat(S.name,"') was blocked")):console.warn("Upgrade '".concat(S.name,"' blocked by other connection holding version ").concat(L.oldVersion/10))}),this._maxKey=za(h.IDBKeyRange),this._createTransaction=function(L,X,z,F){return new S.Transaction(L,X,z,S._options.chromeTransactionDurability,F)},this._fireOnBlocked=function(L){S.on("blocked").fire(L),Pi.filter(function(X){return X.name===S.name&&X!==S&&!X._state.vcFired}).map(function(X){return X.on("versionchange").fire(L)})},this.use(al),this.use(uo),this.use(wu),this.use(Iu),this.use(il);var Z=new Proxy(this,{get:function(L,X,z){if(X==="_vip")return!0;if(X==="table")return function(j){return Rr(S.table(j),Z)};var F=Reflect.get(L,X,z);return F instanceof br?Rr(F,Z):X==="tables"?F.map(function(j){return Rr(j,Z)}):X==="_createTransaction"?function(){return Rr(F.apply(this,arguments),Z)}:F}});this.vip=Z,A.forEach(function(L){return L(S)})}var ja,Fn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",sl=(co.prototype.subscribe=function(f,h,S){return this._subscribe(f&&typeof f!="function"?f:{next:f,error:h,complete:S})},co.prototype[Fn]=function(){return this},co);function co(f){this._subscribe=f}try{ja={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{ja={indexedDB:null,IDBKeyRange:null}}function ll(f){var h,S=!1,A=new sl(function(_){var I=B(f),D,O=!1,q={},V={},Z={get closed(){return O},unsubscribe:function(){O||(O=!0,D&&D.abort(),L&&Nn.storagemutated.unsubscribe(z))}};_.start&&_.start(Z);var L=!1,X=function(){return vi(F)},z=function(j){ao(q,j),as(V,q)&&X()},F=function(){var j,Q,ee;!O&&ja.indexedDB&&(q={},j={},D&&D.abort(),D=new AbortController,ee=(function(ae){var ue=hi();try{I&&nn();var Te=Bt(f,ae);return Te=I?Te.finally(Rn):Te}finally{ue&&jn()}})(Q={subscr:j,signal:D.signal,requery:X,querier:f,trans:null}),Promise.resolve(ee).then(function(ae){S=!0,h=ae,O||Q.signal.aborted||(q={},(function(ue){for(var Te in ue)if(E(ue,Te))return;return 1})(V=j)||L||(Nn(qa,z),L=!0),vi(function(){return!O&&_.next&&_.next(ae)}))},function(ae){S=!1,["DatabaseClosedError","AbortError"].includes(ae==null?void 0:ae.name)||O||vi(function(){O||_.error&&_.error(ae)})}))};return setTimeout(X,0),Z});return A.hasValue=function(){return S},A.getValue=function(){return h},A}var ya=Si;function cs(f){var h=Qi;try{Qi=!0,Nn.storagemutated.fire(f),ss(f,!0)}finally{Qi=h}}C(ya,o(o({},ln),{delete:function(f){return new ya(f,{addons:[]}).delete()},exists:function(f){return new ya(f,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return h=ya.dependencies,S=h.indexedDB,h=h.IDBKeyRange,(no(S)?Promise.resolve(S.databases()).then(function(A){return A.map(function(_){return _.name}).filter(function(_){return _!==la})}):es(S,h).toCollection().primaryKeys()).then(f)}catch{return kt(new Pe.MissingAPI)}var h,S},defineClass:function(){return function(f){b(this,f)}},ignoreTransaction:function(f){return Be.trans?zn(Be.transless,f):f()},vip:ts,async:function(f){return function(){try{var h=Ir(f.apply(this,arguments));return h&&typeof h.then=="function"?h:Oe.resolve(h)}catch(S){return kt(S)}}},spawn:function(f,h,S){try{var A=Ir(f.apply(S,h||[]));return A&&typeof A.then=="function"?A:Oe.resolve(A)}catch(_){return kt(_)}},currentTransaction:{get:function(){return Be.trans||null}},waitFor:function(f,h){return h=Oe.resolve(typeof f=="function"?ya.ignoreTransaction(f):f).timeout(h||6e4),Be.trans?Be.trans.waitFor(h):h},Promise:Oe,debug:{get:function(){return yt},set:function(f){en(f)}},derive:k,extend:b,props:C,override:se,Events:xr,on:Nn,liveQuery:ll,extendObservabilitySet:ao,getByKeyPath:De,setByKeyPath:J,delByKeyPath:function(f,h){typeof h=="string"?J(f,h,void 0):"length"in h&&[].map.call(h,function(S){J(f,S,void 0)})},shallowClone:Me,deepClone:Je,getObjectDiff:oo,cmp:Ke,asap:Ce,minKey:-1/0,addons:[],connections:Pi,errnames:gt,dependencies:ja,cache:ha,semVer:"4.2.1",version:"4.2.1".split(".").map(function(f){return parseInt(f)}).reduce(function(f,h,S){return f+h/Math.pow(10,2*S)})})),ya.maxKey=za(ya.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Nn(qa,function(f){Qi||(f=new CustomEvent(fa,{detail:f}),Qi=!0,dispatchEvent(f),Qi=!1)}),addEventListener(fa,function(f){f=f.detail,Qi||cs(f)}));var Ya,Qi=!1,Ln=function(){};return typeof BroadcastChannel<"u"&&((Ln=function(){(Ya=new BroadcastChannel(fa)).onmessage=function(f){return f.data&&cs(f.data)}})(),typeof Ya.unref=="function"&&Ya.unref(),Nn(qa,function(f){Qi||Ya.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!Si.disableBfCache&&f.persisted){yt&&console.debug("Dexie: handling persisted pagehide"),Ya!=null&&Ya.close();for(var h=0,S=Pi;h<S.length;h++)S[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!Si.disableBfCache&&f.persisted&&(yt&&console.debug("Dexie: handling persisted pageshow"),Ln(),cs({all:new Cn(-1/0,[[]])}))})),Oe.rejectionMapper=function(f,h){return!f||f instanceof Ie||f instanceof TypeError||f instanceof SyntaxError||!f.name||!ei[f.name]?f:(h=new ei[f.name](h||f.message,f),"stack"in f&&P(h,"stack",{get:function(){return this.inner.stack}}),h)},en(yt),o(Si,Object.freeze({__proto__:null,Dexie:Si,liveQuery:ll,Entity:ct,cmp:Ke,PropModification:Rt,replacePrefix:function(f,h){return new Rt({replacePrefix:[f,h]})},add:function(f){return new Rt({add:f})},remove:function(f){return new Rt({remove:f})},default:Si,RangeSet:Cn,mergeRanges:ma,rangesOverlap:el}),{default:Si}),Si})})(lu)),lu.exports}var bv=Tv();const wd=Fd(bv),mh=Symbol.for("Dexie"),fu=globalThis[mh]||(globalThis[mh]=wd);if(wd.semVer!==fu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${wd.semVer} and ${fu.semVer}`);const{liveQuery:vC,mergeRanges:TC,rangesOverlap:bC,RangeSet:xC,cmp:SC,Entity:EC,PropModification:AC,replacePrefix:NC,add:CC,remove:_C,DexieYProvider:IC}=fu;function xt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const t=Math.random()*16|0;return(i==="x"?t:t&3|8).toString(16)})}const pu={JAN:0,JANEIRO:0,FEV:1,FEVEREIRO:1,MAR:2,MARO:2,ABR:3,ABRIL:3,MAI:4,MAIO:4,JUN:5,JUNHO:5,JUL:6,JULHO:6,AGO:7,AGOSTO:7,SET:8,SETEMBRO:8,OUT:9,OUTUBRO:9,NOV:10,NOVEMBRO:10,DEZ:11,DEZEMBRO:11},hh=["JAN","FEV","MAR","ABR","MAI","JUN","JUL","AGO","SET","OUT","NOV","DEZ"],Xg=i=>i?i.replace(/[\u200B-\u200D\uFEFF\u00A0]/g," ").replace(/[]/g,"-").replace(/\s+/g," ").trim():"",ta=(i,t)=>{if(!i)return new Date(0);const r=Xg(i).toUpperCase().replace(/[,.]/g,"");if(r.match(/^\d{4}-\d{2}-\d{2}$/))return new Date(r+"T00:00:00Z");const o=r.match(/\b(20\d{2})\b/);let l=o?parseInt(o[1],10):t;const c=r.split(" "),m=c.find(T=>T.match(/^\d{1,2}-\d{1,2}$/))||c[0],v=parseInt(m.split("-")[0],10);if(isNaN(v))return new Date(0);let b;for(const T of c)if(pu[T]!==void 0){b=pu[T];break}if(b===void 0)return new Date(0);if(!l){const T=new Date,x=T.getUTCFullYear();T.getUTCMonth()>=10&&b<=1?l=x+1:T.getUTCMonth()<=1&&b>=10?l=x-1:l=x}return new Date(Date.UTC(l,b,v))},fi=i=>{const t=ta(i);if(t.getTime()===0)return new Date(0).toISOString();const l=(t.getUTCFullYear()%2!==0?3:4)-1,c=new Date(t.getTime());return c.setUTCDate(t.getUTCDate()+l),c.toISOString()},Wg=i=>{const t=window.open("","_blank");t?(t.document.write(i),t.document.close()):alert("No foi possvel abrir a nova aba. Por favor, verifique se o seu navegador est bloqueando pop-ups.")},$g=[w.MINISTERIO],Rd=(i,t)=>{if(i.ageGroup==="Criana"){const r=i.parentIds.includes(t.id),o=t.ageGroup==="Adulto";if(r)return{isValid:!0,reason:""};if(i.canPairWithNonParent&&o)return{isValid:!0,reason:""};if(!i.canPairWithNonParent)return{isValid:!1,reason:"Crianas s podem ter um dos pais como ajudante. Autorizao para terceiros no concedida."};if(!o)return{isValid:!1,reason:"O ajudante de uma criana deve ser um adulto."}}return{isValid:!0,reason:""}};function xv(i){const t=i.getUTCDay(),r=i.getUTCDate()-t+(t===0?-6:1);return new Date(i.setUTCDate(r))}function ey(i){const t=new Date(i);t.setUTCDate(i.getUTCDate()+6);const r=i.getUTCDate(),o=t.getUTCDate(),l=hh[i.getUTCMonth()],c=hh[t.getUTCMonth()],m=i.getUTCFullYear(),v=t.getUTCFullYear();return l===c?`${r}-${o} de ${l}, ${m}`:m===v?`${r} de ${l} - ${o} de ${c}, ${m}`:`${r} de ${l}, ${m} - ${o} de ${c}, ${v}`}function qo(i){if(i.includes(" ")||i.includes(","))return i;const t=ta(i);return t.getTime()===0?i:ey(t)}function Sv(i){const t=i.match(/(\w+)\/(\w+)\s+(\d{4})/i);if(!t)return[];const[,r,o,l]=t,c=parseInt(l,10),m=pu[r.toUpperCase()],v=pu[o.toUpperCase()];if(m===void 0||v===void 0)return[];const b=new Date(Date.UTC(c,m,1)),T=new Date(Date.UTC(c,v+1,0)),x=[];let E=xv(b);for(;E<=T;){const C=E.toISOString().split("T")[0];x.push({id:C,label:ey(E)}),E.setUTCDate(E.getUTCDate()+7)}return x}function gh(i){const t=i.toLowerCase();return t.includes("presidente")?w.PRESIDENTE:t.includes("orao inicial")?w.ORACAO_INICIAL:t.includes("orao final")?w.ORACAO_FINAL:t.includes("cntico")?w.CANTICO:t.includes("comentrios finais")?w.COMENTARIOS_FINAIS:t.includes("ajudante")?w.AJUDANTE:t.includes("leitura da bblia")||t.includes("joias espirituais")?w.TESOUROS:t.includes("iniciando conversas")||t.includes("cultivando o interesse")||t.includes("fazendo discpulos")||t.includes("explicando suas crenas")||t.includes("discurso")?w.MINISTERIO:t.includes("estudo bblico de congregao")?w.DIRIGENTE:["tesouros","pacto","salvador","agradeam","rei jesus","retribuir","caminho","perseverar","sofrimento"].some(l=>t.includes(l))?w.TESOUROS:(["amor","dinheiro","promessas","necessidades locais","organizao","sofrer"].some(l=>t.includes(l)),w.VIDA_CRISTA)}function Vi(i){return i?i.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""):""}const Ev=[{publisherName:"Eliezer Rosa",week:"4-10 de NOV, 2024",partTitle:"Presidente",type:w.PRESIDENTE},{publisherName:"Eliezer Rosa",week:"4-10 de NOV, 2024",partTitle:"Orao Inicial",type:w.ORACAO_INICIAL},{publisherName:"",week:"4-10 de NOV, 2024",partTitle:"Cntico 3",type:w.CANTICO},{publisherName:"Edmardo Queiroz",week:"4-10 de NOV, 2024",partTitle:'"Ele se lembra do seu pacto para sempre"',type:w.TESOUROS,duration:10},{publisherName:"Marcos Vincios",week:"4-10 de NOV, 2024",partTitle:"Joias espirituais",type:w.TESOUROS,duration:10},{publisherName:"Samuel Almeida",week:"4-10 de NOV, 2024",partTitle:"Leitura da Bblia",type:w.TESOUROS,duration:4},{publisherName:"Rozelita Sales",week:"4-10 de NOV, 2024",partTitle:"Iniciando conversas",type:w.MINISTERIO,duration:1},{publisherName:"Keyla Costa",week:"4-10 de NOV, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Yngrid Frana",week:"4-10 de NOV, 2024",partTitle:"Iniciando conversas",type:w.MINISTERIO,duration:2},{publisherName:"Wanderleia Santos",week:"4-10 de NOV, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Suellen Correa",week:"4-10 de NOV, 2024",partTitle:"Cultivando o interesse",type:w.MINISTERIO,duration:4},{publisherName:"Waleska Nascimento",week:"4-10 de NOV, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Tain Reis",week:"4-10 de NOV, 2024",partTitle:"Cultivando o interesse",type:w.MINISTERIO,duration:4},{publisherName:"Vitoria Emanuelle",week:"4-10 de NOV, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"",week:"4-10 de NOV, 2024",partTitle:"Cntico 84",type:w.CANTICO},{publisherName:"Marcos Rogrio",week:"4-10 de NOV, 2024",partTitle:'"Demonstraes do nosso amor"',type:w.VIDA_CRISTA,duration:15},{publisherName:"Renato Oliveira",week:"4-10 de NOV, 2024",partTitle:"Estudo bblico de congregao",type:w.DIRIGENTE,duration:30},{publisherName:"Jnior Fouraux",week:"4-10 de NOV, 2024",partTitle:"Leitor do EBC",type:w.LEITOR},{publisherName:"Eliezer Rosa",week:"4-10 de NOV, 2024",partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS},{publisherName:"",week:"4-10 de NOV, 2024",partTitle:"Cntico 97",type:w.CANTICO},{publisherName:"Andr Luiz",week:"4-10 de NOV, 2024",partTitle:"Orao Final",type:w.ORACAO_FINAL},{publisherName:"Domingos Oliveira",week:"11-17 de NOV, 2024",partTitle:"Presidente",type:w.PRESIDENTE},{publisherName:"Domingos Oliveira",week:"11-17 de NOV, 2024",partTitle:"Orao Inicial",type:w.ORACAO_INICIAL},{publisherName:"",week:"11-17 de NOV, 2024",partTitle:"Cntico 36",type:w.CANTICO},{publisherName:"Renato Oliveira",week:"11-17 de NOV, 2024",partTitle:'"Esqueceram-se de Deus, seu Salvador"',type:w.TESOUROS,duration:10},{publisherName:"Juberto Santos",week:"11-17 de NOV, 2024",partTitle:"Joias espirituais",type:w.TESOUROS,duration:10},{publisherName:"Andr Luiz",week:"11-17 de NOV, 2024",partTitle:"Leitura da Bblia",type:w.TESOUROS,duration:4},{publisherName:"Emerson Souza",week:"11-17 de NOV, 2024",partTitle:"Simplicidade  O que Jesus fez",type:w.MINISTERIO,duration:7},{publisherName:"Eliezer Rosa",week:"11-17 de NOV, 2024",partTitle:"Simplicidade  Imite Jesus",type:w.MINISTERIO,duration:8},{publisherName:"",week:"11-17 de NOV, 2024",partTitle:"Cntico 78",type:w.CANTICO},{publisherName:"Israel Vieira",week:"11-17 de NOV, 2024",partTitle:"Necessidades locais",type:w.VIDA_CRISTA,duration:15},{publisherName:"Domingos Oliveira",week:"11-17 de NOV, 2024",partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS},{publisherName:"",week:"11-17 de NOV, 2024",partTitle:"Cntico 77",type:w.CANTICO},{publisherName:"Israel Vieira",week:"11-17 de NOV, 2024",partTitle:"Orao Final",type:w.ORACAO_FINAL},{publisherName:"Marcos Vincios",week:"18-24 de NOV, 2024",partTitle:"Presidente",type:w.PRESIDENTE},{publisherName:"Marcos Vincios",week:"18-24 de NOV, 2024",partTitle:"Orao Inicial",type:w.ORACAO_INICIAL},{publisherName:"",week:"18-24 de NOV, 2024",partTitle:"Cntico 7",type:w.CANTICO},{publisherName:"Eliezer Rosa",week:"18-24 de NOV, 2024",partTitle:'"Agradeam a Jeov, pois ele  bom"',type:w.TESOUROS,duration:10},{publisherName:"Edmardo Queiroz",week:"18-24 de NOV, 2024",partTitle:"Joias espirituais",type:w.TESOUROS,duration:10},{publisherName:"Saymon Schultz",week:"18-24 de NOV, 2024",partTitle:"Leitura da Bblia",type:w.TESOUROS,duration:4},{publisherName:"Saniyuriss Reis",week:"18-24 de NOV, 2024",partTitle:"Iniciando conversas",type:w.MINISTERIO,duration:3},{publisherName:"Julianne Pereira",week:"18-24 de NOV, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Josyane Vieira",week:"18-24 de NOV, 2024",partTitle:"Cultivando o interesse",type:w.MINISTERIO,duration:4},{publisherName:"Jacyra Eugnio",week:"18-24 de NOV, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Juberto Santos",week:"18-24 de NOV, 2024",partTitle:"Discurso",type:w.MINISTERIO,duration:5},{publisherName:"",week:"18-24 de NOV, 2024",partTitle:"Cntico 46",type:w.CANTICO},{publisherName:"Jos Luiz Fouraux",week:"18-24 de NOV, 2024",partTitle:"Cantamos para agradecer a Jeov",type:w.VIDA_CRISTA,duration:15},{publisherName:"Diego Fontana",week:"18-24 de NOV, 2024",partTitle:"Estudo bblico de congregao",type:w.DIRIGENTE,duration:30},{publisherName:"Carlos Ramos",week:"18-24 de NOV, 2024",partTitle:"Leitor do EBC",type:w.LEITOR},{publisherName:"Marcos Vincios",week:"18-24 de NOV, 2024",partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS},{publisherName:"",week:"18-24 de NOV, 2024",partTitle:"Cntico 73",type:w.CANTICO},{publisherName:"Juberto Santos",week:"18-24 de NOV, 2024",partTitle:"Orao Final",type:w.ORACAO_FINAL},{publisherName:"Marcos Rogrio",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Presidente",type:w.PRESIDENTE},{publisherName:"Marcos Rogrio",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Orao Inicial",type:w.ORACAO_INICIAL},{publisherName:"",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Cntico 14",type:w.CANTICO},{publisherName:"Domingos Oliveira",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Apoie o Rei Jesus!",type:w.TESOUROS,duration:10},{publisherName:"Samuel Almeida",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Joias espirituais",type:w.TESOUROS,duration:10},{publisherName:"Hidelmar Amorim",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Leitura da Bblia",type:w.TESOUROS,duration:4},{publisherName:"Sandra Duarte",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Iniciando conversas",type:w.MINISTERIO,duration:2},{publisherName:"Olvia Porto",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Solange Telles",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Explicando suas crenas",type:w.MINISTERIO,duration:5},{publisherName:"Ana Paula Oliveira",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Edna Costa",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Fazendo discpulos",type:w.MINISTERIO,duration:5},{publisherName:"Marilene Queiroz",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Cntico 72",type:w.CANTICO},{publisherName:"Diego Fontana",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Como podemos apoiar o Reino de Deus de todo o corao?",type:w.VIDA_CRISTA,duration:15},{publisherName:"Israel Vieira",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Estudo bblico de congregao",type:w.DIRIGENTE,duration:30},{publisherName:"Vitor Ramos",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Leitor do EBC",type:w.LEITOR},{publisherName:"Marcos Rogrio",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS},{publisherName:"",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Cntico 75",type:w.CANTICO},{publisherName:"Antnio Miguel",week:"25 de NOV - 1 de DEZ, 2024",partTitle:"Orao Final",type:w.ORACAO_FINAL},{publisherName:"Diego Fontana",week:"2-8 de DEZ, 2024",partTitle:"Presidente",type:w.PRESIDENTE},{publisherName:"Diego Fontana",week:"2-8 de DEZ, 2024",partTitle:"Orao Inicial",type:w.ORACAO_INICIAL},{publisherName:"",week:"2-8 de DEZ, 2024",partTitle:"Cntico 127",type:w.CANTICO},{publisherName:"Marcos Vincios",week:"2-8 de DEZ, 2024",partTitle:"Como vou retribuir a Jeov?",type:w.TESOUROS,duration:10},{publisherName:"Alexsandro Lopes",week:"2-8 de DEZ, 2024",partTitle:"Joias espirituais",type:w.TESOUROS,duration:10},{publisherName:"Emerson Frana",week:"2-8 de DEZ, 2024",partTitle:"Leitura da Bblia",type:w.TESOUROS,duration:4},{publisherName:"Samuel Almeida",week:"2-8 de DEZ, 2024",partTitle:"Franqueza  O que Jesus fez",type:w.MINISTERIO,duration:7},{publisherName:"Israel Vieira",week:"2-8 de DEZ, 2024",partTitle:"Franqueza  Imite Jesus",type:w.MINISTERIO,duration:8},{publisherName:"",week:"2-8 de DEZ, 2024",partTitle:"Cntico 60",type:w.CANTICO},{publisherName:"Marcos Rogrio",week:"2-8 de DEZ, 2024",partTitle:"Necessidades locais",type:w.VIDA_CRISTA,duration:15},{publisherName:"Domingos Oliveira",week:"2-8 de DEZ, 2024",partTitle:"Estudo bblico de congregao",type:w.DIRIGENTE,duration:30},{publisherName:"Getlio Rastoldo",week:"2-8 de DEZ, 2024",partTitle:"Leitor do EBC",type:w.LEITOR},{publisherName:"Diego Fontana",week:"2-8 de DEZ, 2024",partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS},{publisherName:"",week:"2-8 de DEZ, 2024",partTitle:"Cntico 29",type:w.CANTICO},{publisherName:"Mrio Porto",week:"2-8 de DEZ, 2024",partTitle:"Orao Final",type:w.ORACAO_FINAL},{publisherName:"Israel Vieira",week:"9-15 de DEZ, 2024",partTitle:"Presidente",type:w.PRESIDENTE},{publisherName:"Israel Vieira",week:"9-15 de DEZ, 2024",partTitle:"Orao Inicial",type:w.ORACAO_INICIAL},{publisherName:"",week:"9-15 de DEZ, 2024",partTitle:"Cntico 124",type:w.CANTICO},{publisherName:"Alexsandro Lopes",week:"9-15 de DEZ, 2024",partTitle:'"Como um jovem pode manter puro o seu caminho?"',type:w.TESOUROS,duration:10},{publisherName:"Jnior Fouraux",week:"9-15 de DEZ, 2024",partTitle:"Joias espirituais",type:w.TESOUROS,duration:10},{publisherName:"Antnio Nascimento",week:"9-15 de DEZ, 2024",partTitle:"Leitura da Bblia",type:w.TESOUROS,duration:4},{publisherName:"Eliana Souza",week:"9-15 de DEZ, 2024",partTitle:"Iniciando conversas",type:w.MINISTERIO,duration:3},{publisherName:"Wanderleia Santos",week:"9-15 de DEZ, 2024",partTitle:"Cultivando o interesse",type:w.MINISTERIO,duration:4},{publisherName:"Elza Elena",week:"9-15 de DEZ, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Jos Luiz Fouraux",week:"9-15 de DEZ, 2024",partTitle:"Discurso",type:w.MINISTERIO,duration:5},{publisherName:"",week:"9-15 de DEZ, 2024",partTitle:"Cntico 40",type:w.CANTICO},{publisherName:"Gabriel Camilo",week:"9-15 de DEZ, 2024",partTitle:"Realizaes da Organizao de dezembro",type:w.VIDA_CRISTA,duration:10},{publisherName:"Marcos Rogrio",week:"9-15 de DEZ, 2024",partTitle:"Estudo bblico de congregao",type:w.DIRIGENTE,duration:29},{publisherName:"Gabriel Camilo",week:"9-15 de DEZ, 2024",partTitle:"Leitor do EBC",type:w.LEITOR},{publisherName:"Israel Vieira",week:"9-15 de DEZ, 2024",partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS},{publisherName:"",week:"9-15 de DEZ, 2024",partTitle:"Cntico 21",type:w.CANTICO},{publisherName:"Jnior Fouraux",week:"9-15 de DEZ, 2024",partTitle:"Orao Final",type:w.ORACAO_FINAL},{publisherName:"Edmardo Queiroz",week:"16-22 de DEZ, 2024",partTitle:"Presidente",type:w.PRESIDENTE},{publisherName:"Edmardo Queiroz",week:"16-22 de DEZ, 2024",partTitle:"Orao Inicial",type:w.ORACAO_INICIAL},{publisherName:"",week:"16-22 de DEZ, 2024",partTitle:"Cntico 129",type:w.CANTICO},{publisherName:"Juberto Santos",week:"16-22 de DEZ, 2024",partTitle:"Como perseverar diante de dificuldades",type:w.TESOUROS,duration:10},{publisherName:"Jos Luiz Fouraux",week:"16-22 de DEZ, 2024",partTitle:"Joias espirituais",type:w.TESOUROS,duration:10},{publisherName:"Daniel Silva",week:"16-22 de DEZ, 2024",partTitle:"Leitura da Bblia",type:w.TESOUROS,duration:4},{publisherName:"Terezinha Oliveira",week:"16-22 de DEZ, 2024",partTitle:"Iniciando conversas",type:w.MINISTERIO,duration:3},{publisherName:"Dbora Cristine",week:"16-22 de DEZ, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Vitoria Emanuelle",week:"16-22 de DEZ, 2024",partTitle:"Cultivando o interesse",type:w.MINISTERIO,duration:4},{publisherName:"Dayse Campos",week:"16-22 de DEZ, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Waleska Nascimento",week:"16-22 de DEZ, 2024",partTitle:"Explicando suas crenas",type:w.MINISTERIO,duration:5},{publisherName:"gatha do Nascimento",week:"16-22 de DEZ, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"",week:"16-22 de DEZ, 2024",partTitle:"Cntico 128",type:w.CANTICO},{publisherName:"Renato Oliveira",week:"16-22 de DEZ, 2024",partTitle:"Jeov nos ajuda a perseverar",type:w.VIDA_CRISTA,duration:15},{publisherName:"Marcos Vincios",week:"16-22 de DEZ, 2024",partTitle:"Estudo bblico de congregao",type:w.DIRIGENTE,duration:30},{publisherName:"Felipe Oliveira",week:"16-22 de DEZ, 2024",partTitle:"Leitor do EBC",type:w.LEITOR},{publisherName:"Edmardo Queiroz",week:"16-22 de DEZ, 2024",partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS},{publisherName:"",week:"16-22 de DEZ, 2024",partTitle:"Cntico 32",type:w.CANTICO},{publisherName:"Renato Oliveira",week:"16-22 de DEZ, 2024",partTitle:"Orao Final",type:w.ORACAO_FINAL},{publisherName:"Renato Oliveira",week:"23-29 de DEZ, 2024",partTitle:"Presidente",type:w.PRESIDENTE},{publisherName:"Renato Oliveira",week:"23-29 de DEZ, 2024",partTitle:"Orao Inicial",type:w.ORACAO_INICIAL},{publisherName:"",week:"23-29 de DEZ, 2024",partTitle:"Cntico 31",type:w.CANTICO},{publisherName:"Marcos Rogrio",week:"23-29 de DEZ, 2024",partTitle:"Como evitar sofrimento desnecessrio",type:w.TESOUROS,duration:10},{publisherName:"Emerson Souza",week:"23-29 de DEZ, 2024",partTitle:"Joias espirituais",type:w.TESOUROS,duration:10},{publisherName:"Joo Paulo",week:"23-29 de DEZ, 2024",partTitle:"Leitura da Bblia",type:w.TESOUROS,duration:4},{publisherName:"Ana Paula",week:"23-29 de DEZ, 2024",partTitle:"Iniciando conversas",type:w.MINISTERIO,duration:3},{publisherName:"Tain Reis",week:"23-29 de DEZ, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Ariane Bello",week:"23-29 de DEZ, 2024",partTitle:"Cultivando o interesse",type:w.MINISTERIO,duration:4},{publisherName:"gatha Nascimento",week:"23-29 de DEZ, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"rika Segall",week:"23-29 de DEZ, 2024",partTitle:"Fazendo discpulos",type:w.MINISTERIO,duration:5},{publisherName:"Terezinha Oliveira",week:"23-29 de DEZ, 2024",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"",week:"23-29 de DEZ, 2024",partTitle:"Cntico 121",type:w.CANTICO},{publisherName:"Eliezer Rosa",week:"23-29 de DEZ, 2024",partTitle:"No deixe o dinheiro fazer voc sofrer desnecessariamente",type:w.VIDA_CRISTA,duration:15},{publisherName:"Edmardo Queiroz",week:"23-29 de DEZ, 2024",partTitle:"Estudo bblico de congregao",type:w.DIRIGENTE,duration:30},{publisherName:"Erick Jos",week:"23-29 de DEZ, 2024",partTitle:"Leitor do EBC",type:w.LEITOR},{publisherName:"Renato Oliveira",week:"23-29 de DEZ, 2024",partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS},{publisherName:"",week:"23-29 de DEZ, 2024",partTitle:"Cntico 101",type:w.CANTICO},{publisherName:"Erick Jos",week:"23-29 de DEZ, 2024",partTitle:"Orao Final",type:w.ORACAO_FINAL},{publisherName:"Eliezer Rosa",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Presidente",type:w.PRESIDENTE},{publisherName:"Eliezer Rosa",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Orao Inicial",type:w.ORACAO_INICIAL},{publisherName:"",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Cntico 144",type:w.CANTICO},{publisherName:"Diego Fontana",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Eles semearam com lgrimas, mas colheram com alegria",type:w.TESOUROS,duration:10},{publisherName:"Alexsandro Lopes",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Joias espirituais",type:w.TESOUROS,duration:10},{publisherName:"Gabriel Fouraux",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Leitura da Bblia",type:w.TESOUROS,duration:4},{publisherName:"gatha Nascimento",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Iniciando conversas",type:w.MINISTERIO,duration:3},{publisherName:"Malena Colangero",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Auxiliadora Valria",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Cultivando o interesse",type:w.MINISTERIO,duration:4},{publisherName:"Michele Camillo",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Eliana Souza",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Fazendo discpulos",type:w.MINISTERIO,duration:5},{publisherName:"Neuza Campanha",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Cntico 155",type:w.CANTICO},{publisherName:"Juberto Santos",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Alegre-se com as promessas de Deus",type:w.VIDA_CRISTA,duration:15},{publisherName:"Renato Oliveira",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Estudo bblico de congregao",type:w.DIRIGENTE,duration:30},{publisherName:"Victor Correa",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Leitor do EBC",type:w.LEITOR},{publisherName:"Eliezer Rosa",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS},{publisherName:"",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Cntico 58",type:w.CANTICO},{publisherName:"Alexsandro Lopes",week:"30 de DEZ, 2024 - 5 de JAN, 2025",partTitle:"Orao Final",type:w.ORACAO_FINAL},{publisherName:"Marcos Vincios",week:"1-7 de DEZ, 2025",partTitle:"Presidente",type:w.PRESIDENTE},{publisherName:"Marcos Vincios",week:"1-7 de DEZ, 2025",partTitle:"Orao Inicial",type:w.ORACAO_INICIAL},{publisherName:"",week:"1-7 de DEZ, 2025",partTitle:"Cntico 135",type:w.CANTICO},{publisherName:"Renato Oliveira",week:"1-7 de DEZ, 2025",partTitle:"Jeov merecia e esperava obedincia do seu povo",type:w.TESOUROS,duration:10},{publisherName:"Jos Luiz Fouraux",week:"1-7 de DEZ, 2025",partTitle:"Joias espirituais",type:w.TESOUROS,duration:10},{publisherName:"Grson Santos",week:"1-7 de DEZ, 2025",partTitle:"Leitura da Bblia",type:w.TESOUROS,duration:4},{publisherName:"Yngrid Frana",week:"1-7 de DEZ, 2025",partTitle:"Iniciando conversas",type:w.MINISTERIO,duration:3},{publisherName:"Keyla Costa",week:"1-7 de DEZ, 2025",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Jacyra Eugnio",week:"1-7 de DEZ, 2025",partTitle:"Cultivando o interesse",type:w.MINISTERIO,duration:4},{publisherName:"Vitoria Emanuelle",week:"1-7 de DEZ, 2025",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Ana Paula Oliveira",week:"1-7 de DEZ, 2025",partTitle:"Fazendo discpulos",type:w.MINISTERIO,duration:5},{publisherName:"gatha Nascimento",week:"1-7 de DEZ, 2025",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"",week:"1-7 de DEZ, 2025",partTitle:"Cntico 65",type:w.CANTICO},{publisherName:"Edmardo Queiroz",week:"1-7 de DEZ, 2025",partTitle:"Necessidades locais",type:w.VIDA_CRISTA,duration:15},{publisherName:"Israel Vieira",week:"1-7 de DEZ, 2025",partTitle:"Dirigente",type:w.DIRIGENTE,duration:30},{publisherName:"Jnior Fouraux",week:"1-7 de DEZ, 2025",partTitle:"Leitor",type:w.LEITOR},{publisherName:"Marcos Vincios",week:"1-7 de DEZ, 2025",partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS},{publisherName:"",week:"1-7 de DEZ, 2025",partTitle:"Cntico 4",type:w.CANTICO},{publisherName:"Andr Luiz",week:"1-7 de DEZ, 2025",partTitle:"Orao Final",type:w.ORACAO_FINAL},{publisherName:"Diego Fontana",week:"8-14 de DEZ, 2025",partTitle:"Presidente",type:w.PRESIDENTE},{publisherName:"Diego Fontana",week:"8-14 de DEZ, 2025",partTitle:"Orao Inicial",type:w.ORACAO_INICIAL},{publisherName:"",week:"8-14 de DEZ, 2025",partTitle:"Cntico 75",type:w.CANTICO},{publisherName:"Emerson Souza",week:"8-14 de DEZ, 2025",partTitle:'"Aqui estou! Envia-me!"',type:w.TESOUROS,duration:10},{publisherName:"Edmilson Monteiro",week:"8-14 de DEZ, 2025",partTitle:"Joias espirituais",type:w.TESOUROS,duration:10},{publisherName:"Vitor Correa",week:"8-14 de DEZ, 2025",partTitle:"Leitura da Bblia",type:w.TESOUROS,duration:4},{publisherName:"Suellen Correa",week:"8-14 de DEZ, 2025",partTitle:"Iniciando conversas",type:w.MINISTERIO,duration:3},{publisherName:"Julianne Cravo Figueredo",week:"8-14 de DEZ, 2025",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Marilene Queiroz",week:"8-14 de DEZ, 2025",partTitle:"Cultivando o interesse",type:w.MINISTERIO,duration:4},{publisherName:"Terezinha Oliveira",week:"8-14 de DEZ, 2025",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"Daniel Silva",week:"8-14 de DEZ, 2025",partTitle:"Cultivando o interesse",type:w.MINISTERIO,duration:5},{publisherName:"Samuel Almeida",week:"8-14 de DEZ, 2025",partTitle:"Ajudante",type:w.AJUDANTE},{publisherName:"",week:"8-14 de DEZ, 2025",partTitle:"Cntico 83",type:w.CANTICO},{publisherName:"Marcos Rogrio",week:"8-14 de DEZ, 2025",partTitle:"Pregao de casa em casa  nossa marca registrada",type:w.VIDA_CRISTA,duration:15},{publisherName:"Edmardo Queiroz",week:"8-14 de DEZ, 2025",partTitle:"Estudo bblico de congregao",type:w.DIRIGENTE,duration:30},{publisherName:"Eryck Segal",week:"8-14 de DEZ, 2025",partTitle:"Leitor do EBC",type:w.LEITOR},{publisherName:"Diego Fontana",week:"8-14 de DEZ, 2025",partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS},{publisherName:"",week:"8-14 de DEZ, 2025",partTitle:"Cntico",type:w.CANTICO},{publisherName:"Joo Marcos P. Costa (SC)",week:"8-14 de DEZ, 2025",partTitle:"Orao Final",type:w.ORACAO_FINAL}],ty=Ev.map(i=>({...i,id:xt(),date:fi(i.week)})),Lo=[{id:"tpl_visita_sc",name:"Visita do superintendente de circuito",description:"A pauta  ajustada para a visita. A parte principal da 'Nossa Vida Crist'  substituda por um discurso de servio. Os Comentrios Finais tambm sero automaticamente designados ao Superintendente.",impact:{action:"REPLACE_PART",targetType:w.DIRIGENTE},defaults:{duration:30,requiresTheme:!0,requiresAssignee:!0}},{id:"tpl_memorial",name:"Memorial da morte de Cristo (Maro/Abril)",description:"Toda a reunio do meio de semana  cancelada e substituda pela celebrao do Memorial. Apenas um discurso ser proferido.",impact:{action:"REPLACE_SECTION",targetType:[w.TESOUROS,w.MINISTERIO,w.VIDA_CRISTA,w.DIRIGENTE,w.LEITOR]},defaults:{duration:45,theme:"Celebrao Anual da Morte de Cristo",requiresTheme:!1,requiresAssignee:!0}},{id:"tpl_boletim_cg",name:"Boletins do corpo governante",description:"Um vdeo do Boletim do Corpo Governante ser mostrado. Voc pode substituir uma parte ou adicionar como uma nova parte (requer ajuste manual de tempo).",impact:{action:"ADD_PART"},defaults:{duration:10,theme:"Boletim do Corpo Governante",requiresTheme:!1,requiresAssignee:!1}},{id:"tpl_assembleia_visao_geral",name:"Assembleia de circuito VISO GERAL DO PROGRAMA",description:"Na semana que antecede a assembleia, o presidente destaca o tema e os discursos principais. (sfl 20:17)",impact:{action:"REPLACE_PART",targetType:w.VIDA_CRISTA},defaults:{duration:10,theme:"Viso Geral do Programa da Assembleia",requiresTheme:!1,requiresAssignee:!1}},{id:"tpl_assembleia_recap",name:"Assembleia de circuito RECAPITULAO DO PROGRAMA",description:"Uma recapitulao de 15 minutos do programa da assembleia. Requer ajuste de tempo em outra parte da pauta. (sfl 20:18)",impact:{action:"ADD_PART"},defaults:{duration:15,theme:"Recapitulao do Programa da Assembleia",requiresTheme:!1,requiresAssignee:!0}},{id:"tpl_congresso_lembretes",name:"LEMBRETES DO CONGRESSO",description:"Uma parte de 15 minutos com lembretes para o congresso, incluindo a apresentao do vdeo. Requer ajuste de tempo em outra parte. (sfl 20:19)",impact:{action:"ADD_PART"},defaults:{duration:15,theme:"Lembretes Para o Congresso",requiresTheme:!1,requiresAssignee:!0}},{id:"tpl_congresso_recap",name:"RECAPITULAO DO PROGRAMA DO CONGRESSO",description:"Uma recapitulao de 15 minutos do programa do congresso. Requer ajuste de tempo em outra parte da pauta. (sfl 20:19)",impact:{action:"ADD_PART"},defaults:{duration:15,theme:"Recapitulao do Programa do Congresso",requiresTheme:!1,requiresAssignee:!0}}],Qe=new fu("CongregationDB");Qe.version(1).stores({publishers:"id, name",participations:"id, week, publisherName",workbooks:"id, name"});Qe.version(2).stores({publishers:"id, name",participations:"id, week, publisherName",workbooks:"id, name",rules:"id, isActive"});Qe.version(3).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive"});Qe.version(4).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive"});Qe.version(5).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive"});Qe.version(6).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive"});Qe.version(7).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive",specialEvents:"id, week"});Qe.version(8).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive",specialEvents:"id, week"});Qe.version(9).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive",specialEvents:"id, week"}).upgrade(async i=>{const t=[],r=[w.CANTICO,w.COMENTARIOS_FINAIS],o=ty.filter(l=>r.includes(l.type));for(const l of o)await i.table("participations").where({week:l.week,partTitle:l.partTitle}).first()||t.push({...l,id:xt()});if(t.length>0)try{await i.table("participations").bulkAdd(t),console.log(`Patch de migrao (v9): ${t.length} partes estruturais restauradas.`)}catch(l){console.error("Falha ao aplicar o patch de migrao da verso 9:",l)}});Qe.version(10).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive",specialEvents:"id, week"}).upgrade(async i=>{await i.table("publishers").toCollection().modify(t=>{if(t.isServing===void 0&&(t.isServing=!0),t.ageGroup===void 0&&(t.ageGroup="Adulto"),t.parentIds===void 0&&(t.parentIds=[]),t.isHelperOnly===void 0&&(t.isHelperOnly=!1),t.canPairWithNonParent===void 0&&(t.canPairWithNonParent=!1),!t.privilegesBySection){const r=["Ancio","Servo Ministerial"].includes(t.condition);t.privilegesBySection={canParticipateInTreasures:r||t.gender==="brother",canParticipateInMinistry:!0,canParticipateInLife:r||t.gender==="brother"}}t.availability||(t.availability={mode:"always",exceptionDates:[]})}),await i.table("participations").toCollection().modify(t=>{t.date||(t.date=fi(t.week))})});Qe.version(11).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive",specialEvents:"id, week"}).upgrade(async i=>{await i.table("specialEvents").toCollection().modify(t=>{t.assignedTo=t.assignedTo||"",t.duration=t.duration||30,t.assignmentRule&&delete t.assignmentRule})});Qe.version(12).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive",specialEvents:"id, week, type"}).upgrade(async i=>{await i.table("specialEvents").toCollection().modify(t=>{t.theme=t.name||"Tema do Evento",delete t.name,t.type=t.theme.toLowerCase().includes("superintendente")||t.assignedTo&&t.assignedTo.includes("(SC)")?"Visita do superintendente de circuito":"Boletins do corpo governante",t.configuration={},delete t.replaces,delete t.description})});Qe.version(13).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive",specialEvents:"id, week, templateId",eventTemplates:"id, name"}).upgrade(async i=>{console.log("Executando migrao v13: Introduzindo Modelos de Evento..."),await i.table("eventTemplates").bulkAdd(Lo),console.log(`${Lo.length} modelos de evento iniciais adicionados.`);const r={};for(const o of Lo)r[o.name]=o.id;await i.table("specialEvents").toCollection().modify(o=>{const l=r[o.type];l?(o.templateId=l,o.configuration=o.configuration||{}):(o.templateId=Lo[0].id,console.warn(`Evento especial com tipo desconhecido '${o.type}' foi mapeado para um modelo padro.`)),delete o.type}),console.log("Tabela 'specialEvents' migrada para o novo formato com templateId.")});Qe.version(14).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive",specialEvents:"id, week, templateId",eventTemplates:"id, name"}).upgrade(async i=>{await i.table("publishers").toCollection().modify(t=>{t.aliases===void 0&&(t.aliases=[])})});Qe.version(15).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive",specialEvents:"id, week, templateId",eventTemplates:"id, name"}).upgrade(async i=>{await i.table("workbooks").toCollection().modify(t=>{t.fileData&&t.fileData.length<2e3&&!t.name.includes("[DEMO]")&&(t.name=`[DEMO] ${t.name}`)}),console.log("Migrao v15: Apostilas de exemplo renomeadas.")});Qe.version(16).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive",specialEvents:"id, week, templateId",eventTemplates:"id, name"}).upgrade(async i=>{await i.table("rules").filter(r=>r.description.toLowerCase().includes("presidir")||r.description.toLowerCase().includes("presidente")).delete();const t={id:xt(),description:'Apenas irmos qualificados com o privilgio "Pode Presidir" podem ser Presidentes.',isActive:!0,conditions:[{fact:"partType",operator:"equal",value:w.PRESIDENTE},{fact:"canPreside",operator:"equal",value:!1}]};await i.table("rules").add(t),console.log("Migrao v16: Regra de Presidente corrigida para usar privilgio 'canPreside'.")});Qe.version(17).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive",specialEvents:"id, week, templateId",eventTemplates:"id, name"}).upgrade(async i=>{await i.table("rules").filter(r=>r.description.toLowerCase().includes("presidir")||r.description.toLowerCase().includes("presidente")).delete();const t={id:xt(),description:'Apenas irmos com a caixa "Pode Presidir" marcada no cadastro podem ser Presidentes.',isActive:!0,conditions:[{fact:"partType",operator:"equal",value:w.PRESIDENTE},{fact:"canPreside",operator:"equal",value:!1}]};await i.table("rules").add(t),console.log("Migrao v17: Regras de Presidente limpas e redefinidas para estrita verificao de privilgio.")});Qe.version(18).stores({publishers:"id, name",participations:"id, week, publisherName, date",workbooks:"id, name",rules:"id, isActive",specialEvents:"id, week, templateId",eventTemplates:"id, name",historicalImports:"id, importDate"});const fe={mode:"always",exceptionDates:[]},ce={ageGroup:"Adulto",parentIds:[],isHelperOnly:!1,canPairWithNonParent:!1},de=(i,t,r,o)=>({canGiveTalks:t,canConductCBS:o,canReadCBS:i,canPray:r,canPreside:o}),ny=[{id:"anc1",name:"Diego Fontana",gender:"brother",condition:"Ancio",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!0),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"anc2",name:"Domingos Oliveira",gender:"brother",condition:"Ancio",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!0),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"anc3",name:"Edmardo Queiroz",gender:"brother",condition:"Ancio",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!0),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"anc4",name:"Edmilson Monteiro",gender:"brother",condition:"Ancio",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!0),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"anc5",name:"Eliezer Rosa",gender:"brother",condition:"Ancio",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!0),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"anc6",name:"Israel Vieira",gender:"brother",condition:"Ancio",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!0),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"anc7",name:"Jos Luiz Fouraux",gender:"brother",condition:"Ancio",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!0),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"anc8",name:"Marcos Rogrio",gender:"brother",condition:"Ancio",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!0),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"anc9",name:"Marcos Vincios",gender:"brother",condition:"Ancio",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!0),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"anc10",name:"Renato Oliveira",gender:"brother",condition:"Ancio",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!0),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"anc11",name:"Mario Porto",gender:"brother",condition:"Ancio",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!0),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:["Mrio Porto"]},{id:"sm1",name:"Alexsandro Lopes",gender:"brother",condition:"Servo Ministerial",phone:"27996528686",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"sm2",name:"Daniel Silva",gender:"brother",condition:"Servo Ministerial",phone:"27996952195",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"sm3",name:"Emerson Souza",gender:"brother",condition:"Servo Ministerial",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"sm4",name:"Felipe Oliveira",gender:"brother",condition:"Servo Ministerial",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"sm5",name:"Samuel Almeida",gender:"brother",condition:"Servo Ministerial",phone:"27996245928",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"sm6",name:"Patrick Oliveira",gender:"brother",condition:"Servo Ministerial",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"sm7",name:"Jnior Fouraux",gender:"brother",condition:"Servo Ministerial",phone:"27992989988",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro1",name:"Carlos Ramos",gender:"brother",condition:"Publicador",phone:"27981781342",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro2",name:"Diego Resmann",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro3",name:"Antnio Miguel",gender:"brother",condition:"Publicador",phone:"27992928631",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro4",name:"Eryck Segal",gender:"brother",condition:"Publicador",phone:"27995125833",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:["Erick Jos"]},{id:"bro5",name:"Fernando Pessoa",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro6",name:"Victor Correa",gender:"brother",condition:"Publicador",phone:"27998205347",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro7",name:"Antnio Garcia",gender:"brother",condition:"Publicador",phone:"",isBaptized:!1,isServing:!0,...ce,privileges:de(!0,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"bro8",name:"Antnio Nascimento",gender:"brother",condition:"Publicador",phone:"27981119805",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro9",name:"Daniel Figueiredo",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro10",name:"Andr Luiz",gender:"brother",condition:"Publicador",phone:"27998447126",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro11",name:"Joo Mendes",gender:"brother",condition:"Publicador",phone:"27998956799",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro12",name:"Emerson Frana",gender:"brother",condition:"Publicador",phone:"27996133137",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!0,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro13",name:"Carlos Augusto",gender:"brother",condition:"Publicador",phone:"27988647171",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro14",name:"Gabriel Camilo",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro15",name:"Mauro Rezende",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro16",name:"Luiz Alexandrino",gender:"brother",condition:"Publicador",phone:"27988055100",isBaptized:!1,isServing:!0,...ce,privileges:de(!0,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"bro17",name:"Luiz Gustavo Rangel",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!0,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro18",name:"Edmilson Pessanha",gender:"brother",condition:"Publicador",phone:"27999704928",isBaptized:!1,isServing:!0,...ce,privileges:de(!0,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"bro19",name:"Vitor Pessanha",gender:"brother",condition:"Publicador",phone:"27997266591",isBaptized:!1,isServing:!0,...ce,privileges:de(!0,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"bro20",name:"Vinicius Pessanha",gender:"brother",condition:"Publicador",phone:"27995904437",isBaptized:!1,isServing:!0,...ce,privileges:de(!0,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"bro21",name:"Fernando Balieira",gender:"brother",condition:"Publicador",phone:"27981018424",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro22",name:"Gerson Ribeiro dos Santos",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!0,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro23",name:"Cludio Vieira",gender:"brother",condition:"Publicador",phone:"27998424152",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro24",name:"Patrick de Oliveira",gender:"brother",condition:"Publicador",phone:"27999598949",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro25",name:"Gabriel Fouraux",gender:"brother",condition:"Publicador",phone:"27992388157",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro26",name:"Gustavo Rangel",gender:"brother",condition:"Publicador",phone:"27999795638",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro27",name:"Grson Santos",gender:"brother",condition:"Publicador",phone:"71984798864",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro28",name:"Daniel Carneiro",gender:"brother",condition:"Publicador",phone:"27999393340",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro29",name:"Felipe de Oliveira",gender:"brother",condition:"Publicador",phone:"27999421370",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"bro30",name:"Saymon Schultz",gender:"brother",condition:"Publicador",phone:"27992473651",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"sis1",name:"Ana Paula Oliveira",gender:"sister",condition:"Publicador",phone:"27993098093",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis2",name:"Ariane Bello",gender:"sister",condition:"Publicador",phone:"27998353014",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis3",name:"gatha do Nascimento",gender:"sister",condition:"Publicador",phone:"27992880526",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis4",name:"Dayse Campos",gender:"sister",condition:"Publicador",phone:"27992846954",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis5",name:"Dbora Cristine",gender:"sister",condition:"Publicador",phone:"27995312445",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis6",name:"rika Segall",gender:"sister",condition:"Publicador",phone:"27999727739",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis7",name:"Elina Mendes",gender:"sister",condition:"Publicador",phone:"6186222151",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis8",name:"Edna Costa dos Santos",gender:"sister",condition:"Publicador",phone:"27988117244",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis9",name:"Eliana Souza",gender:"sister",condition:"Publicador",phone:"27981296551",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis10",name:"Elza Elena",gender:"sister",condition:"Publicador",phone:"27997976498",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis11",name:"Geysa Nascimento",gender:"sister",condition:"Publicador",phone:"27992934687",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis12",name:"Grbera Nascimento",gender:"sister",condition:"Publicador",phone:"27992453895",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis13",name:"Inz Monteiro",gender:"sister",condition:"Publicador",phone:"27997935590",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis14",name:"Ivone Balieira",gender:"sister",condition:"Publicador",phone:"21965389404",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis15",name:"Isabelle Cruz",gender:"sister",condition:"Publicador",phone:"27998395719",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis16",name:"Jacyra Eugnio",gender:"sister",condition:"Publicador",phone:"27988131290",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis17",name:"Josyane Vieira",gender:"sister",condition:"Publicador",phone:"27998098099",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis18",name:"Julianne Cravo Figueredo",gender:"sister",condition:"Publicador",phone:"27998214512",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis19",name:"Keyla Costa",gender:"sister",condition:"Publicador",phone:"27988492005",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis20",name:"Larissa Queiroz",gender:"sister",condition:"Publicador",phone:"27997795605",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis21",name:"Luciana Marques",gender:"sister",condition:"Publicador",phone:"27992371244",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis22",name:"Luciana Alves",gender:"sister",condition:"Publicador",phone:"3193949672",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis23",name:"Mylena Balieira",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis24",name:"Maria de Lourdes",gender:"sister",condition:"Publicador",phone:"27992473651",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis25",name:"Marcela Resmann",gender:"sister",condition:"Publicador",phone:"27997371276",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis26",name:"Maria Izabel",gender:"sister",condition:"Publicador",phone:"27995270049",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis27",name:"Mrcia Rosa",gender:"sister",condition:"Publicador",phone:"27981170400",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis28",name:"Mrcia Bragana",gender:"sister",condition:"Publicador",phone:"27997943143",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis29",name:"Margarete Venturin",gender:"sister",condition:"Publicador",phone:"27997924986",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis30",name:"Mara Rbia",gender:"sister",condition:"Publicador",phone:"27997338016",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis31",name:"Marilene Queiroz",gender:"sister",condition:"Publicador",phone:"28999736468",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis32",name:"Malena Colangero",gender:"sister",condition:"Publicador",phone:"27992641214",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis33",name:"Michele Camillo",gender:"sister",condition:"Publicador",phone:"27981361505",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis34",name:"Nazar de Lima",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis35",name:"Nanci Celia",gender:"sister",condition:"Publicador",phone:"21986844383",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis36",name:"Neuza Campanha",gender:"sister",condition:"Publicador",phone:"27998313861",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis37",name:"Priscila",gender:"sister",condition:"Publicador",phone:"8192919973",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis38",name:"Raquel Oliveira",gender:"sister",condition:"Publicador",phone:"27997806764",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis39",name:"Reica Santana Ribeiro",gender:"sister",condition:"Publicador",phone:"27999216136",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis40",name:"Rozelita Sales",gender:"sister",condition:"Publicador",phone:"27998595458",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis41",name:"Sandra Duarte",gender:"sister",condition:"Publicador",phone:"27996600407",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis42",name:"Suellen Correa",gender:"sister",condition:"Publicador",phone:"27997375030",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis43",name:"Sirlene Ramos",gender:"sister",condition:"Publicador",phone:"27988388707",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis44",name:"Yngrid Frana",gender:"sister",condition:"Publicador",phone:"27992654811",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis45",name:"Terezinha Oliveira",gender:"sister",condition:"Publicador",phone:"27997657258",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis46",name:"Vitoria Emanuelle",gender:"sister",condition:"Publicador",phone:"27920017006",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"sis47",name:"Waleska Nascimento",gender:"sister",condition:"Publicador",phone:"27998931684",isBaptized:!0,isServing:!0,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:{mode:"always",exceptionDates:["2025-01-01","2025-12-31"]},aliases:[]},{id:"na1",name:"Leonardo Barjona Colangero Nascimento",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"na2",name:"Antnio Barjona Garcia Nascimento",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"na3",name:"Eugenio Longo",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"na4",name:"Joo Antonio",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"na5",name:"Edmar",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"na6",name:"Mauro Vieira",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:fe,aliases:[]},{id:"na7",name:"Gerusa Souza",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na8",name:"Brenda Cristine Cunha Pacheco",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na9",name:"Auxiliadora Valria Neves",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na10",name:"Saniyuriss Bernardes dos Reis",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na11",name:"Amanda Garcia Ferreira Nascimento",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na12",name:"Tamiris Mendes",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na13",name:"Marcela Gomes Coelho",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na14",name:"Raquel Elvira",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na15",name:"Edlena",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na16",name:"Maria Helena Carvalho Santos",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na17",name:"Maria Aparecida Cndida Marques",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na18",name:"Maria Eduarda Marques Carone Reis",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na19",name:"Maria Jos Farias",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na20",name:"Yasmin Reis dos Santos",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na21",name:"Ldia Ramos",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na22",name:"Ivone Oliveira",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na23",name:"Jeane Pinto Gomes",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na24",name:"Rosa da Silva Miranda",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na25",name:"Aila Rosana Porto",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na26",name:"Aparecida Baldi",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na27",name:"Maria Jos Tonon da Cruz",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na28",name:"Melissa Rachel Porto Queiroz",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na29",name:"Tnia Mendes",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na30",name:"Solange Telles",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na31",name:"Laramara Rosa Nascimento",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na32",name:"Tatiana",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na33",name:"Clia Regina Figueiredo",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na34",name:"Olvia Maria Porto",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]},{id:"na35",name:"In Trancoso Gervsio",gender:"sister",condition:"Publicador",phone:"",isBaptized:!0,isServing:!1,...ce,privileges:de(!1,!1,!1,!1),privilegesBySection:{canParticipateInTreasures:!1,canParticipateInMinistry:!0,canParticipateInLife:!1},availability:fe,aliases:[]}],xd="JVBERi0xLjcKJcPDgw0KMSAwIG9iago8PC9UeXBlL0NhdGFsb2cvUGFnZXMgMiAwIFI+PgplbmRvYmoKMiAwIG9iago8PC9UeXBlL1BhZ2VzL0NvdW50IDEvS2lkcyBbMyAwIFJdPj4KZW5kb2JqCjMgMCBvYmoKPDwvVHlwZS9QYWdlL1BhcmVudCAyIDAgUi9SZXNvdXJjZXM8PC9Gb250PDwvRjEgNCAwIFI+Pj4+L01lZGlhQm94WzAgMCA1OTUgODQyXS9Db250ZW50cyA1IDAgUj4+CmVuZG9iago0IDAgb2JqCjw8L1R5cGUvRm9udC9TdWJ0eXBlL1R5cGUxL0Jhc2VGb250L0hlbHZldGljYT4+CmVuZG9iago1IDAgb2JqCjw8L0xlbmd0aCA3MT4+CnN0cmVhbQpCVCAvRjEgMTIgVGYgNzIgNzcwIFRkIChBcG9zdGlsYSBkZSBFeGVtcGxvIC0gVmlkYSBlIE1pbmlzdGVyaW8pIFRqIEVUCmVuZHN0cmVhbQplbmRvYmoKeHJlZgowIDYKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDAwMDE5IDAwMDAwIG4gCjAwMDAwMDAwNzQgMDAwMDAwIG4gCjAwMDAwMDAxMjEgMDAwMDAwIG4gCjAwMDAwMDAyNzAgMDAwMDAwIG4gCjAwMDAwMDAzNDEgMDAwMDAwIG4gCnRyYWlsZXIKPDwvU2l6ZSA2L1Jvb3QgMSAwIFI+PgpzdGFydHhyZWYKNDQxCiUlRU9GCg==",Av=[{id:xt(),name:"[DEMO] Nossa Vida e Ministrio Cristo - Mar/Abr 2026",fileData:xd,uploadDate:new Date("2026-03-01T10:00:00Z").toISOString()},{id:xt(),name:"[DEMO] Nossa Vida e Ministrio Cristo - Jan/Fev 2026",fileData:xd,uploadDate:new Date("2026-01-01T10:00:00Z").toISOString()},{id:xt(),name:"[DEMO] Nossa Vida e Ministrio Cristo - Nov/Dez 2025",fileData:xd,uploadDate:new Date("2025-11-01T10:00:00Z").toISOString()}],iy=[{id:xt(),description:"No designar publicadores que no esto atuantes.",isActive:!0,conditions:[{fact:"isServing",operator:"equal",value:!1}]},{id:xt(),description:"No designar publicadores em datas em que no esto disponveis.",isActive:!0,conditions:[{fact:"isAvailable",operator:"equal",value:!1}]},{id:xt(),description:"Publicadores marcados como 'S Ajudante' no podem receber partes principais.",isActive:!0,conditions:[{fact:"isHelperOnly",operator:"equal",value:!0},{fact:"partType",operator:"notEqual",value:w.AJUDANTE}]},{id:xt(),description:'Apenas irmos com a caixa "Pode Presidir" marcada no cadastro podem ser Presidentes.',isActive:!0,conditions:[{fact:"partType",operator:"equal",value:w.PRESIDENTE},{fact:"canPreside",operator:"equal",value:!1}]},{id:xt(),description:"Apenas ancios podem dirigir o Estudo Bblico de Congregao.",isActive:!0,conditions:[{fact:"partType",operator:"equal",value:w.DIRIGENTE},{fact:"condition",operator:"notEqual",value:"Ancio"}]},{id:xt(),description:"Apenas irmos batizados podem fazer a orao.",isActive:!0,conditions:[{fact:"partType",operator:"in",value:[w.ORACAO_INICIAL,w.ORACAO_FINAL]},{fact:"isBaptized",operator:"equal",value:!1}]},{id:xt(),description:"Apenas irmos que podem presidir podem fazer a orao inicial.",isActive:!0,conditions:[{fact:"partType",operator:"equal",value:w.ORACAO_INICIAL},{fact:"canPreside",operator:"equal",value:!1}]},{id:xt(),description:"Apenas irmos podem ser Leitores do Estudo Bblico.",isActive:!0,conditions:[{fact:"partType",operator:"equal",value:w.LEITOR},{fact:"gender",operator:"equal",value:"sister"}]},{id:xt(),description:"Irms no podem ser designadas para partes do tipo 'Discurso'.",isActive:!0,conditions:[{fact:"gender",operator:"equal",value:"sister"},{fact:"partTitle",operator:"contains",value:"Discurso"}]},{id:xt(),description:"Irms s podem ser designadas para partes na seo 'Faa Seu Melhor no Ministrio' ou como Ajudante.",isActive:!0,conditions:[{fact:"gender",operator:"equal",value:"sister"},{fact:"partType",operator:"notIn",value:[w.MINISTERIO,w.AJUDANTE]}]},{id:xt(),description:"Irmos (no A/SM) podem participar em 'Tesouros' apenas na 'Leitura da Bblia'.",isActive:!0,conditions:[{fact:"condition",operator:"notIn",value:["Ancio","Servo Ministerial"]},{fact:"partType",operator:"equal",value:w.TESOUROS},{fact:"partTitle",operator:"notEqual",value:"Leitura da Bblia"}]}],Nv=[{id:xt(),templateId:"tpl_visita_sc",week:"11-17 de NOV, 2024",theme:"Discurso de Servio do Superintendente",assignedTo:"Israel Vieira",duration:30,configuration:{}},{id:xt(),templateId:"tpl_visita_sc",week:"8-14 de DEZ, 2025",theme:"Amor - O perfeito vnculo de unio",assignedTo:"Joo Marcos P. Costa (SC)",duration:30,configuration:{}}],Cv=async()=>{try{if(await Qe.open(),await Qe.publishers.count()>0){console.log("Banco de dados j populado. Ignorando carregamento de dados iniciais."),await Qe.eventTemplates.count()===0&&(console.log("Populando tabela de modelos de evento..."),await Qe.eventTemplates.bulkAdd(Lo));return}console.log("Banco de dados vazio. Realizando o carregamento inicial de dados."),await Qe.publishers.bulkAdd(ny),await Qe.participations.bulkAdd(ty),await Qe.workbooks.bulkAdd(Av),await Qe.rules.bulkAdd(iy),await Qe.eventTemplates.bulkAdd(Lo),await Qe.specialEvents.bulkAdd(Nv)}catch(i){console.error("Falha ao inicializar o armazenamento:",i)}},_v=()=>Qe.publishers.toArray(),Iv=()=>Qe.participations.toArray(),wv=()=>Qe.workbooks.toArray(),Rv=()=>Qe.rules.toArray(),Mv=()=>Qe.specialEvents.toArray(),Dv=()=>Qe.eventTemplates.toArray(),kv=()=>Qe.historicalImports.toArray(),yh=async()=>{const[i,t,r,o,l,c]=await Promise.all([_v(),Iv(),wv(),Rv(),Mv(),Dv()]);return{publishers:i,participations:t,workbooks:r,rules:o,specialEvents:l,eventTemplates:c}},vh=i=>Qe.publishers.put(i),Pv=i=>Qe.publishers.delete(i),Sd=i=>Qe.participations.put(i),su=i=>Qe.participations.bulkPut(i),Ov=i=>Qe.participations.delete(i),Uv=i=>Qe.participations.where("week").equals(i).delete(),Ed=i=>Qe.workbooks.put(i),Lv=i=>Qe.workbooks.delete(i),Bv=i=>Qe.workbooks.update(i,{isDeleted:!0}),qv=i=>Qe.workbooks.update(i,{isDeleted:!1}),Th=i=>Qe.rules.put(i),Vv=i=>Qe.rules.delete(i),Ad=i=>Qe.specialEvents.put(i),zv=i=>Qe.specialEvents.delete(i),bh=i=>Qe.eventTemplates.put(i),Gv=i=>Qe.eventTemplates.delete(i),Hv=i=>Qe.historicalImports.put(i),Fv=i=>Qe.historicalImports.delete(i),Jv=async()=>{await Promise.all([Qe.publishers.clear(),Qe.participations.clear(),Qe.workbooks.clear(),Qe.rules.clear(),Qe.specialEvents.clear(),Qe.eventTemplates.clear(),Qe.historicalImports.clear()])},Fr=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),zi=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Md=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),jd=i=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),Dd=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),mu=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.293 2.293a1 1 0 010 1.414L10 12l-2.293 2.293a1 1 0 01-1.414 0L4 12m15 8l-2.293-2.293a1 1 0 00-1.414 0L12 19l2.293-2.293a1 1 0 000-1.414L12 13"})}),ay=i=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066 2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),ry=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jv=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),xh=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Qs=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),Sh=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),Yv=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),Kv=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Zv=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),Qv=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),oy=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"})}),Xv=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})}),Wv=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),$v=i=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),eT=({publishers:i,onEdit:t,onDelete:r})=>{const o=m=>{if(!m)return"N/A";const b=(""+m).replace(/\D/g,"").match(/^(\d{2})(\d{5})(\d{4})$/);return b?`(${b[1]}) ${b[2]}-${b[3]}`:m},l=m=>m==="brother"?"text-blue-500":"text-pink-500",c=m=>{switch(m){case"Jovem":return g.jsx("span",{className:"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200",children:"Jovem"});case"Criana":return g.jsx("span",{className:"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:"Criana"});default:return null}};return g.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:[g.jsx("div",{className:"hidden md:block",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[g.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nome"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Condio"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Telefone"}),g.jsx("th",{scope:"col",className:"relative px-6 py-3",children:g.jsx("span",{className:"sr-only",children:"Aes"})})]})}),g.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:i.map(m=>g.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:`flex-shrink-0 h-10 w-10 ${l(m.gender)}`,children:g.jsx(Md,{})}),g.jsxs("div",{className:"ml-4",children:[g.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[m.name,!m.isServing&&g.jsx("span",{className:"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"No Atuante"})]}),g.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.gender==="brother"?"Irmo":"Irm"})]})]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m.condition==="Ancio"||m.condition==="Servo Ministerial"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"}`,children:m.condition}),c(m.ageGroup)]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:o(m.phone)}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:g.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[g.jsx("button",{onClick:()=>t(m),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200",children:g.jsx(Fr,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>r(m),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-200",children:g.jsx(zi,{className:"w-5 h-5"})})]})})]},m.id))})]})}),g.jsx("div",{className:"md:hidden",children:g.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i.map(m=>g.jsxs("li",{className:"p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:`flex-shrink-0 h-10 w-10 ${l(m.gender)}`,children:g.jsx(Md,{})}),g.jsxs("div",{className:"ml-3",children:[g.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[m.name,!m.isServing&&g.jsx("span",{className:"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"No Atuante"})]}),g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:[m.condition,c(m.ageGroup)]})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{onClick:()=>t(m),className:"p-1 text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200",children:g.jsx(Fr,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>r(m),className:"p-1 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-200",children:g.jsx(zi,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Telefone: ",o(m.phone)]})]},m.id))})})]})},Nd={name:"",gender:"brother",condition:"Publicador",phone:"",isBaptized:!0,isServing:!0,ageGroup:"Adulto",parentIds:[],isHelperOnly:!1,canPairWithNonParent:!1,privileges:{canGiveTalks:!1,canConductCBS:!1,canReadCBS:!1,canPray:!1,canPreside:!1},privilegesBySection:{canParticipateInTreasures:!0,canParticipateInMinistry:!0,canParticipateInLife:!0},availability:{mode:"always",exceptionDates:[]},aliases:[]},tT=({isOpen:i,onClose:t,onSave:r,publisherToEdit:o,publishers:l})=>{const[c,m]=pe.useState(Nd),[v,b]=pe.useState(""),[T,x]=pe.useState(""),[E,C]=pe.useState(""),[M,P]=pe.useState("");pe.useEffect(()=>{var J,Me,xe;if(o){const me={...Nd,...o};m(me),b(me.availability.exceptionDates.join(", ")),x(((J=me.parentIds)==null?void 0:J[0])||""),C(((Me=me.parentIds)==null?void 0:Me[1])||""),P(((xe=me.aliases)==null?void 0:xe.join(", "))||"")}else m(Nd),b(""),x(""),C(""),P("")},[o,i]);const k=J=>{const{name:Me,value:xe,type:me}=J.target;if(me==="checkbox"){const{checked:ge}=J.target;m(we=>({...we,[Me]:ge}))}else m(ge=>({...ge,[Me]:xe}))},Y=J=>{const{name:Me,checked:xe}=J.target;m(me=>({...me,privileges:{...me.privileges,[Me]:xe}}))},G=J=>{const{name:Me,checked:xe}=J.target;m(me=>({...me,privilegesBySection:{...me.privilegesBySection,[Me]:xe}}))},$=J=>{const{value:Me}=J.target;m(xe=>({...xe,availability:{...xe.availability,mode:Me}}))},se=J=>{b(J.target.value)},Ee=J=>{if(J.preventDefault(),!c.name.trim()){alert("O nome  obrigatrio.");return}const{gender:Me,condition:xe,isBaptized:me,privileges:ge,privilegesBySection:we,ageGroup:Je,isHelperOnly:dt}=c,Xe=xe==="Ancio"||xe==="Servo Ministerial";if((Je==="Criana"||Je==="Jovem")&&Xe){alert("Erro de Validao: Crianas e Jovens no podem ter a condio de Ancio ou Servo Ministerial.");return}if(dt&&(ge.canGiveTalks||ge.canConductCBS||ge.canPreside)){alert("Erro de Validao: Publicadores 'S Ajudante' no podem ter privilgios principais.");return}if(Me==="sister"&&xe!=="Publicador"){alert("Erro de Validao: Irms s podem ter a condio de 'Publicador'.");return}if(!me&&Xe){alert("Erro de Validao: Publicadores no batizados devem ter a condio de 'Publicador'.");return}if(Me==="sister"){if(Object.values(ge).some(B=>B)){alert("Erro de Validao: Irms no podem ter privilgios de irmo (presidir, orar, etc.).");return}if(we.canParticipateInTreasures||we.canParticipateInLife){alert("Erro de Validao: Irms com esta condio s podem ser designadas na seo 'Faa Seu Melhor no Ministrio'.");return}}if(Me==="brother"){if(Xe&&!me){alert("Erro de Validao: Apenas irmos batizados podem ser designados como Ancio ou Servo Ministerial.");return}if(xe==="Ancio"&&(!ge.canPreside||!ge.canConductCBS)){alert("Erro de Validao: Ancios devem ter, no mnimo, os privilgios de presidir e dirigir o EBC.");return}if(xe==="Servo Ministerial"&&ge.canPreside){alert("Erro de Validao: Servos Ministeriais no podem presidir a reunio.");return}if(xe==="Publicador"&&(ge.canPreside||ge.canConductCBS||ge.canGiveTalks)){alert("Erro de Validao: Irmos com a condio de 'Publicador' no podem ter privilgios de presidir, dirigir EBC ou fazer discursos.");return}}if(!me){if(Object.values(ge).some(B=>B)){alert("Erro de Validao: Publicadores no batizados no podem ter privilgios gerais.");return}if(we.canParticipateInTreasures||we.canParticipateInLife){alert("Erro de Validao: Publicadores no batizados s podem participar na seo 'Faa Seu Melhor no Ministrio'.");return}}const ie=v.split(",").map(je=>je.trim().match(/^\d{4}-\d{2}-\d{2}$/)?je.trim():null).filter(je=>je!==null),Se=[T,E].filter(je=>je),Ge=M.split(",").map(je=>je.trim()).filter(Boolean),nt={id:o?o.id:xt(),...c,parentIds:Se,aliases:Ge,availability:{...c.availability,exceptionDates:ie}};r(nt),t()},Ce={canGiveTalks:"Pode fazer discursos",canConductCBS:"Pode dirigir EBC",canReadCBS:"Pode ler EBC",canPray:"Pode fazer orao",canPreside:"Pode presidir reunio"},De={canParticipateInTreasures:"Tesouros da Palavra de Deus",canParticipateInMinistry:"Faa Seu Melhor no Ministrio",canParticipateInLife:"Nossa Vida Crist"};return i?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",onClick:t,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl m-4 flex flex-col",style:{maxHeight:"90vh"},onClick:J=>J.stopPropagation(),children:[g.jsx("div",{className:"p-6 pb-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:o?"Editar Publicador":"Adicionar Publicador"})}),g.jsxs("form",{onSubmit:Ee,className:"flex-grow flex flex-col overflow-hidden",children:[g.jsx("div",{className:"p-6 flex-grow overflow-y-auto",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-600 pb-2",children:"Informaes Pessoais"}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome Completo"}),g.jsx("input",{type:"text",name:"name",id:"name",value:c.name,onChange:k,required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm text-black"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"aliases",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Apelidos/Nomes Alternativos"}),g.jsx("input",{type:"text",name:"aliases",id:"aliases",value:M,onChange:J=>P(J.target.value),placeholder:"Ex: Z, Chico",className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm text-black"}),g.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Use para nomes antigos ou apelidos. Separe com vrgulas."})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telefone"}),g.jsx("input",{type:"tel",name:"phone",id:"phone",value:c.phone,onChange:k,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm text-black"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"ageGroup",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Faixa Etria"}),g.jsxs("select",{name:"ageGroup",id:"ageGroup",value:c.ageGroup,onChange:k,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 bg-white text-black focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm rounded-md",children:[g.jsx("option",{children:"Adulto"}),g.jsx("option",{children:"Jovem"}),g.jsx("option",{children:"Criana"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"parent1",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pai/Me 1 (Opcional)"}),g.jsxs("select",{id:"parent1",value:T,onChange:J=>x(J.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 bg-white text-black focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm rounded-md",children:[g.jsx("option",{value:"",children:"Nenhum"}),l.map(J=>g.jsx("option",{value:J.id,children:J.name},J.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"parent2",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pai/Me 2 (Opcional)"}),g.jsxs("select",{id:"parent2",value:E,onChange:J=>C(J.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 bg-white text-black focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm rounded-md",children:[g.jsx("option",{value:"",children:"Nenhum"}),l.map(J=>g.jsx("option",{value:J.id,children:J.name},J.id))]})]}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-600 pb-2 pt-4",children:"Condio e Status"}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Gnero"}),g.jsxs("select",{name:"gender",id:"gender",value:c.gender,onChange:k,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 bg-white text-black focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm rounded-md",children:[g.jsx("option",{value:"brother",children:"Irmo"}),g.jsx("option",{value:"sister",children:"Irm"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Condio"}),g.jsxs("select",{name:"condition",id:"condition",value:c.condition,onChange:k,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 bg-white text-black focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm rounded-md",children:[g.jsx("option",{children:"Ancio"}),g.jsx("option",{children:"Servo Ministerial"}),g.jsx("option",{children:"Publicador"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"flex items-center h-5",children:g.jsx("input",{id:"isBaptized",name:"isBaptized",type:"checkbox",checked:c.isBaptized,onChange:k,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),g.jsx("div",{className:"ml-2 text-sm",children:g.jsx("label",{htmlFor:"isBaptized",className:"font-medium text-gray-700 dark:text-gray-300",children:"Batizado"})})]}),g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"flex items-center h-5",children:g.jsx("input",{id:"isServing",name:"isServing",type:"checkbox",checked:c.isServing,onChange:k,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),g.jsx("div",{className:"ml-2 text-sm",children:g.jsx("label",{htmlFor:"isServing",className:"font-medium text-gray-700 dark:text-gray-300",children:"Atuante"})})]}),g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"flex items-center h-5",children:g.jsx("input",{id:"isHelperOnly",name:"isHelperOnly",type:"checkbox",checked:c.isHelperOnly,onChange:k,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),g.jsx("div",{className:"ml-2 text-sm",children:g.jsx("label",{htmlFor:"isHelperOnly",className:"font-medium text-gray-700 dark:text-gray-300",children:"S Ajudante"})})]}),c.ageGroup==="Criana"&&g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"flex items-center h-5",children:g.jsx("input",{id:"canPairWithNonParent",name:"canPairWithNonParent",type:"checkbox",checked:c.canPairWithNonParent,onChange:k,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),g.jsx("div",{className:"ml-2 text-sm",children:g.jsx("label",{htmlFor:"canPairWithNonParent",className:"font-medium text-gray-700 dark:text-gray-300",children:"Pode ter ajudante terceiro"})})]})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-600 pb-2",children:"Privilgios Gerais (Irmos)"}),g.jsx("div",{className:"space-y-2",children:Object.keys(Ce).map(J=>g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"flex items-center h-5",children:g.jsx("input",{id:J,name:J,type:"checkbox",checked:c.privileges[J],onChange:Y,disabled:c.gender==="sister",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded disabled:opacity-50"})}),g.jsx("div",{className:"ml-3 text-sm",children:g.jsx("label",{htmlFor:J,className:`font-medium text-gray-700 dark:text-gray-300 ${c.gender==="sister"&&"opacity-50"}`,children:Ce[J]})})]},J))}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-600 pb-2 pt-4",children:"Privilgios por Seo"}),g.jsx("div",{className:"space-y-2",children:Object.keys(De).map(J=>g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"flex items-center h-5",children:g.jsx("input",{id:J,name:J,type:"checkbox",checked:c.privilegesBySection[J],onChange:G,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),g.jsx("div",{className:"ml-3 text-sm",children:g.jsx("label",{htmlFor:J,className:"font-medium text-gray-700 dark:text-gray-300",children:De[J]})})]},J))}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-600 pb-2 pt-4",children:"Disponibilidade"}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"availabilityMode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Modo"}),g.jsxs("select",{name:"availabilityMode",id:"availabilityMode",value:c.availability.mode,onChange:$,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 bg-white text-black focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm rounded-md",children:[g.jsx("option",{value:"always",children:"Sempre disponvel, exceto em..."}),g.jsx("option",{value:"never",children:"Geralmente indisponvel, exceto em..."})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"availabilityDates",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Datas de Exceo"}),g.jsx("input",{type:"text",name:"availabilityDates",id:"availabilityDates",value:v,onChange:se,placeholder:"ex: 2025-12-25, 2026-01-01",className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm text-black"}),g.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Use o formato AAAA-MM-DD, separado por vrgulas."})]})]})]})}),g.jsxs("div",{className:"p-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancelar"}),g.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Salvar"})]})]})]})}):null};function nT(i,t,r){const{impact:o}=r,{configuration:l}=t;let c=[...i];if(l.timeReduction&&l.timeReduction.minutes>0){const v=c.findIndex(b=>b.type===l.timeReduction.targetType);v!==-1&&(c[v]={...c[v],duration:(c[v].duration||30)-l.timeReduction.minutes})}const m={id:t.id,publisherName:t.assignedTo,week:t.week,partTitle:t.theme,type:w.VIDA_CRISTA,duration:t.duration,date:new Date().toISOString()};switch(o.action){case"REPLACE_PART":const v=Array.isArray(o.targetType)?o.targetType[0]:o.targetType,b=c.findIndex(E=>E.type===v);if(b!==-1)c.splice(b,1,m);else{const E=c.map(C=>C.type).lastIndexOf(w.VIDA_CRISTA);c.splice(E+1,0,m)}break;case"REPLACE_SECTION":const T=new Set(o.targetType);c=c.filter(E=>!T.has(E.type)),c.push(m);break;case"ADD_PART":const x=c.findIndex(E=>E.type===w.DIRIGENTE);x>-1?c.splice(x,0,m):c.push(m);break}if(r.name.toLowerCase().includes("superintendente")){const v=c.findIndex(b=>b.type===w.COMENTARIOS_FINAIS);v>-1&&(c[v]={...c[v],publisherName:t.assignedTo})}return c}function Tu(i,t,r,o){const l=[];let c=new Date;c.setHours(19,30,0,0);const m=(E,C)=>new Date(E.getTime()+C*6e4),v=E=>E.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),b=r.find(E=>E.week===i.week),T=b?o.find(E=>E.id===b.templateId):void 0;let x=iT(i.parts);b&&T&&(x=nT(x,b,T));for(const E of x){let C=E.duration||0,M=E.type;E.type===w.CANTICO&&(C=3),E.type===w.ORACAO_INICIAL&&(C=1,M="OPENING"),E.type===w.ORACAO_FINAL&&(C=1,M="CLOSING"),E.type===w.COMENTARIOS_FINAIS&&(C=3,M="CLOSING"),E.partTitle==="Presidente"&&(C=0,M="OPENING"),E.partTitle==="Comentrios Iniciais"&&(C=1,M="OPENING"),(E.type===w.PRESIDENTE||E.type===w.ORACAO_INICIAL||E.partTitle==="Comentrios Iniciais")&&(M="OPENING");let P=E.publisherName;E.pair&&(P=`${E.publisherName} / ${E.pair.publisherName}`),l.push({id:E.id,startTime:v(c),partTitle:E.partTitle,publisherName:P,durationText:C>0?`(${C} min)`:"",sectionType:M});const k=E.partTitle.toLowerCase().includes("leitura da bblia"),Y=E.type===w.MINISTERIO&&!E.partTitle.toLowerCase().includes("discurso"),G=x.find(se=>se.type===w.PRESIDENTE),$=G?G.publisherName:"";(k||Y)&&$&&(c=m(c,C),l.push({id:`counsel-${E.id}`,startTime:v(c),partTitle:"Aconselhamento",publisherName:$,durationText:"(1 min)",sectionType:E.type,isCounseling:!0}),C=1),c=m(c,C)}return l}function iT(i,t){const r=[],o=new Set;for(let l=0;l<i.length;l++){const c=i[l];if(!o.has(c.id)&&![w.AJUDANTE,w.LEITOR].includes(c.type))if(c.type===w.MINISTERIO&&!c.partTitle.toLowerCase().includes("discurso")){const m=i.slice(l+1).find(v=>v.type===w.AJUDANTE&&!o.has(v.id));m?(r.push({...c,pair:m}),o.add(m.id)):r.push(c)}else if(c.type===w.DIRIGENTE){const m=i.slice(l+1).find(v=>v.type===w.LEITOR&&!o.has(v.id));m?(r.push({...c,pair:m}),o.add(m.id)):r.push(c)}else r.push(c)}return r}const sy=(i,t)=>{const r=encodeURIComponent(t),o=i?`https://wa.me/55${i.replace(/\D/g,"")}?text=${r}`:`https://api.whatsapp.com/send?text=${r}`;window.open(o,"_blank")},aT=(i,t,r)=>{const l=new Date(i.date).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"});let c=`*DESIGNAO PARA A REUNIO*
`;return c+=`*NOSSA VIDA E MINISTRIO CRISTO*

`,c+=`Ol, *${t.name}*! Segue sua designao:

`,c+=` *Data:* ${l}
`,c+=` *Parte:* ${i.partTitle}
`,i.duration&&(c+=` *Tempo:* ${i.duration} min
`),r&&(c+=` *Ajudante:* ${r.name}
`),c+=` *Local:* Salo Principal

`,c+="_Por favor, prepare-se bem. Se no puder cuidar desta parte, avise com antecedncia._",c},rT=(i,t,r,o)=>{const l=Tu(i,t,r,o),c=qo(i.week);let m=`*PROGRAMAO DA REUNIO*
`;m+=` *Semana:* ${c}
`,m+=` *Congregao Parque Jacarape*

`;let v="";return l.forEach(b=>{if(b.sectionType==="TRANSITION")return;let T="";b.sectionType==="OPENING"?T="I. ABERTURA":b.sectionType===w.TESOUROS?T="II. TESOUROS DA PALAVRA":b.sectionType===w.MINISTERIO?T="III. FAA SEU MELHOR":b.sectionType===w.VIDA_CRISTA||b.sectionType===w.DIRIGENTE?T="IV. NOSSA VIDA CRIST":b.sectionType==="CLOSING"&&(T="V. ENCERRAMENTO"),T&&T!==v&&!b.isCounseling&&(m+=`
*${T}*
`,v=T);const x=b.partTitle.toLowerCase().includes("cntico")?"":b.partTitle.toLowerCase().includes("orao")?"":b.isCounseling?"":"",E=b.startTime,C=b.partTitle,M=b.publisherName;b.isCounseling||(m+=`${E} ${x} *${C}*`,M&&M!=="N/A"&&(m+=`
       _${M}_`),m+=`
`)}),m+=`
_Contamos com a presena de todos!_`,m},kd=({participation:i,publisher:t,helper:r})=>{const o=()=>{if(!t){alert("Publicador no encontrado.");return}const l=aT(i,t,r);sy(t.phone,l)};return g.jsx("button",{onClick:o,className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-200 p-1",title:"Enviar Designao via WhatsApp",children:g.jsx(oy,{className:"w-5 h-5"})})},oT=({participations:i,publishers:t,onEdit:r,onDelete:o})=>{const l=m=>{switch(m){case w.TESOUROS:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case w.MINISTERIO:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case w.VIDA_CRISTA:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case w.ORACAO_INICIAL:case w.ORACAO_FINAL:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case w.PRESIDENTE:case w.DIRIGENTE:return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case w.CANTICO:case w.COMENTARIOS_FINAIS:return"bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},c=m=>t.find(v=>Vi(v.name)===Vi(m));return g.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:[g.jsx("div",{className:"hidden md:block",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[g.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nome"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Semana"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Parte"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Tipo"}),g.jsx("th",{scope:"col",className:"relative px-6 py-3",children:g.jsx("span",{className:"sr-only",children:"Aes"})})]})}),g.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:i.map(m=>g.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:m.publisherName}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:m.week}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:m.partTitle}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${l(m.type)}`,children:m.type})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:g.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[g.jsx(kd,{participation:m,publisher:c(m.publisherName)}),g.jsx("button",{onClick:()=>r(m),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200",children:g.jsx(Fr,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>o(m),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-200",children:g.jsx(zi,{className:"w-5 h-5"})})]})})]},m.id))})]})}),g.jsx("div",{className:"md:hidden",children:g.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i.map(m=>g.jsxs("li",{className:"p-4",children:[g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:m.publisherName}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.week}),g.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:m.partTitle})]}),g.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[g.jsx(kd,{participation:m,publisher:c(m.publisherName)}),g.jsx("button",{onClick:()=>r(m),className:"p-1 text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200",children:g.jsx(Fr,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>o(m),className:"p-1 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-200",children:g.jsx(zi,{className:"w-5 h-5"})})]})]}),g.jsx("div",{className:"mt-2",children:g.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${l(m.type)}`,children:m.type})})]},m.id))})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sT,lT;function uT(){return{geminiUrl:sT,vertexUrl:lT}}function cT(i,t,r,o){var l,c;if(!(i!=null&&i.baseUrl)){const m=uT();return t?(l=m.vertexUrl)!==null&&l!==void 0?l:r:(c=m.geminiUrl)!==null&&c!==void 0?c:o}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pa{}function Ve(i,t){const r=/\{([^}]+)\}/g;return i.replace(r,(o,l)=>{if(Object.prototype.hasOwnProperty.call(t,l)){const c=t[l];return c!=null?String(c):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function d(i,t,r){for(let c=0;c<t.length-1;c++){const m=t[c];if(m.endsWith("[]")){const v=m.slice(0,-2);if(!(v in i))if(Array.isArray(r))i[v]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[v])){const b=i[v];if(Array.isArray(r))for(let T=0;T<b.length;T++){const x=b[T];d(x,t.slice(c+1),r[T])}else for(const T of b)d(T,t.slice(c+1),r)}return}else if(m.endsWith("[0]")){const v=m.slice(0,-3);v in i||(i[v]=[{}]);const b=i[v];d(b[0],t.slice(c+1),r);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const o=t[t.length-1],l=i[o];if(l!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===l)return;if(typeof l=="object"&&typeof r=="object"&&l!==null&&r!==null)Object.assign(l,r);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(i,r):i[o]=r}function u(i,t,r=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let o=0;o<t.length;o++){if(typeof i!="object"||i===null)return r;const l=t[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in i){const m=i[c];return Array.isArray(m)?m.map(v=>u(v,t.slice(o+1),r)):r}else return r}else i=i[l]}return i}catch(o){if(o instanceof TypeError)return r;throw o}}function dT(i,t){for(const[r,o]of Object.entries(t)){const l=r.split("."),c=o.split("."),m=new Set;let v=-1;for(let b=0;b<l.length;b++)if(l[b]==="*"){v=b;break}if(v!==-1&&c.length>v)for(let b=v;b<c.length;b++){const T=c[b];T!=="*"&&!T.endsWith("[]")&&!T.endsWith("[0]")&&m.add(T)}Pd(i,l,c,0,m)}}function Pd(i,t,r,o,l){if(o>=t.length||typeof i!="object"||i===null)return;const c=t[o];if(c.endsWith("[]")){const m=c.slice(0,-2),v=i;if(m in v&&Array.isArray(v[m]))for(const b of v[m])Pd(b,t,r,o+1,l)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,v=Object.keys(m).filter(T=>!T.startsWith("_")&&!l.has(T)),b={};for(const T of v)b[T]=m[T];for(const[T,x]of Object.entries(b)){const E=[];for(const C of r.slice(o))C==="*"?E.push(T):E.push(C);d(m,E,x)}for(const T of v)delete m[T]}}else{const m=i;c in m&&Pd(m[c],t,r,o+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yd(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fT(i){const t={},r=u(i,["operationName"]);r!=null&&d(t,["operationName"],r);const o=u(i,["resourceName"]);return o!=null&&d(t,["_url","resourceName"],o),t}function pT(i){const t={},r=u(i,["name"]);r!=null&&d(t,["name"],r);const o=u(i,["metadata"]);o!=null&&d(t,["metadata"],o);const l=u(i,["done"]);l!=null&&d(t,["done"],l);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const m=u(i,["response","generateVideoResponse"]);return m!=null&&d(t,["response"],hT(m)),t}function mT(i){const t={},r=u(i,["name"]);r!=null&&d(t,["name"],r);const o=u(i,["metadata"]);o!=null&&d(t,["metadata"],o);const l=u(i,["done"]);l!=null&&d(t,["done"],l);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const m=u(i,["response"]);return m!=null&&d(t,["response"],gT(m)),t}function hT(i){const t={},r=u(i,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>yT(m))),d(t,["generatedVideos"],c)}const o=u(i,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const l=u(i,["raiMediaFilteredReasons"]);return l!=null&&d(t,["raiMediaFilteredReasons"],l),t}function gT(i){const t={},r=u(i,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>vT(m))),d(t,["generatedVideos"],c)}const o=u(i,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const l=u(i,["raiMediaFilteredReasons"]);return l!=null&&d(t,["raiMediaFilteredReasons"],l),t}function yT(i){const t={},r=u(i,["video"]);return r!=null&&d(t,["video"],AT(r)),t}function vT(i){const t={},r=u(i,["_self"]);return r!=null&&d(t,["video"],NT(r)),t}function TT(i){const t={},r=u(i,["operationName"]);return r!=null&&d(t,["_url","operationName"],r),t}function bT(i){const t={},r=u(i,["operationName"]);return r!=null&&d(t,["_url","operationName"],r),t}function xT(i){const t={},r=u(i,["name"]);r!=null&&d(t,["name"],r);const o=u(i,["metadata"]);o!=null&&d(t,["metadata"],o);const l=u(i,["done"]);l!=null&&d(t,["done"],l);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const m=u(i,["response"]);return m!=null&&d(t,["response"],ST(m)),t}function ST(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["parent"]);o!=null&&d(t,["parent"],o);const l=u(i,["documentName"]);return l!=null&&d(t,["documentName"],l),t}function ly(i){const t={},r=u(i,["name"]);r!=null&&d(t,["name"],r);const o=u(i,["metadata"]);o!=null&&d(t,["metadata"],o);const l=u(i,["done"]);l!=null&&d(t,["done"],l);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const m=u(i,["response"]);return m!=null&&d(t,["response"],ET(m)),t}function ET(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["parent"]);o!=null&&d(t,["parent"],o);const l=u(i,["documentName"]);return l!=null&&d(t,["documentName"],l),t}function AT(i){const t={},r=u(i,["uri"]);r!=null&&d(t,["uri"],r);const o=u(i,["encodedVideo"]);o!=null&&d(t,["videoBytes"],Yd(o));const l=u(i,["encoding"]);return l!=null&&d(t,["mimeType"],l),t}function NT(i){const t={},r=u(i,["gcsUri"]);r!=null&&d(t,["uri"],r);const o=u(i,["bytesBase64Encoded"]);o!=null&&d(t,["videoBytes"],Yd(o));const l=u(i,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Eh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Eh||(Eh={}));var Ah;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Ah||(Ah={}));var Nh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Nh||(Nh={}));var Wt;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Wt||(Wt={}));var Ch;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Ch||(Ch={}));var _h;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_h||(_h={}));var Ih;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Ih||(Ih={}));var wh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(wh||(wh={}));var Rh;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Rh||(Rh={}));var Mh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(Mh||(Mh={}));var Dh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Dh||(Dh={}));var kh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(kh||(kh={}));var Ph;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Ph||(Ph={}));var Oh;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(Oh||(Oh={}));var Uh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Uh||(Uh={}));var Lh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Lh||(Lh={}));var Bh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Bh||(Bh={}));var qh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(qh||(qh={}));var Vh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Vh||(Vh={}));var hu;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(hu||(hu={}));var zh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zh||(zh={}));var Gh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Gh||(Gh={}));var Hh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hh||(Hh={}));var Od;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Od||(Od={}));var Fh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Fh||(Fh={}));var Jh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jh||(Jh={}));var jh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(jh||(jh={}));var Yh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Yh||(Yh={}));var Kh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Kh||(Kh={}));var Zh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Zh||(Zh={}));var Qh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Qh||(Qh={}));var Xh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Xh||(Xh={}));var Wh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Wh||(Wh={}));var $h;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})($h||($h={}));var eg;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(eg||(eg={}));var tg;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(tg||(tg={}));var ng;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ng||(ng={}));var ig;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ig||(ig={}));var ag;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(ag||(ag={}));var rg;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(rg||(rg={}));var og;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(og||(og={}));var sg;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(sg||(sg={}));var lg;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(lg||(lg={}));var ug;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(ug||(ug={}));var cg;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(cg||(cg={}));var dg;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(dg||(dg={}));var fg;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fg||(fg={}));var pg;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(pg||(pg={}));var mg;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mg||(mg={}));var hg;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(hg||(hg={}));var gg;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(gg||(gg={}));var yg;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yg||(yg={}));var vg;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(vg||(vg={}));var Tg;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Tg||(Tg={}));var Bo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Bo||(Bo={}));class Ud{constructor(t){const r={};for(const o of t.headers.entries())r[o[0]]=o[1];this.headers=r,this.responseInternal=t}json(){return this.responseInternal.json()}}class js{get text(){var t,r,o,l,c,m,v,b;if(((l=(o=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let T="",x=!1;const E=[];for(const C of(b=(v=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)!==null&&b!==void 0?b:[]){for(const[M,P]of Object.entries(C))M!=="text"&&M!=="thought"&&M!=="thoughtSignature"&&(P!==null||P!==void 0)&&E.push(M);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;x=!0,T+=C.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?T:void 0}get data(){var t,r,o,l,c,m,v,b;if(((l=(o=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let T="";const x=[];for(const E of(b=(v=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)!==null&&b!==void 0?b:[]){for(const[C,M]of Object.entries(E))C!=="inlineData"&&(M!==null||M!==void 0)&&x.push(C);E.inlineData&&typeof E.inlineData.data=="string"&&(T+=atob(E.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),T.length>0?btoa(T):void 0}get functionCalls(){var t,r,o,l,c,m,v,b;if(((l=(o=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const T=(b=(v=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)===null||b===void 0?void 0:b.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((T==null?void 0:T.length)!==0)return T}get executableCode(){var t,r,o,l,c,m,v,b,T;if(((l=(o=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(b=(v=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)===null||b===void 0?void 0:b.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((x==null?void 0:x.length)!==0)return(T=x==null?void 0:x[0])===null||T===void 0?void 0:T.code}get codeExecutionResult(){var t,r,o,l,c,m,v,b,T;if(((l=(o=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(b=(v=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)===null||b===void 0?void 0:b.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((x==null?void 0:x.length)!==0)return(T=x==null?void 0:x[0])===null||T===void 0?void 0:T.output}}class bg{}class xg{}class CT{}class _T{}class IT{}class wT{}class Sg{}class Eg{}class Ag{}class RT{}class gu{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const o=new gu;let l;const c=t;return r?l=mT(c):l=pT(c),Object.assign(o,l),o}}class Ng{}class Cg{}class _g{}class MT{}class DT{}class kT{}class Kd{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const o=new Kd,c=xT(t);return Object.assign(o,c),o}}class PT{}class OT{}class UT{}class Ig{}class LT{get text(){var t,r,o;let l="",c=!1;const m=[];for(const v of(o=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[b,T]of Object.entries(v))b!=="text"&&b!=="thought"&&T!==null&&m.push(b);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;c=!0,l+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?l:void 0}get data(){var t,r,o;let l="";const c=[];for(const m of(o=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&o!==void 0?o:[]){for(const[v,b]of Object.entries(m))v!=="inlineData"&&b!==null&&c.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(l+=atob(m.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class BT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Zd{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const o=new Zd,c=ly(t);return Object.assign(o,c),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wt(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const r=t.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function uy(i,t){const r=wt(i,t);return r?r.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${r}`:r.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${r}`:r:""}function cy(i){return Array.isArray(i)?i.map(t=>yu(t)):[yu(i)]}function yu(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function dy(i){const t=yu(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function fy(i){const t=yu(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function wg(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function py(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>wg(t)):[wg(i)]}function Ld(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Rg(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Mg(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function qn(i){if(i==null)throw new Error("ContentUnion is required");return Ld(i)?i:{role:"user",parts:py(i)}}function Qd(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(r=>{const o=qn(r);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(i.isVertexAI()){const r=qn(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(t)?t.map(r=>qn(r)):[qn(t)]}function Ri(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Rg(i)||Mg(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[qn(i)]}const t=[],r=[],o=Ld(i[0]);for(const l of i){const c=Ld(l);if(c!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(l);else{if(Rg(l)||Mg(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(l)}}return o||t.push({role:"user",parts:py(r)}),t}function qT(i,t){i.includes("null")&&(t.nullable=!0);const r=i.filter(o=>o!=="null");if(r.length===1)t.type=Object.values(Wt).includes(r[0].toUpperCase())?r[0].toUpperCase():Wt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of r)t.anyOf.push({type:Object.values(Wt).includes(o.toUpperCase())?o.toUpperCase():Wt.TYPE_UNSPECIFIED})}}function Vo(i){const t={},r=["items"],o=["anyOf"],l=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&qT(i.type,t);for(const[m,v]of Object.entries(i))if(v!=null)if(m=="type"){if(v==="null")throw new Error("type: null can not be the only possible type for the field.");if(v instanceof Array)continue;t.type=Object.values(Wt).includes(v.toUpperCase())?v.toUpperCase():Wt.TYPE_UNSPECIFIED}else if(r.includes(m))t[m]=Vo(v);else if(o.includes(m)){const b=[];for(const T of v){if(T.type=="null"){t.nullable=!0;continue}b.push(Vo(T))}t[m]=b}else if(l.includes(m)){const b={};for(const[T,x]of Object.entries(v))b[T]=Vo(x);t[m]=b}else{if(m==="additionalProperties")continue;t[m]=v}return t}function Xd(i){return Vo(i)}function Wd(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function $d(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Ho(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Vo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Vo(t.response));return i}function Fo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const r of i)t.push(r);return t}function VT(i,t,r,o=1){const l=!t.startsWith(`${r}/`)&&t.split("/").length===o;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${r}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:l?`projects/${i.getProject()}/locations/${i.getLocation()}/${r}/${t}`:t:l?`${r}/${t}`:t}function Oa(i,t){if(typeof t!="string")throw new Error("name must be a string");return VT(i,t,"cachedContents")}function my(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function gr(i){return Yd(i)}function zT(i){return i!=null&&typeof i=="object"&&"name"in i}function GT(i){return i!=null&&typeof i=="object"&&"video"in i}function HT(i){return i!=null&&typeof i=="object"&&"uri"in i}function hy(i){var t;let r;if(zT(i)&&(r=i.name),!(HT(i)&&(r=i.uri,r===void 0))&&!(GT(i)&&(r=(t=i.video)===null||t===void 0?void 0:t.uri,r===void 0))){if(typeof i=="string"&&(r=i),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const l=r.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${r}`);r=l[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function gy(i,t){let r;return i.isVertexAI()?r=t?"publishers/google/models":"models":r=t?"models":"tunedModels",r}function yy(i){for(const t of["models","tunedModels","publisherModels"])if(FT(i,t))return i[t];return[]}function FT(i,t){return i!==null&&typeof i=="object"&&t in i}function JT(i,t={}){const r=i,o={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(o.responseJsonSchema=r.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function jT(i,t={}){const r=[],o=new Set;for(const l of i){const c=l.name;if(o.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);o.add(c);const m=JT(l,t);m.functionDeclarations&&r.push(...m.functionDeclarations)}return{functionDeclarations:r}}function vy(i,t){let r;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))r={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))r={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))r={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:t}}else r=t;const o=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,l=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(i.isVertexAI()){if(l>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function YT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Ty(i){if(typeof i!="object"||i===null)return{};const t=i,r=t.inlinedResponses;if(typeof r!="object"||r===null)return i;const l=r.inlinedResponses;if(!Array.isArray(l)||l.length===0)return i;let c=!1;for(const m of l){if(typeof m!="object"||m===null)continue;const b=m.response;if(typeof b!="object"||b===null)continue;if(b.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Jo(i,t){const r=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function by(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KT(i){const t={},r=u(i,["responsesFile"]);r!=null&&d(t,["fileName"],r);const o=u(i,["inlinedResponses","inlinedResponses"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(m=>Ib(m))),d(t,["inlinedResponses"],c)}const l=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>m)),d(t,["inlinedEmbedContentResponses"],c)}return t}function ZT(i){const t={},r=u(i,["predictionsFormat"]);r!=null&&d(t,["format"],r);const o=u(i,["gcsDestination","outputUriPrefix"]);o!=null&&d(t,["gcsUri"],o);const l=u(i,["bigqueryDestination","outputUri"]);return l!=null&&d(t,["bigqueryUri"],l),t}function QT(i){const t={},r=u(i,["format"]);r!=null&&d(t,["predictionsFormat"],r);const o=u(i,["gcsUri"]);o!=null&&d(t,["gcsDestination","outputUriPrefix"],o);const l=u(i,["bigqueryUri"]);if(l!=null&&d(t,["bigqueryDestination","outputUri"],l),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function uu(i){const t={},r=u(i,["name"]);r!=null&&d(t,["name"],r);const o=u(i,["metadata","displayName"]);o!=null&&d(t,["displayName"],o);const l=u(i,["metadata","state"]);l!=null&&d(t,["state"],by(l));const c=u(i,["metadata","createTime"]);c!=null&&d(t,["createTime"],c);const m=u(i,["metadata","endTime"]);m!=null&&d(t,["endTime"],m);const v=u(i,["metadata","updateTime"]);v!=null&&d(t,["updateTime"],v);const b=u(i,["metadata","model"]);b!=null&&d(t,["model"],b);const T=u(i,["metadata","output"]);return T!=null&&d(t,["dest"],KT(Ty(T))),t}function Bd(i){const t={},r=u(i,["name"]);r!=null&&d(t,["name"],r);const o=u(i,["displayName"]);o!=null&&d(t,["displayName"],o);const l=u(i,["state"]);l!=null&&d(t,["state"],by(l));const c=u(i,["error"]);c!=null&&d(t,["error"],c);const m=u(i,["createTime"]);m!=null&&d(t,["createTime"],m);const v=u(i,["startTime"]);v!=null&&d(t,["startTime"],v);const b=u(i,["endTime"]);b!=null&&d(t,["endTime"],b);const T=u(i,["updateTime"]);T!=null&&d(t,["updateTime"],T);const x=u(i,["model"]);x!=null&&d(t,["model"],x);const E=u(i,["inputConfig"]);E!=null&&d(t,["src"],XT(E));const C=u(i,["outputConfig"]);C!=null&&d(t,["dest"],ZT(Ty(C)));const M=u(i,["completionStats"]);return M!=null&&d(t,["completionStats"],M),t}function XT(i){const t={},r=u(i,["instancesFormat"]);r!=null&&d(t,["format"],r);const o=u(i,["gcsSource","uris"]);o!=null&&d(t,["gcsUri"],o);const l=u(i,["bigquerySource","inputUri"]);return l!=null&&d(t,["bigqueryUri"],l),t}function WT(i,t){const r={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=u(t,["fileName"]);o!=null&&d(r,["fileName"],o);const l=u(t,["inlinedRequests"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>_b(i,m))),d(r,["requests","requests"],c)}return r}function $T(i){const t={},r=u(i,["format"]);r!=null&&d(t,["instancesFormat"],r);const o=u(i,["gcsUri"]);o!=null&&d(t,["gcsSource","uris"],o);const l=u(i,["bigqueryUri"]);if(l!=null&&d(t,["bigquerySource","inputUri"],l),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function eb(i){const t={},r=u(i,["data"]);if(r!=null&&d(t,["data"],r),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function tb(i,t){const r={},o=u(t,["name"]);return o!=null&&d(r,["_url","name"],Jo(i,o)),r}function nb(i,t){const r={},o=u(t,["name"]);return o!=null&&d(r,["_url","name"],Jo(i,o)),r}function ib(i){const t={},r=u(i,["content"]);r!=null&&d(t,["content"],r);const o=u(i,["citationMetadata"]);o!=null&&d(t,["citationMetadata"],ab(o));const l=u(i,["tokenCount"]);l!=null&&d(t,["tokenCount"],l);const c=u(i,["finishReason"]);c!=null&&d(t,["finishReason"],c);const m=u(i,["avgLogprobs"]);m!=null&&d(t,["avgLogprobs"],m);const v=u(i,["groundingMetadata"]);v!=null&&d(t,["groundingMetadata"],v);const b=u(i,["index"]);b!=null&&d(t,["index"],b);const T=u(i,["logprobsResult"]);T!=null&&d(t,["logprobsResult"],T);const x=u(i,["safetyRatings"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(M=>M)),d(t,["safetyRatings"],C)}const E=u(i,["urlContextMetadata"]);return E!=null&&d(t,["urlContextMetadata"],E),t}function ab(i){const t={},r=u(i,["citationSources"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),d(t,["citations"],o)}return t}function xy(i){const t={},r=u(i,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Ob(c))),d(t,["parts"],l)}const o=u(i,["role"]);return o!=null&&d(t,["role"],o),t}function rb(i,t){const r={},o=u(i,["displayName"]);if(t!==void 0&&o!=null&&d(t,["batch","displayName"],o),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function ob(i,t){const r={},o=u(i,["displayName"]);t!==void 0&&o!=null&&d(t,["displayName"],o);const l=u(i,["dest"]);return t!==void 0&&l!=null&&d(t,["outputConfig"],QT(YT(l))),r}function Dg(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["src"]);l!=null&&d(r,["batch","inputConfig"],WT(i,vy(i,l)));const c=u(t,["config"]);return c!=null&&rb(c,r),r}function sb(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["model"],wt(i,o));const l=u(t,["src"]);l!=null&&d(r,["inputConfig"],$T(vy(i,l)));const c=u(t,["config"]);return c!=null&&ob(c,r),r}function lb(i,t){const r={},o=u(i,["displayName"]);return t!==void 0&&o!=null&&d(t,["batch","displayName"],o),r}function ub(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["src"]);l!=null&&d(r,["batch","inputConfig"],gb(i,l));const c=u(t,["config"]);return c!=null&&lb(c,r),r}function cb(i,t){const r={},o=u(t,["name"]);return o!=null&&d(r,["_url","name"],Jo(i,o)),r}function db(i,t){const r={},o=u(t,["name"]);return o!=null&&d(r,["_url","name"],Jo(i,o)),r}function fb(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["name"]);o!=null&&d(t,["name"],o);const l=u(i,["done"]);l!=null&&d(t,["done"],l);const c=u(i,["error"]);return c!=null&&d(t,["error"],c),t}function pb(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["name"]);o!=null&&d(t,["name"],o);const l=u(i,["done"]);l!=null&&d(t,["done"],l);const c=u(i,["error"]);return c!=null&&d(t,["error"],c),t}function mb(i,t){const r={},o=u(t,["contents"]);if(o!=null){let c=Qd(i,o);Array.isArray(c)&&(c=c.map(m=>m)),d(r,["requests[]","request","content"],c)}const l=u(t,["config"]);return l!=null&&(d(r,["_self"],hb(l,r)),dT(r,{"requests[].*":"requests[].request.*"})),r}function hb(i,t){const r={},o=u(i,["taskType"]);t!==void 0&&o!=null&&d(t,["requests[]","taskType"],o);const l=u(i,["title"]);t!==void 0&&l!=null&&d(t,["requests[]","title"],l);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&d(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function gb(i,t){const r={},o=u(t,["fileName"]);o!=null&&d(r,["file_name"],o);const l=u(t,["inlinedRequests"]);return l!=null&&d(r,["requests"],mb(i,l)),r}function yb(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["fileUri"]);r!=null&&d(t,["fileUri"],r);const o=u(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function vb(i){const t={},r=u(i,["id"]);r!=null&&d(t,["id"],r);const o=u(i,["args"]);o!=null&&d(t,["args"],o);const l=u(i,["name"]);if(l!=null&&d(t,["name"],l),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Tb(i){const t={},r=u(i,["mode"]);r!=null&&d(t,["mode"],r);const o=u(i,["allowedFunctionNames"]);if(o!=null&&d(t,["allowedFunctionNames"],o),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function bb(i,t,r){const o={},l=u(t,["systemInstruction"]);r!==void 0&&l!=null&&d(r,["systemInstruction"],xy(qn(l)));const c=u(t,["temperature"]);c!=null&&d(o,["temperature"],c);const m=u(t,["topP"]);m!=null&&d(o,["topP"],m);const v=u(t,["topK"]);v!=null&&d(o,["topK"],v);const b=u(t,["candidateCount"]);b!=null&&d(o,["candidateCount"],b);const T=u(t,["maxOutputTokens"]);T!=null&&d(o,["maxOutputTokens"],T);const x=u(t,["stopSequences"]);x!=null&&d(o,["stopSequences"],x);const E=u(t,["responseLogprobs"]);E!=null&&d(o,["responseLogprobs"],E);const C=u(t,["logprobs"]);C!=null&&d(o,["logprobs"],C);const M=u(t,["presencePenalty"]);M!=null&&d(o,["presencePenalty"],M);const P=u(t,["frequencyPenalty"]);P!=null&&d(o,["frequencyPenalty"],P);const k=u(t,["seed"]);k!=null&&d(o,["seed"],k);const Y=u(t,["responseMimeType"]);Y!=null&&d(o,["responseMimeType"],Y);const G=u(t,["responseSchema"]);G!=null&&d(o,["responseSchema"],Xd(G));const $=u(t,["responseJsonSchema"]);if($!=null&&d(o,["responseJsonSchema"],$),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const se=u(t,["safetySettings"]);if(r!==void 0&&se!=null){let we=se;Array.isArray(we)&&(we=we.map(Je=>Ub(Je))),d(r,["safetySettings"],we)}const Ee=u(t,["tools"]);if(r!==void 0&&Ee!=null){let we=Fo(Ee);Array.isArray(we)&&(we=we.map(Je=>Bb(Ho(Je)))),d(r,["tools"],we)}const Ce=u(t,["toolConfig"]);if(r!==void 0&&Ce!=null&&d(r,["toolConfig"],Lb(Ce)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const De=u(t,["cachedContent"]);r!==void 0&&De!=null&&d(r,["cachedContent"],Oa(i,De));const J=u(t,["responseModalities"]);J!=null&&d(o,["responseModalities"],J);const Me=u(t,["mediaResolution"]);Me!=null&&d(o,["mediaResolution"],Me);const xe=u(t,["speechConfig"]);if(xe!=null&&d(o,["speechConfig"],Wd(xe)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=u(t,["thinkingConfig"]);me!=null&&d(o,["thinkingConfig"],me);const ge=u(t,["imageConfig"]);return ge!=null&&d(o,["imageConfig"],Cb(ge)),o}function xb(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["candidates"]);if(o!=null){let b=o;Array.isArray(b)&&(b=b.map(T=>ib(T))),d(t,["candidates"],b)}const l=u(i,["modelVersion"]);l!=null&&d(t,["modelVersion"],l);const c=u(i,["promptFeedback"]);c!=null&&d(t,["promptFeedback"],c);const m=u(i,["responseId"]);m!=null&&d(t,["responseId"],m);const v=u(i,["usageMetadata"]);return v!=null&&d(t,["usageMetadata"],v),t}function Sb(i,t){const r={},o=u(t,["name"]);return o!=null&&d(r,["_url","name"],Jo(i,o)),r}function Eb(i,t){const r={},o=u(t,["name"]);return o!=null&&d(r,["_url","name"],Jo(i,o)),r}function Ab(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=u(i,["enableWidget"]);return r!=null&&d(t,["enableWidget"],r),t}function Nb(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=u(i,["timeRangeFilter"]);return r!=null&&d(t,["timeRangeFilter"],r),t}function Cb(i){const t={},r=u(i,["aspectRatio"]);r!=null&&d(t,["aspectRatio"],r);const o=u(i,["imageSize"]);if(o!=null&&d(t,["imageSize"],o),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function _b(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["request","model"],wt(i,o));const l=u(t,["contents"]);if(l!=null){let v=Ri(l);Array.isArray(v)&&(v=v.map(b=>xy(b))),d(r,["request","contents"],v)}const c=u(t,["metadata"]);c!=null&&d(r,["metadata"],c);const m=u(t,["config"]);return m!=null&&d(r,["request","generationConfig"],bb(i,m,u(r,["request"],{}))),r}function Ib(i){const t={},r=u(i,["response"]);r!=null&&d(t,["response"],xb(r));const o=u(i,["error"]);return o!=null&&d(t,["error"],o),t}function wb(i,t){const r={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=u(i,["pageToken"]);if(t!==void 0&&l!=null&&d(t,["_query","pageToken"],l),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function Rb(i,t){const r={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=u(i,["pageToken"]);t!==void 0&&l!=null&&d(t,["_query","pageToken"],l);const c=u(i,["filter"]);return t!==void 0&&c!=null&&d(t,["_query","filter"],c),r}function Mb(i){const t={},r=u(i,["config"]);return r!=null&&wb(r,t),t}function Db(i){const t={},r=u(i,["config"]);return r!=null&&Rb(r,t),t}function kb(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const l=u(i,["operations"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>uu(m))),d(t,["batchJobs"],c)}return t}function Pb(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const l=u(i,["batchPredictionJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>Bd(m))),d(t,["batchJobs"],c)}return t}function Ob(i){const t={},r=u(i,["mediaResolution"]);r!=null&&d(t,["mediaResolution"],r);const o=u(i,["codeExecutionResult"]);o!=null&&d(t,["codeExecutionResult"],o);const l=u(i,["executableCode"]);l!=null&&d(t,["executableCode"],l);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],yb(c));const m=u(i,["functionCall"]);m!=null&&d(t,["functionCall"],vb(m));const v=u(i,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const b=u(i,["inlineData"]);b!=null&&d(t,["inlineData"],eb(b));const T=u(i,["text"]);T!=null&&d(t,["text"],T);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const E=u(i,["thoughtSignature"]);E!=null&&d(t,["thoughtSignature"],E);const C=u(i,["videoMetadata"]);return C!=null&&d(t,["videoMetadata"],C),t}function Ub(i){const t={},r=u(i,["category"]);if(r!=null&&d(t,["category"],r),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=u(i,["threshold"]);return o!=null&&d(t,["threshold"],o),t}function Lb(i){const t={},r=u(i,["functionCallingConfig"]);r!=null&&d(t,["functionCallingConfig"],Tb(r));const o=u(i,["retrievalConfig"]);return o!=null&&d(t,["retrievalConfig"],o),t}function Bb(i){const t={},r=u(i,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(E=>E)),d(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["googleSearchRetrieval"]);o!=null&&d(t,["googleSearchRetrieval"],o);const l=u(i,["computerUse"]);l!=null&&d(t,["computerUse"],l);const c=u(i,["fileSearch"]);c!=null&&d(t,["fileSearch"],c);const m=u(i,["codeExecution"]);if(m!=null&&d(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=u(i,["googleMaps"]);v!=null&&d(t,["googleMaps"],Ab(v));const b=u(i,["googleSearch"]);b!=null&&d(t,["googleSearch"],Nb(b));const T=u(i,["urlContext"]);return T!=null&&d(t,["urlContext"],T),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ka;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(ka||(ka={}));class Jr{constructor(t,r,o,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(t,o,l)}init(t,r,o){var l,c;this.nameInternal=t,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!o||Object.keys(o).length===0?m={config:{}}:typeof o=="object"?m=Object.assign({},o):m=o,m.config&&(m.config.pageToken=r.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(c=(l=m.config)===null||l===void 0?void 0:l.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qb extends Pa{constructor(t){super(),this.apiClient=t,this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)},this.list=async(r={})=>new Jr(ka.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(r),r)}createInlinedGenerateContentRequest(t){const r=Dg(this.apiClient,t),o=r._url,l=Ve("{model}:batchGenerateContent",o),v=r.batch.inputConfig.requests,b=v.requests,T=[];for(const x of b){const E=Object.assign({},x);if(E.systemInstruction){const C=E.systemInstruction;delete E.systemInstruction;const M=E.request;M.systemInstruction=C,E.request=M}T.push(E)}return v.requests=T,delete r.config,delete r._url,delete r._query,{path:l,body:r}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,r){const o=r?Object.assign({},r):{},l=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${l}`),o.dest===void 0){const c=this.getGcsUri(t),m=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?o.dest=`${c.slice(0,-6)}/dest`:o.dest=`${c}_dest_${l}`;else if(m)o.dest=`${m}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=sb(this.apiClient,t);return v=Ve("batchPredictionJobs",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Bd(x))}else{const T=Dg(this.apiClient,t);return v=Ve("{model}:batchGenerateContent",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>uu(x))}}async createEmbeddingsInternal(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=ub(this.apiClient,t);return c=Ve("{model}:asyncBatchEmbedContent",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l.then(b=>uu(b))}}async get(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=Eb(this.apiClient,t);return v=Ve("batchPredictionJobs/{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Bd(x))}else{const T=Sb(this.apiClient,t);return v=Ve("batches/{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>uu(x))}}async cancel(t){var r,o,l,c;let m="",v={};if(this.apiClient.isVertexAI()){const b=nb(this.apiClient,t);m=Ve("batchPredictionJobs/{name}:cancel",b._url),v=b._query,delete b._url,delete b._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(b),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const b=tb(this.apiClient,t);m=Ve("batches/{name}:cancel",b._url),v=b._query,delete b._url,delete b._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(b),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=Db(t);return v=Ve("batchPredictionJobs",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=Pb(x),C=new Ig;return Object.assign(C,E),C})}else{const T=Mb(t);return v=Ve("batches",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=kb(x),C=new Ig;return Object.assign(C,E),C})}}async delete(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=db(this.apiClient,t);return v=Ve("batchPredictionJobs/{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>pb(x))}else{const T=cb(this.apiClient,t);return v=Ve("batches/{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>fb(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vb(i){const t={},r=u(i,["data"]);if(r!=null&&d(t,["data"],r),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function kg(i){const t={},r=u(i,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>ux(c))),d(t,["parts"],l)}const o=u(i,["role"]);return o!=null&&d(t,["role"],o),t}function zb(i,t){const r={},o=u(i,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const l=u(i,["expireTime"]);t!==void 0&&l!=null&&d(t,["expireTime"],l);const c=u(i,["displayName"]);t!==void 0&&c!=null&&d(t,["displayName"],c);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let x=Ri(m);Array.isArray(x)&&(x=x.map(E=>kg(E))),d(t,["contents"],x)}const v=u(i,["systemInstruction"]);t!==void 0&&v!=null&&d(t,["systemInstruction"],kg(qn(v)));const b=u(i,["tools"]);if(t!==void 0&&b!=null){let x=b;Array.isArray(x)&&(x=x.map(E=>dx(E))),d(t,["tools"],x)}const T=u(i,["toolConfig"]);if(t!==void 0&&T!=null&&d(t,["toolConfig"],cx(T)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Gb(i,t){const r={},o=u(i,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const l=u(i,["expireTime"]);t!==void 0&&l!=null&&d(t,["expireTime"],l);const c=u(i,["displayName"]);t!==void 0&&c!=null&&d(t,["displayName"],c);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let E=Ri(m);Array.isArray(E)&&(E=E.map(C=>C)),d(t,["contents"],E)}const v=u(i,["systemInstruction"]);t!==void 0&&v!=null&&d(t,["systemInstruction"],qn(v));const b=u(i,["tools"]);if(t!==void 0&&b!=null){let E=b;Array.isArray(E)&&(E=E.map(C=>fx(C))),d(t,["tools"],E)}const T=u(i,["toolConfig"]);t!==void 0&&T!=null&&d(t,["toolConfig"],T);const x=u(i,["kmsKeyName"]);return t!==void 0&&x!=null&&d(t,["encryption_spec","kmsKeyName"],x),r}function Hb(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["model"],uy(i,o));const l=u(t,["config"]);return l!=null&&zb(l,r),r}function Fb(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["model"],uy(i,o));const l=u(t,["config"]);return l!=null&&Gb(l,r),r}function Jb(i,t){const r={},o=u(t,["name"]);return o!=null&&d(r,["_url","name"],Oa(i,o)),r}function jb(i,t){const r={},o=u(t,["name"]);return o!=null&&d(r,["_url","name"],Oa(i,o)),r}function Yb(i){const t={},r=u(i,["sdkHttpResponse"]);return r!=null&&d(t,["sdkHttpResponse"],r),t}function Kb(i){const t={},r=u(i,["sdkHttpResponse"]);return r!=null&&d(t,["sdkHttpResponse"],r),t}function Zb(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["fileUri"]);r!=null&&d(t,["fileUri"],r);const o=u(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Qb(i){const t={},r=u(i,["id"]);r!=null&&d(t,["id"],r);const o=u(i,["args"]);o!=null&&d(t,["args"],o);const l=u(i,["name"]);if(l!=null&&d(t,["name"],l),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Xb(i){const t={},r=u(i,["mode"]);r!=null&&d(t,["mode"],r);const o=u(i,["allowedFunctionNames"]);if(o!=null&&d(t,["allowedFunctionNames"],o),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Wb(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=u(i,["description"]);r!=null&&d(t,["description"],r);const o=u(i,["name"]);o!=null&&d(t,["name"],o);const l=u(i,["parameters"]);l!=null&&d(t,["parameters"],l);const c=u(i,["parametersJsonSchema"]);c!=null&&d(t,["parametersJsonSchema"],c);const m=u(i,["response"]);m!=null&&d(t,["response"],m);const v=u(i,["responseJsonSchema"]);return v!=null&&d(t,["responseJsonSchema"],v),t}function $b(i,t){const r={},o=u(t,["name"]);return o!=null&&d(r,["_url","name"],Oa(i,o)),r}function ex(i,t){const r={},o=u(t,["name"]);return o!=null&&d(r,["_url","name"],Oa(i,o)),r}function tx(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=u(i,["enableWidget"]);return r!=null&&d(t,["enableWidget"],r),t}function nx(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=u(i,["timeRangeFilter"]);return r!=null&&d(t,["timeRangeFilter"],r),t}function ix(i,t){const r={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=u(i,["pageToken"]);return t!==void 0&&l!=null&&d(t,["_query","pageToken"],l),r}function ax(i,t){const r={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=u(i,["pageToken"]);return t!==void 0&&l!=null&&d(t,["_query","pageToken"],l),r}function rx(i){const t={},r=u(i,["config"]);return r!=null&&ix(r,t),t}function ox(i){const t={},r=u(i,["config"]);return r!=null&&ax(r,t),t}function sx(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const l=u(i,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>m)),d(t,["cachedContents"],c)}return t}function lx(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const l=u(i,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>m)),d(t,["cachedContents"],c)}return t}function ux(i){const t={},r=u(i,["mediaResolution"]);r!=null&&d(t,["mediaResolution"],r);const o=u(i,["codeExecutionResult"]);o!=null&&d(t,["codeExecutionResult"],o);const l=u(i,["executableCode"]);l!=null&&d(t,["executableCode"],l);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],Zb(c));const m=u(i,["functionCall"]);m!=null&&d(t,["functionCall"],Qb(m));const v=u(i,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const b=u(i,["inlineData"]);b!=null&&d(t,["inlineData"],Vb(b));const T=u(i,["text"]);T!=null&&d(t,["text"],T);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const E=u(i,["thoughtSignature"]);E!=null&&d(t,["thoughtSignature"],E);const C=u(i,["videoMetadata"]);return C!=null&&d(t,["videoMetadata"],C),t}function cx(i){const t={},r=u(i,["functionCallingConfig"]);r!=null&&d(t,["functionCallingConfig"],Xb(r));const o=u(i,["retrievalConfig"]);return o!=null&&d(t,["retrievalConfig"],o),t}function dx(i){const t={},r=u(i,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(E=>E)),d(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["googleSearchRetrieval"]);o!=null&&d(t,["googleSearchRetrieval"],o);const l=u(i,["computerUse"]);l!=null&&d(t,["computerUse"],l);const c=u(i,["fileSearch"]);c!=null&&d(t,["fileSearch"],c);const m=u(i,["codeExecution"]);if(m!=null&&d(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=u(i,["googleMaps"]);v!=null&&d(t,["googleMaps"],tx(v));const b=u(i,["googleSearch"]);b!=null&&d(t,["googleSearch"],nx(b));const T=u(i,["urlContext"]);return T!=null&&d(t,["urlContext"],T),t}function fx(i){const t={},r=u(i,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(C=>Wb(C))),d(t,["functionDeclarations"],E)}const o=u(i,["retrieval"]);o!=null&&d(t,["retrieval"],o);const l=u(i,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const c=u(i,["computerUse"]);if(c!=null&&d(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&d(t,["codeExecution"],m);const v=u(i,["enterpriseWebSearch"]);v!=null&&d(t,["enterpriseWebSearch"],v);const b=u(i,["googleMaps"]);b!=null&&d(t,["googleMaps"],b);const T=u(i,["googleSearch"]);T!=null&&d(t,["googleSearch"],T);const x=u(i,["urlContext"]);return x!=null&&d(t,["urlContext"],x),t}function px(i,t){const r={},o=u(i,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const l=u(i,["expireTime"]);return t!==void 0&&l!=null&&d(t,["expireTime"],l),r}function mx(i,t){const r={},o=u(i,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const l=u(i,["expireTime"]);return t!==void 0&&l!=null&&d(t,["expireTime"],l),r}function hx(i,t){const r={},o=u(t,["name"]);o!=null&&d(r,["_url","name"],Oa(i,o));const l=u(t,["config"]);return l!=null&&px(l,r),r}function gx(i,t){const r={},o=u(t,["name"]);o!=null&&d(r,["_url","name"],Oa(i,o));const l=u(t,["config"]);return l!=null&&mx(l,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yx extends Pa{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Jr(ka.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(r),r)}async create(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=Fb(this.apiClient,t);return v=Ve("cachedContents",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const T=Hb(this.apiClient,t);return v=Ve("cachedContents",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async get(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=ex(this.apiClient,t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const T=$b(this.apiClient,t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async delete(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=jb(this.apiClient,t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=Kb(x),C=new Cg;return Object.assign(C,E),C})}else{const T=Jb(this.apiClient,t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=Yb(x),C=new Cg;return Object.assign(C,E),C})}}async update(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=gx(this.apiClient,t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const T=hx(this.apiClient,t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async listInternal(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=ox(t);return v=Ve("cachedContents",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=lx(x),C=new _g;return Object.assign(C,E),C})}else{const T=rx(t);return v=Ve("cachedContents",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=sx(x),C=new _g;return Object.assign(C,E),C})}}}function Pg(i){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&i[t],o=0;if(r)return r.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zt(i){return this instanceof Zt?(this.v=i,this):new Zt(i)}function zo(i,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(i,t||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),v("next"),v("throw"),v("return",m),l[Symbol.asyncIterator]=function(){return this},l;function m(M){return function(P){return Promise.resolve(P).then(M,E)}}function v(M,P){o[M]&&(l[M]=function(k){return new Promise(function(Y,G){c.push([M,k,Y,G])>1||b(M,k)})},P&&(l[M]=P(l[M])))}function b(M,P){try{T(o[M](P))}catch(k){C(c[0][3],k)}}function T(M){M.value instanceof Zt?Promise.resolve(M.value.v).then(x,E):C(c[0][2],M)}function x(M){b("next",M)}function E(M){b("throw",M)}function C(M,P){M(P),c.shift(),c.length&&b(c[0][0],c[0][1])}}function Zs(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],r;return t?t.call(i):(i=typeof Pg=="function"?Pg(i):i[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(c){r[c]=i[c]&&function(m){return new Promise(function(v,b){m=i[c](m),l(v,b,m.done,m.value)})}}function l(c,m,v,b){Promise.resolve(b).then(function(T){c({value:T,done:v})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vx(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const r=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return r===void 0?!1:Sy(r)}function Sy(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Tx(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Og(i){if(i===void 0||i.length===0)return[];const t=[],r=i.length;let o=0;for(;o<r;)if(i[o].role==="user")t.push(i[o]),o++;else{const l=[];let c=!0;for(;o<r&&i[o].role==="model";)l.push(i[o]),c&&!Sy(i[o])&&(c=!1),o++;c?t.push(...l):t.pop()}return t}class bx{constructor(t,r){this.modelsModule=t,this.apiClient=r}create(t){return new xx(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class xx{constructor(t,r,o,l={},c=[]){this.apiClient=t,this.modelsModule=r,this.model=o,this.config=l,this.history=c,this.sendPromise=Promise.resolve(),Tx(c)}async sendMessage(t){var r;await this.sendPromise;const o=qn(t.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=t.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var c,m,v;const b=await l,T=(m=(c=b.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content,x=b.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let C=[];x!=null&&(C=(v=x.slice(E))!==null&&v!==void 0?v:[]);const M=T?[T]:[];this.recordHistory(o,M,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(t){var r;await this.sendPromise;const o=qn(t.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(r=t.config)!==null&&r!==void 0?r:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const c=await l;return this.processStreamResponse(c,o)}getHistory(t=!1){const r=t?Og(this.history):this.history;return structuredClone(r)}processStreamResponse(t,r){var o,l;return zo(this,arguments,function*(){var m,v,b,T;const x=[];try{for(var E=!0,C=Zs(t),M;M=yield Zt(C.next()),m=M.done,!m;E=!0){T=M.value,E=!1;const P=T;if(vx(P)){const k=(l=(o=P.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content;k!==void 0&&x.push(k)}yield yield Zt(P)}}catch(P){v={error:P}}finally{try{!E&&!m&&(b=C.return)&&(yield Zt(b.call(C)))}finally{if(v)throw v.error}}this.recordHistory(r,x)})}recordHistory(t,r,o){let l=[];r.length>0&&r.every(c=>c.role!==void 0)?l=r:l.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Og(o)):this.history.push(t),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bu extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,bu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sx(i){const t={},r=u(i,["file"]);return r!=null&&d(t,["file"],r),t}function Ex(i){const t={},r=u(i,["sdkHttpResponse"]);return r!=null&&d(t,["sdkHttpResponse"],r),t}function Ax(i){const t={},r=u(i,["name"]);return r!=null&&d(t,["_url","file"],hy(r)),t}function Nx(i){const t={},r=u(i,["sdkHttpResponse"]);return r!=null&&d(t,["sdkHttpResponse"],r),t}function Cx(i){const t={},r=u(i,["name"]);return r!=null&&d(t,["_url","file"],hy(r)),t}function _x(i,t){const r={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=u(i,["pageToken"]);return t!==void 0&&l!=null&&d(t,["_query","pageToken"],l),r}function Ix(i){const t={},r=u(i,["config"]);return r!=null&&_x(r,t),t}function wx(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const l=u(i,["files"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>m)),d(t,["files"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rx extends Pa{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Jr(ka.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(r),r)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(r=>r)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=Ix(t);return c=Ve("files",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:b.headers},x})),l.then(b=>{const T=wx(b),x=new PT;return Object.assign(x,T),x})}}async createInternal(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=Sx(t);return c=Ve("upload/v1beta/files",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l.then(b=>{const T=Ex(b),x=new OT;return Object.assign(x,T),x})}}async get(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=Cx(t);return c=Ve("files/{file}",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l.then(b=>b)}}async delete(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=Ax(t);return c=Ve("files/{file}",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:b.headers},x})),l.then(b=>{const T=Nx(b),x=new UT;return Object.assign(x,T),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cu(i){const t={},r=u(i,["data"]);if(r!=null&&d(t,["data"],r),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Mx(i){const t={},r=u(i,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Yx(c))),d(t,["parts"],l)}const o=u(i,["role"]);return o!=null&&d(t,["role"],o),t}function Dx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["fileUri"]);r!=null&&d(t,["fileUri"],r);const o=u(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function kx(i){const t={},r=u(i,["id"]);r!=null&&d(t,["id"],r);const o=u(i,["args"]);o!=null&&d(t,["args"],o);const l=u(i,["name"]);if(l!=null&&d(t,["name"],l),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Px(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=u(i,["description"]);r!=null&&d(t,["description"],r);const o=u(i,["name"]);o!=null&&d(t,["name"],o);const l=u(i,["parameters"]);l!=null&&d(t,["parameters"],l);const c=u(i,["parametersJsonSchema"]);c!=null&&d(t,["parametersJsonSchema"],c);const m=u(i,["response"]);m!=null&&d(t,["response"],m);const v=u(i,["responseJsonSchema"]);return v!=null&&d(t,["responseJsonSchema"],v),t}function Ox(i){const t={},r=u(i,["modelSelectionConfig"]);r!=null&&d(t,["modelConfig"],r);const o=u(i,["responseJsonSchema"]);o!=null&&d(t,["responseJsonSchema"],o);const l=u(i,["audioTimestamp"]);l!=null&&d(t,["audioTimestamp"],l);const c=u(i,["candidateCount"]);c!=null&&d(t,["candidateCount"],c);const m=u(i,["enableAffectiveDialog"]);m!=null&&d(t,["enableAffectiveDialog"],m);const v=u(i,["frequencyPenalty"]);v!=null&&d(t,["frequencyPenalty"],v);const b=u(i,["logprobs"]);b!=null&&d(t,["logprobs"],b);const T=u(i,["maxOutputTokens"]);T!=null&&d(t,["maxOutputTokens"],T);const x=u(i,["mediaResolution"]);x!=null&&d(t,["mediaResolution"],x);const E=u(i,["presencePenalty"]);E!=null&&d(t,["presencePenalty"],E);const C=u(i,["responseLogprobs"]);C!=null&&d(t,["responseLogprobs"],C);const M=u(i,["responseMimeType"]);M!=null&&d(t,["responseMimeType"],M);const P=u(i,["responseModalities"]);P!=null&&d(t,["responseModalities"],P);const k=u(i,["responseSchema"]);k!=null&&d(t,["responseSchema"],k);const Y=u(i,["routingConfig"]);Y!=null&&d(t,["routingConfig"],Y);const G=u(i,["seed"]);G!=null&&d(t,["seed"],G);const $=u(i,["speechConfig"]);$!=null&&d(t,["speechConfig"],Ey($));const se=u(i,["stopSequences"]);se!=null&&d(t,["stopSequences"],se);const Ee=u(i,["temperature"]);Ee!=null&&d(t,["temperature"],Ee);const Ce=u(i,["thinkingConfig"]);Ce!=null&&d(t,["thinkingConfig"],Ce);const De=u(i,["topK"]);De!=null&&d(t,["topK"],De);const J=u(i,["topP"]);if(J!=null&&d(t,["topP"],J),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Ux(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=u(i,["enableWidget"]);return r!=null&&d(t,["enableWidget"],r),t}function Lx(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=u(i,["timeRangeFilter"]);return r!=null&&d(t,["timeRangeFilter"],r),t}function Bx(i,t){const r={},o=u(i,["generationConfig"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig"],o);const l=u(i,["responseModalities"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig","responseModalities"],l);const c=u(i,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const m=u(i,["topP"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","topP"],m);const v=u(i,["topK"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","topK"],v);const b=u(i,["maxOutputTokens"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","maxOutputTokens"],b);const T=u(i,["mediaResolution"]);t!==void 0&&T!=null&&d(t,["setup","generationConfig","mediaResolution"],T);const x=u(i,["seed"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","seed"],x);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","speechConfig"],$d(E));const C=u(i,["thinkingConfig"]);t!==void 0&&C!=null&&d(t,["setup","generationConfig","thinkingConfig"],C);const M=u(i,["enableAffectiveDialog"]);t!==void 0&&M!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],M);const P=u(i,["systemInstruction"]);t!==void 0&&P!=null&&d(t,["setup","systemInstruction"],Mx(qn(P)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let De=Fo(k);Array.isArray(De)&&(De=De.map(J=>Zx(Ho(J)))),d(t,["setup","tools"],De)}const Y=u(i,["sessionResumption"]);t!==void 0&&Y!=null&&d(t,["setup","sessionResumption"],Kx(Y));const G=u(i,["inputAudioTranscription"]);t!==void 0&&G!=null&&d(t,["setup","inputAudioTranscription"],G);const $=u(i,["outputAudioTranscription"]);t!==void 0&&$!=null&&d(t,["setup","outputAudioTranscription"],$);const se=u(i,["realtimeInputConfig"]);t!==void 0&&se!=null&&d(t,["setup","realtimeInputConfig"],se);const Ee=u(i,["contextWindowCompression"]);t!==void 0&&Ee!=null&&d(t,["setup","contextWindowCompression"],Ee);const Ce=u(i,["proactivity"]);return t!==void 0&&Ce!=null&&d(t,["setup","proactivity"],Ce),r}function qx(i,t){const r={},o=u(i,["generationConfig"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig"],Ox(o));const l=u(i,["responseModalities"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig","responseModalities"],l);const c=u(i,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const m=u(i,["topP"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","topP"],m);const v=u(i,["topK"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","topK"],v);const b=u(i,["maxOutputTokens"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","maxOutputTokens"],b);const T=u(i,["mediaResolution"]);t!==void 0&&T!=null&&d(t,["setup","generationConfig","mediaResolution"],T);const x=u(i,["seed"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","seed"],x);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","speechConfig"],Ey($d(E)));const C=u(i,["thinkingConfig"]);t!==void 0&&C!=null&&d(t,["setup","generationConfig","thinkingConfig"],C);const M=u(i,["enableAffectiveDialog"]);t!==void 0&&M!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],M);const P=u(i,["systemInstruction"]);t!==void 0&&P!=null&&d(t,["setup","systemInstruction"],qn(P));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let De=Fo(k);Array.isArray(De)&&(De=De.map(J=>Qx(Ho(J)))),d(t,["setup","tools"],De)}const Y=u(i,["sessionResumption"]);t!==void 0&&Y!=null&&d(t,["setup","sessionResumption"],Y);const G=u(i,["inputAudioTranscription"]);t!==void 0&&G!=null&&d(t,["setup","inputAudioTranscription"],G);const $=u(i,["outputAudioTranscription"]);t!==void 0&&$!=null&&d(t,["setup","outputAudioTranscription"],$);const se=u(i,["realtimeInputConfig"]);t!==void 0&&se!=null&&d(t,["setup","realtimeInputConfig"],se);const Ee=u(i,["contextWindowCompression"]);t!==void 0&&Ee!=null&&d(t,["setup","contextWindowCompression"],Ee);const Ce=u(i,["proactivity"]);return t!==void 0&&Ce!=null&&d(t,["setup","proactivity"],Ce),r}function Vx(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["setup","model"],wt(i,o));const l=u(t,["config"]);return l!=null&&d(r,["config"],Bx(l,r)),r}function zx(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["setup","model"],wt(i,o));const l=u(t,["config"]);return l!=null&&d(r,["config"],qx(l,r)),r}function Gx(i){const t={},r=u(i,["musicGenerationConfig"]);return r!=null&&d(t,["musicGenerationConfig"],r),t}function Hx(i){const t={},r=u(i,["weightedPrompts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),d(t,["weightedPrompts"],o)}return t}function Fx(i){const t={},r=u(i,["media"]);if(r!=null){let T=cy(r);Array.isArray(T)&&(T=T.map(x=>cu(x))),d(t,["mediaChunks"],T)}const o=u(i,["audio"]);o!=null&&d(t,["audio"],cu(fy(o)));const l=u(i,["audioStreamEnd"]);l!=null&&d(t,["audioStreamEnd"],l);const c=u(i,["video"]);c!=null&&d(t,["video"],cu(dy(c)));const m=u(i,["text"]);m!=null&&d(t,["text"],m);const v=u(i,["activityStart"]);v!=null&&d(t,["activityStart"],v);const b=u(i,["activityEnd"]);return b!=null&&d(t,["activityEnd"],b),t}function Jx(i){const t={},r=u(i,["media"]);if(r!=null){let T=cy(r);Array.isArray(T)&&(T=T.map(x=>x)),d(t,["mediaChunks"],T)}const o=u(i,["audio"]);o!=null&&d(t,["audio"],fy(o));const l=u(i,["audioStreamEnd"]);l!=null&&d(t,["audioStreamEnd"],l);const c=u(i,["video"]);c!=null&&d(t,["video"],dy(c));const m=u(i,["text"]);m!=null&&d(t,["text"],m);const v=u(i,["activityStart"]);v!=null&&d(t,["activityStart"],v);const b=u(i,["activityEnd"]);return b!=null&&d(t,["activityEnd"],b),t}function jx(i){const t={},r=u(i,["setupComplete"]);r!=null&&d(t,["setupComplete"],r);const o=u(i,["serverContent"]);o!=null&&d(t,["serverContent"],o);const l=u(i,["toolCall"]);l!=null&&d(t,["toolCall"],l);const c=u(i,["toolCallCancellation"]);c!=null&&d(t,["toolCallCancellation"],c);const m=u(i,["usageMetadata"]);m!=null&&d(t,["usageMetadata"],Xx(m));const v=u(i,["goAway"]);v!=null&&d(t,["goAway"],v);const b=u(i,["sessionResumptionUpdate"]);return b!=null&&d(t,["sessionResumptionUpdate"],b),t}function Yx(i){const t={},r=u(i,["mediaResolution"]);r!=null&&d(t,["mediaResolution"],r);const o=u(i,["codeExecutionResult"]);o!=null&&d(t,["codeExecutionResult"],o);const l=u(i,["executableCode"]);l!=null&&d(t,["executableCode"],l);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],Dx(c));const m=u(i,["functionCall"]);m!=null&&d(t,["functionCall"],kx(m));const v=u(i,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const b=u(i,["inlineData"]);b!=null&&d(t,["inlineData"],cu(b));const T=u(i,["text"]);T!=null&&d(t,["text"],T);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const E=u(i,["thoughtSignature"]);E!=null&&d(t,["thoughtSignature"],E);const C=u(i,["videoMetadata"]);return C!=null&&d(t,["videoMetadata"],C),t}function Kx(i){const t={},r=u(i,["handle"]);if(r!=null&&d(t,["handle"],r),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Ey(i){const t={},r=u(i,["languageCode"]);r!=null&&d(t,["languageCode"],r);const o=u(i,["voiceConfig"]);if(o!=null&&d(t,["voiceConfig"],o),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Zx(i){const t={},r=u(i,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(E=>E)),d(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["googleSearchRetrieval"]);o!=null&&d(t,["googleSearchRetrieval"],o);const l=u(i,["computerUse"]);l!=null&&d(t,["computerUse"],l);const c=u(i,["fileSearch"]);c!=null&&d(t,["fileSearch"],c);const m=u(i,["codeExecution"]);if(m!=null&&d(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=u(i,["googleMaps"]);v!=null&&d(t,["googleMaps"],Ux(v));const b=u(i,["googleSearch"]);b!=null&&d(t,["googleSearch"],Lx(b));const T=u(i,["urlContext"]);return T!=null&&d(t,["urlContext"],T),t}function Qx(i){const t={},r=u(i,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(C=>Px(C))),d(t,["functionDeclarations"],E)}const o=u(i,["retrieval"]);o!=null&&d(t,["retrieval"],o);const l=u(i,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const c=u(i,["computerUse"]);if(c!=null&&d(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&d(t,["codeExecution"],m);const v=u(i,["enterpriseWebSearch"]);v!=null&&d(t,["enterpriseWebSearch"],v);const b=u(i,["googleMaps"]);b!=null&&d(t,["googleMaps"],b);const T=u(i,["googleSearch"]);T!=null&&d(t,["googleSearch"],T);const x=u(i,["urlContext"]);return x!=null&&d(t,["urlContext"],x),t}function Xx(i){const t={},r=u(i,["promptTokenCount"]);r!=null&&d(t,["promptTokenCount"],r);const o=u(i,["cachedContentTokenCount"]);o!=null&&d(t,["cachedContentTokenCount"],o);const l=u(i,["candidatesTokenCount"]);l!=null&&d(t,["responseTokenCount"],l);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&d(t,["toolUsePromptTokenCount"],c);const m=u(i,["thoughtsTokenCount"]);m!=null&&d(t,["thoughtsTokenCount"],m);const v=u(i,["totalTokenCount"]);v!=null&&d(t,["totalTokenCount"],v);const b=u(i,["promptTokensDetails"]);if(b!=null){let M=b;Array.isArray(M)&&(M=M.map(P=>P)),d(t,["promptTokensDetails"],M)}const T=u(i,["cacheTokensDetails"]);if(T!=null){let M=T;Array.isArray(M)&&(M=M.map(P=>P)),d(t,["cacheTokensDetails"],M)}const x=u(i,["candidatesTokensDetails"]);if(x!=null){let M=x;Array.isArray(M)&&(M=M.map(P=>P)),d(t,["responseTokensDetails"],M)}const E=u(i,["toolUsePromptTokensDetails"]);if(E!=null){let M=E;Array.isArray(M)&&(M=M.map(P=>P)),d(t,["toolUsePromptTokensDetails"],M)}const C=u(i,["trafficType"]);return C!=null&&d(t,["trafficType"],C),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wx(i){const t={},r=u(i,["data"]);if(r!=null&&d(t,["data"],r),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function $x(i){const t={},r=u(i,["content"]);r!=null&&d(t,["content"],r);const o=u(i,["citationMetadata"]);o!=null&&d(t,["citationMetadata"],eS(o));const l=u(i,["tokenCount"]);l!=null&&d(t,["tokenCount"],l);const c=u(i,["finishReason"]);c!=null&&d(t,["finishReason"],c);const m=u(i,["avgLogprobs"]);m!=null&&d(t,["avgLogprobs"],m);const v=u(i,["groundingMetadata"]);v!=null&&d(t,["groundingMetadata"],v);const b=u(i,["index"]);b!=null&&d(t,["index"],b);const T=u(i,["logprobsResult"]);T!=null&&d(t,["logprobsResult"],T);const x=u(i,["safetyRatings"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(M=>M)),d(t,["safetyRatings"],C)}const E=u(i,["urlContextMetadata"]);return E!=null&&d(t,["urlContextMetadata"],E),t}function eS(i){const t={},r=u(i,["citationSources"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),d(t,["citations"],o)}return t}function tS(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["contents"]);if(l!=null){let c=Ri(l);Array.isArray(c)&&(c=c.map(m=>m)),d(r,["contents"],c)}return r}function nS(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["tokensInfo"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),d(t,["tokensInfo"],l)}return t}function iS(i){const t={},r=u(i,["values"]);r!=null&&d(t,["values"],r);const o=u(i,["statistics"]);return o!=null&&d(t,["statistics"],aS(o)),t}function aS(i){const t={},r=u(i,["truncated"]);r!=null&&d(t,["truncated"],r);const o=u(i,["token_count"]);return o!=null&&d(t,["tokenCount"],o),t}function xu(i){const t={},r=u(i,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>pE(c))),d(t,["parts"],l)}const o=u(i,["role"]);return o!=null&&d(t,["role"],o),t}function rS(i){const t={},r=u(i,["controlType"]);r!=null&&d(t,["controlType"],r);const o=u(i,["enableControlImageComputation"]);return o!=null&&d(t,["computeControl"],o),t}function oS(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function sS(i,t){const r={},o=u(i,["systemInstruction"]);t!==void 0&&o!=null&&d(t,["systemInstruction"],qn(o));const l=u(i,["tools"]);if(t!==void 0&&l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>Iy(v))),d(t,["tools"],m)}const c=u(i,["generationConfig"]);return t!==void 0&&c!=null&&d(t,["generationConfig"],WS(c)),r}function lS(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["contents"]);if(l!=null){let m=Ri(l);Array.isArray(m)&&(m=m.map(v=>xu(v))),d(r,["contents"],m)}const c=u(t,["config"]);return c!=null&&oS(c),r}function uS(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["contents"]);if(l!=null){let m=Ri(l);Array.isArray(m)&&(m=m.map(v=>v)),d(r,["contents"],m)}const c=u(t,["config"]);return c!=null&&sS(c,r),r}function cS(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["totalTokens"]);o!=null&&d(t,["totalTokens"],o);const l=u(i,["cachedContentTokenCount"]);return l!=null&&d(t,["cachedContentTokenCount"],l),t}function dS(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["totalTokens"]);return o!=null&&d(t,["totalTokens"],o),t}function fS(i,t){const r={},o=u(t,["model"]);return o!=null&&d(r,["_url","name"],wt(i,o)),r}function pS(i,t){const r={},o=u(t,["model"]);return o!=null&&d(r,["_url","name"],wt(i,o)),r}function mS(i){const t={},r=u(i,["sdkHttpResponse"]);return r!=null&&d(t,["sdkHttpResponse"],r),t}function hS(i){const t={},r=u(i,["sdkHttpResponse"]);return r!=null&&d(t,["sdkHttpResponse"],r),t}function gS(i,t){const r={},o=u(i,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const l=u(i,["negativePrompt"]);t!==void 0&&l!=null&&d(t,["parameters","negativePrompt"],l);const c=u(i,["numberOfImages"]);t!==void 0&&c!=null&&d(t,["parameters","sampleCount"],c);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&d(t,["parameters","aspectRatio"],m);const v=u(i,["guidanceScale"]);t!==void 0&&v!=null&&d(t,["parameters","guidanceScale"],v);const b=u(i,["seed"]);t!==void 0&&b!=null&&d(t,["parameters","seed"],b);const T=u(i,["safetyFilterLevel"]);t!==void 0&&T!=null&&d(t,["parameters","safetySetting"],T);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&d(t,["parameters","personGeneration"],x);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&d(t,["parameters","includeSafetyAttributes"],E);const C=u(i,["includeRaiReason"]);t!==void 0&&C!=null&&d(t,["parameters","includeRaiReason"],C);const M=u(i,["language"]);t!==void 0&&M!=null&&d(t,["parameters","language"],M);const P=u(i,["outputMimeType"]);t!==void 0&&P!=null&&d(t,["parameters","outputOptions","mimeType"],P);const k=u(i,["outputCompressionQuality"]);t!==void 0&&k!=null&&d(t,["parameters","outputOptions","compressionQuality"],k);const Y=u(i,["addWatermark"]);t!==void 0&&Y!=null&&d(t,["parameters","addWatermark"],Y);const G=u(i,["labels"]);t!==void 0&&G!=null&&d(t,["labels"],G);const $=u(i,["editMode"]);t!==void 0&&$!=null&&d(t,["parameters","editMode"],$);const se=u(i,["baseSteps"]);return t!==void 0&&se!=null&&d(t,["parameters","editConfig","baseSteps"],se),r}function yS(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["prompt"]);l!=null&&d(r,["instances[0]","prompt"],l);const c=u(t,["referenceImages"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(b=>TE(b))),d(r,["instances[0]","referenceImages"],v)}const m=u(t,["config"]);return m!=null&&gS(m,r),r}function vS(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Su(c))),d(t,["generatedImages"],l)}return t}function TS(i,t){const r={},o=u(i,["taskType"]);t!==void 0&&o!=null&&d(t,["requests[]","taskType"],o);const l=u(i,["title"]);t!==void 0&&l!=null&&d(t,["requests[]","title"],l);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&d(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function bS(i,t){const r={},o=u(i,["taskType"]);t!==void 0&&o!=null&&d(t,["instances[]","task_type"],o);const l=u(i,["title"]);t!==void 0&&l!=null&&d(t,["instances[]","title"],l);const c=u(i,["outputDimensionality"]);t!==void 0&&c!=null&&d(t,["parameters","outputDimensionality"],c);const m=u(i,["mimeType"]);t!==void 0&&m!=null&&d(t,["instances[]","mimeType"],m);const v=u(i,["autoTruncate"]);return t!==void 0&&v!=null&&d(t,["parameters","autoTruncate"],v),r}function xS(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["contents"]);if(l!=null){let v=Qd(i,l);Array.isArray(v)&&(v=v.map(b=>b)),d(r,["requests[]","content"],v)}const c=u(t,["config"]);c!=null&&TS(c,r);const m=u(t,["model"]);return m!==void 0&&d(r,["requests[]","model"],wt(i,m)),r}function SS(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["contents"]);if(l!=null){let m=Qd(i,l);Array.isArray(m)&&(m=m.map(v=>v)),d(r,["instances[]","content"],m)}const c=u(t,["config"]);return c!=null&&bS(c,r),r}function ES(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(m=>m)),d(t,["embeddings"],c)}const l=u(i,["metadata"]);return l!=null&&d(t,["metadata"],l),t}function AS(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["predictions[]","embeddings"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(m=>iS(m))),d(t,["embeddings"],c)}const l=u(i,["metadata"]);return l!=null&&d(t,["metadata"],l),t}function NS(i){const t={},r=u(i,["endpoint"]);r!=null&&d(t,["name"],r);const o=u(i,["deployedModelId"]);return o!=null&&d(t,["deployedModelId"],o),t}function CS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["fileUri"]);r!=null&&d(t,["fileUri"],r);const o=u(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function _S(i){const t={},r=u(i,["id"]);r!=null&&d(t,["id"],r);const o=u(i,["args"]);o!=null&&d(t,["args"],o);const l=u(i,["name"]);if(l!=null&&d(t,["name"],l),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function IS(i){const t={},r=u(i,["mode"]);r!=null&&d(t,["mode"],r);const o=u(i,["allowedFunctionNames"]);if(o!=null&&d(t,["allowedFunctionNames"],o),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function wS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=u(i,["description"]);r!=null&&d(t,["description"],r);const o=u(i,["name"]);o!=null&&d(t,["name"],o);const l=u(i,["parameters"]);l!=null&&d(t,["parameters"],l);const c=u(i,["parametersJsonSchema"]);c!=null&&d(t,["parametersJsonSchema"],c);const m=u(i,["response"]);m!=null&&d(t,["response"],m);const v=u(i,["responseJsonSchema"]);return v!=null&&d(t,["responseJsonSchema"],v),t}function RS(i,t,r){const o={},l=u(t,["systemInstruction"]);r!==void 0&&l!=null&&d(r,["systemInstruction"],xu(qn(l)));const c=u(t,["temperature"]);c!=null&&d(o,["temperature"],c);const m=u(t,["topP"]);m!=null&&d(o,["topP"],m);const v=u(t,["topK"]);v!=null&&d(o,["topK"],v);const b=u(t,["candidateCount"]);b!=null&&d(o,["candidateCount"],b);const T=u(t,["maxOutputTokens"]);T!=null&&d(o,["maxOutputTokens"],T);const x=u(t,["stopSequences"]);x!=null&&d(o,["stopSequences"],x);const E=u(t,["responseLogprobs"]);E!=null&&d(o,["responseLogprobs"],E);const C=u(t,["logprobs"]);C!=null&&d(o,["logprobs"],C);const M=u(t,["presencePenalty"]);M!=null&&d(o,["presencePenalty"],M);const P=u(t,["frequencyPenalty"]);P!=null&&d(o,["frequencyPenalty"],P);const k=u(t,["seed"]);k!=null&&d(o,["seed"],k);const Y=u(t,["responseMimeType"]);Y!=null&&d(o,["responseMimeType"],Y);const G=u(t,["responseSchema"]);G!=null&&d(o,["responseSchema"],Xd(G));const $=u(t,["responseJsonSchema"]);if($!=null&&d(o,["responseJsonSchema"],$),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const se=u(t,["safetySettings"]);if(r!==void 0&&se!=null){let we=se;Array.isArray(we)&&(we=we.map(Je=>bE(Je))),d(r,["safetySettings"],we)}const Ee=u(t,["tools"]);if(r!==void 0&&Ee!=null){let we=Fo(Ee);Array.isArray(we)&&(we=we.map(Je=>_E(Ho(Je)))),d(r,["tools"],we)}const Ce=u(t,["toolConfig"]);if(r!==void 0&&Ce!=null&&d(r,["toolConfig"],CE(Ce)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const De=u(t,["cachedContent"]);r!==void 0&&De!=null&&d(r,["cachedContent"],Oa(i,De));const J=u(t,["responseModalities"]);J!=null&&d(o,["responseModalities"],J);const Me=u(t,["mediaResolution"]);Me!=null&&d(o,["mediaResolution"],Me);const xe=u(t,["speechConfig"]);if(xe!=null&&d(o,["speechConfig"],Wd(xe)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=u(t,["thinkingConfig"]);me!=null&&d(o,["thinkingConfig"],me);const ge=u(t,["imageConfig"]);return ge!=null&&d(o,["imageConfig"],iE(ge)),o}function MS(i,t,r){const o={},l=u(t,["systemInstruction"]);r!==void 0&&l!=null&&d(r,["systemInstruction"],qn(l));const c=u(t,["temperature"]);c!=null&&d(o,["temperature"],c);const m=u(t,["topP"]);m!=null&&d(o,["topP"],m);const v=u(t,["topK"]);v!=null&&d(o,["topK"],v);const b=u(t,["candidateCount"]);b!=null&&d(o,["candidateCount"],b);const T=u(t,["maxOutputTokens"]);T!=null&&d(o,["maxOutputTokens"],T);const x=u(t,["stopSequences"]);x!=null&&d(o,["stopSequences"],x);const E=u(t,["responseLogprobs"]);E!=null&&d(o,["responseLogprobs"],E);const C=u(t,["logprobs"]);C!=null&&d(o,["logprobs"],C);const M=u(t,["presencePenalty"]);M!=null&&d(o,["presencePenalty"],M);const P=u(t,["frequencyPenalty"]);P!=null&&d(o,["frequencyPenalty"],P);const k=u(t,["seed"]);k!=null&&d(o,["seed"],k);const Y=u(t,["responseMimeType"]);Y!=null&&d(o,["responseMimeType"],Y);const G=u(t,["responseSchema"]);G!=null&&d(o,["responseSchema"],Xd(G));const $=u(t,["responseJsonSchema"]);$!=null&&d(o,["responseJsonSchema"],$);const se=u(t,["routingConfig"]);se!=null&&d(o,["routingConfig"],se);const Ee=u(t,["modelSelectionConfig"]);Ee!=null&&d(o,["modelConfig"],Ee);const Ce=u(t,["safetySettings"]);if(r!==void 0&&Ce!=null){let ie=Ce;Array.isArray(ie)&&(ie=ie.map(Se=>Se)),d(r,["safetySettings"],ie)}const De=u(t,["tools"]);if(r!==void 0&&De!=null){let ie=Fo(De);Array.isArray(ie)&&(ie=ie.map(Se=>Iy(Ho(Se)))),d(r,["tools"],ie)}const J=u(t,["toolConfig"]);r!==void 0&&J!=null&&d(r,["toolConfig"],J);const Me=u(t,["labels"]);r!==void 0&&Me!=null&&d(r,["labels"],Me);const xe=u(t,["cachedContent"]);r!==void 0&&xe!=null&&d(r,["cachedContent"],Oa(i,xe));const me=u(t,["responseModalities"]);me!=null&&d(o,["responseModalities"],me);const ge=u(t,["mediaResolution"]);ge!=null&&d(o,["mediaResolution"],ge);const we=u(t,["speechConfig"]);we!=null&&d(o,["speechConfig"],_y(Wd(we)));const Je=u(t,["audioTimestamp"]);Je!=null&&d(o,["audioTimestamp"],Je);const dt=u(t,["thinkingConfig"]);dt!=null&&d(o,["thinkingConfig"],dt);const Xe=u(t,["imageConfig"]);return Xe!=null&&d(o,["imageConfig"],aE(Xe)),o}function Ug(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["contents"]);if(l!=null){let m=Ri(l);Array.isArray(m)&&(m=m.map(v=>xu(v))),d(r,["contents"],m)}const c=u(t,["config"]);return c!=null&&d(r,["generationConfig"],RS(i,c,r)),r}function Lg(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["contents"]);if(l!=null){let m=Ri(l);Array.isArray(m)&&(m=m.map(v=>v)),d(r,["contents"],m)}const c=u(t,["config"]);return c!=null&&d(r,["generationConfig"],MS(i,c,r)),r}function Bg(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["candidates"]);if(o!=null){let b=o;Array.isArray(b)&&(b=b.map(T=>$x(T))),d(t,["candidates"],b)}const l=u(i,["modelVersion"]);l!=null&&d(t,["modelVersion"],l);const c=u(i,["promptFeedback"]);c!=null&&d(t,["promptFeedback"],c);const m=u(i,["responseId"]);m!=null&&d(t,["responseId"],m);const v=u(i,["usageMetadata"]);return v!=null&&d(t,["usageMetadata"],v),t}function qg(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["candidates"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),d(t,["candidates"],T)}const l=u(i,["createTime"]);l!=null&&d(t,["createTime"],l);const c=u(i,["modelVersion"]);c!=null&&d(t,["modelVersion"],c);const m=u(i,["promptFeedback"]);m!=null&&d(t,["promptFeedback"],m);const v=u(i,["responseId"]);v!=null&&d(t,["responseId"],v);const b=u(i,["usageMetadata"]);return b!=null&&d(t,["usageMetadata"],b),t}function DS(i,t){const r={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=u(i,["numberOfImages"]);t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o);const l=u(i,["aspectRatio"]);t!==void 0&&l!=null&&d(t,["parameters","aspectRatio"],l);const c=u(i,["guidanceScale"]);if(t!==void 0&&c!=null&&d(t,["parameters","guidanceScale"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&d(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&d(t,["parameters","personGeneration"],v);const b=u(i,["includeSafetyAttributes"]);t!==void 0&&b!=null&&d(t,["parameters","includeSafetyAttributes"],b);const T=u(i,["includeRaiReason"]);t!==void 0&&T!=null&&d(t,["parameters","includeRaiReason"],T);const x=u(i,["language"]);t!==void 0&&x!=null&&d(t,["parameters","language"],x);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&d(t,["parameters","outputOptions","mimeType"],E);const C=u(i,["outputCompressionQuality"]);if(t!==void 0&&C!=null&&d(t,["parameters","outputOptions","compressionQuality"],C),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=u(i,["imageSize"]);if(t!==void 0&&M!=null&&d(t,["parameters","sampleImageSize"],M),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function kS(i,t){const r={},o=u(i,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const l=u(i,["negativePrompt"]);t!==void 0&&l!=null&&d(t,["parameters","negativePrompt"],l);const c=u(i,["numberOfImages"]);t!==void 0&&c!=null&&d(t,["parameters","sampleCount"],c);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&d(t,["parameters","aspectRatio"],m);const v=u(i,["guidanceScale"]);t!==void 0&&v!=null&&d(t,["parameters","guidanceScale"],v);const b=u(i,["seed"]);t!==void 0&&b!=null&&d(t,["parameters","seed"],b);const T=u(i,["safetyFilterLevel"]);t!==void 0&&T!=null&&d(t,["parameters","safetySetting"],T);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&d(t,["parameters","personGeneration"],x);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&d(t,["parameters","includeSafetyAttributes"],E);const C=u(i,["includeRaiReason"]);t!==void 0&&C!=null&&d(t,["parameters","includeRaiReason"],C);const M=u(i,["language"]);t!==void 0&&M!=null&&d(t,["parameters","language"],M);const P=u(i,["outputMimeType"]);t!==void 0&&P!=null&&d(t,["parameters","outputOptions","mimeType"],P);const k=u(i,["outputCompressionQuality"]);t!==void 0&&k!=null&&d(t,["parameters","outputOptions","compressionQuality"],k);const Y=u(i,["addWatermark"]);t!==void 0&&Y!=null&&d(t,["parameters","addWatermark"],Y);const G=u(i,["labels"]);t!==void 0&&G!=null&&d(t,["labels"],G);const $=u(i,["imageSize"]);t!==void 0&&$!=null&&d(t,["parameters","sampleImageSize"],$);const se=u(i,["enhancePrompt"]);return t!==void 0&&se!=null&&d(t,["parameters","enhancePrompt"],se),r}function PS(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["prompt"]);l!=null&&d(r,["instances[0]","prompt"],l);const c=u(t,["config"]);return c!=null&&DS(c,r),r}function OS(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["prompt"]);l!=null&&d(r,["instances[0]","prompt"],l);const c=u(t,["config"]);return c!=null&&kS(c,r),r}function US(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(m=>KS(m))),d(t,["generatedImages"],c)}const l=u(i,["positivePromptSafetyAttributes"]);return l!=null&&d(t,["positivePromptSafetyAttributes"],Ny(l)),t}function LS(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(m=>Su(m))),d(t,["generatedImages"],c)}const l=u(i,["positivePromptSafetyAttributes"]);return l!=null&&d(t,["positivePromptSafetyAttributes"],Cy(l)),t}function BS(i,t){const r={},o=u(i,["numberOfVideos"]);if(t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=u(i,["durationSeconds"]);if(t!==void 0&&l!=null&&d(t,["parameters","durationSeconds"],l),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&d(t,["parameters","aspectRatio"],c);const m=u(i,["resolution"]);t!==void 0&&m!=null&&d(t,["parameters","resolution"],m);const v=u(i,["personGeneration"]);if(t!==void 0&&v!=null&&d(t,["parameters","personGeneration"],v),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const b=u(i,["negativePrompt"]);t!==void 0&&b!=null&&d(t,["parameters","negativePrompt"],b);const T=u(i,["enhancePrompt"]);if(t!==void 0&&T!=null&&d(t,["parameters","enhancePrompt"],T),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=u(i,["lastFrame"]);t!==void 0&&x!=null&&d(t,["instances[0]","lastFrame"],Eu(x));const E=u(i,["referenceImages"]);if(t!==void 0&&E!=null){let C=E;Array.isArray(C)&&(C=C.map(M=>VE(M))),d(t,["instances[0]","referenceImages"],C)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function qS(i,t){const r={},o=u(i,["numberOfVideos"]);t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o);const l=u(i,["outputGcsUri"]);t!==void 0&&l!=null&&d(t,["parameters","storageUri"],l);const c=u(i,["fps"]);t!==void 0&&c!=null&&d(t,["parameters","fps"],c);const m=u(i,["durationSeconds"]);t!==void 0&&m!=null&&d(t,["parameters","durationSeconds"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&d(t,["parameters","seed"],v);const b=u(i,["aspectRatio"]);t!==void 0&&b!=null&&d(t,["parameters","aspectRatio"],b);const T=u(i,["resolution"]);t!==void 0&&T!=null&&d(t,["parameters","resolution"],T);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&d(t,["parameters","personGeneration"],x);const E=u(i,["pubsubTopic"]);t!==void 0&&E!=null&&d(t,["parameters","pubsubTopic"],E);const C=u(i,["negativePrompt"]);t!==void 0&&C!=null&&d(t,["parameters","negativePrompt"],C);const M=u(i,["enhancePrompt"]);t!==void 0&&M!=null&&d(t,["parameters","enhancePrompt"],M);const P=u(i,["generateAudio"]);t!==void 0&&P!=null&&d(t,["parameters","generateAudio"],P);const k=u(i,["lastFrame"]);t!==void 0&&k!=null&&d(t,["instances[0]","lastFrame"],Gi(k));const Y=u(i,["referenceImages"]);if(t!==void 0&&Y!=null){let se=Y;Array.isArray(se)&&(se=se.map(Ee=>zE(Ee))),d(t,["instances[0]","referenceImages"],se)}const G=u(i,["mask"]);t!==void 0&&G!=null&&d(t,["instances[0]","mask"],qE(G));const $=u(i,["compressionQuality"]);return t!==void 0&&$!=null&&d(t,["parameters","compressionQuality"],$),r}function VS(i){const t={},r=u(i,["name"]);r!=null&&d(t,["name"],r);const o=u(i,["metadata"]);o!=null&&d(t,["metadata"],o);const l=u(i,["done"]);l!=null&&d(t,["done"],l);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const m=u(i,["response","generateVideoResponse"]);return m!=null&&d(t,["response"],FS(m)),t}function zS(i){const t={},r=u(i,["name"]);r!=null&&d(t,["name"],r);const o=u(i,["metadata"]);o!=null&&d(t,["metadata"],o);const l=u(i,["done"]);l!=null&&d(t,["done"],l);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const m=u(i,["response"]);return m!=null&&d(t,["response"],JS(m)),t}function GS(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["prompt"]);l!=null&&d(r,["instances[0]","prompt"],l);const c=u(t,["image"]);c!=null&&d(r,["instances[0]","image"],Eu(c));const m=u(t,["video"]);m!=null&&d(r,["instances[0]","video"],wy(m));const v=u(t,["source"]);v!=null&&jS(v,r);const b=u(t,["config"]);return b!=null&&BS(b,r),r}function HS(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["prompt"]);l!=null&&d(r,["instances[0]","prompt"],l);const c=u(t,["image"]);c!=null&&d(r,["instances[0]","image"],Gi(c));const m=u(t,["video"]);m!=null&&d(r,["instances[0]","video"],Ry(m));const v=u(t,["source"]);v!=null&&YS(v,r);const b=u(t,["config"]);return b!=null&&qS(b,r),r}function FS(i){const t={},r=u(i,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>QS(m))),d(t,["generatedVideos"],c)}const o=u(i,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const l=u(i,["raiMediaFilteredReasons"]);return l!=null&&d(t,["raiMediaFilteredReasons"],l),t}function JS(i){const t={},r=u(i,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>XS(m))),d(t,["generatedVideos"],c)}const o=u(i,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const l=u(i,["raiMediaFilteredReasons"]);return l!=null&&d(t,["raiMediaFilteredReasons"],l),t}function jS(i,t){const r={},o=u(i,["prompt"]);t!==void 0&&o!=null&&d(t,["instances[0]","prompt"],o);const l=u(i,["image"]);t!==void 0&&l!=null&&d(t,["instances[0]","image"],Eu(l));const c=u(i,["video"]);return t!==void 0&&c!=null&&d(t,["instances[0]","video"],wy(c)),r}function YS(i,t){const r={},o=u(i,["prompt"]);t!==void 0&&o!=null&&d(t,["instances[0]","prompt"],o);const l=u(i,["image"]);t!==void 0&&l!=null&&d(t,["instances[0]","image"],Gi(l));const c=u(i,["video"]);return t!==void 0&&c!=null&&d(t,["instances[0]","video"],Ry(c)),r}function KS(i){const t={},r=u(i,["_self"]);r!=null&&d(t,["image"],rE(r));const o=u(i,["raiFilteredReason"]);o!=null&&d(t,["raiFilteredReason"],o);const l=u(i,["_self"]);return l!=null&&d(t,["safetyAttributes"],Ny(l)),t}function Su(i){const t={},r=u(i,["_self"]);r!=null&&d(t,["image"],Ay(r));const o=u(i,["raiFilteredReason"]);o!=null&&d(t,["raiFilteredReason"],o);const l=u(i,["_self"]);l!=null&&d(t,["safetyAttributes"],Cy(l));const c=u(i,["prompt"]);return c!=null&&d(t,["enhancedPrompt"],c),t}function ZS(i){const t={},r=u(i,["_self"]);r!=null&&d(t,["mask"],Ay(r));const o=u(i,["labels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),d(t,["labels"],l)}return t}function QS(i){const t={},r=u(i,["video"]);return r!=null&&d(t,["video"],LE(r)),t}function XS(i){const t={},r=u(i,["_self"]);return r!=null&&d(t,["video"],BE(r)),t}function WS(i){const t={},r=u(i,["modelSelectionConfig"]);r!=null&&d(t,["modelConfig"],r);const o=u(i,["responseJsonSchema"]);o!=null&&d(t,["responseJsonSchema"],o);const l=u(i,["audioTimestamp"]);l!=null&&d(t,["audioTimestamp"],l);const c=u(i,["candidateCount"]);c!=null&&d(t,["candidateCount"],c);const m=u(i,["enableAffectiveDialog"]);m!=null&&d(t,["enableAffectiveDialog"],m);const v=u(i,["frequencyPenalty"]);v!=null&&d(t,["frequencyPenalty"],v);const b=u(i,["logprobs"]);b!=null&&d(t,["logprobs"],b);const T=u(i,["maxOutputTokens"]);T!=null&&d(t,["maxOutputTokens"],T);const x=u(i,["mediaResolution"]);x!=null&&d(t,["mediaResolution"],x);const E=u(i,["presencePenalty"]);E!=null&&d(t,["presencePenalty"],E);const C=u(i,["responseLogprobs"]);C!=null&&d(t,["responseLogprobs"],C);const M=u(i,["responseMimeType"]);M!=null&&d(t,["responseMimeType"],M);const P=u(i,["responseModalities"]);P!=null&&d(t,["responseModalities"],P);const k=u(i,["responseSchema"]);k!=null&&d(t,["responseSchema"],k);const Y=u(i,["routingConfig"]);Y!=null&&d(t,["routingConfig"],Y);const G=u(i,["seed"]);G!=null&&d(t,["seed"],G);const $=u(i,["speechConfig"]);$!=null&&d(t,["speechConfig"],_y($));const se=u(i,["stopSequences"]);se!=null&&d(t,["stopSequences"],se);const Ee=u(i,["temperature"]);Ee!=null&&d(t,["temperature"],Ee);const Ce=u(i,["thinkingConfig"]);Ce!=null&&d(t,["thinkingConfig"],Ce);const De=u(i,["topK"]);De!=null&&d(t,["topK"],De);const J=u(i,["topP"]);if(J!=null&&d(t,["topP"],J),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function $S(i,t){const r={},o=u(t,["model"]);return o!=null&&d(r,["_url","name"],wt(i,o)),r}function eE(i,t){const r={},o=u(t,["model"]);return o!=null&&d(r,["_url","name"],wt(i,o)),r}function tE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=u(i,["enableWidget"]);return r!=null&&d(t,["enableWidget"],r),t}function nE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=u(i,["timeRangeFilter"]);return r!=null&&d(t,["timeRangeFilter"],r),t}function iE(i){const t={},r=u(i,["aspectRatio"]);r!=null&&d(t,["aspectRatio"],r);const o=u(i,["imageSize"]);if(o!=null&&d(t,["imageSize"],o),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function aE(i){const t={},r=u(i,["aspectRatio"]);r!=null&&d(t,["aspectRatio"],r);const o=u(i,["imageSize"]);o!=null&&d(t,["imageSize"],o);const l=u(i,["outputMimeType"]);l!=null&&d(t,["imageOutputOptions","mimeType"],l);const c=u(i,["outputCompressionQuality"]);return c!=null&&d(t,["imageOutputOptions","compressionQuality"],c),t}function rE(i){const t={},r=u(i,["bytesBase64Encoded"]);r!=null&&d(t,["imageBytes"],gr(r));const o=u(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Ay(i){const t={},r=u(i,["gcsUri"]);r!=null&&d(t,["gcsUri"],r);const o=u(i,["bytesBase64Encoded"]);o!=null&&d(t,["imageBytes"],gr(o));const l=u(i,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Eu(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=u(i,["imageBytes"]);r!=null&&d(t,["bytesBase64Encoded"],gr(r));const o=u(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Gi(i){const t={},r=u(i,["gcsUri"]);r!=null&&d(t,["gcsUri"],r);const o=u(i,["imageBytes"]);o!=null&&d(t,["bytesBase64Encoded"],gr(o));const l=u(i,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function oE(i,t,r){const o={},l=u(t,["pageSize"]);r!==void 0&&l!=null&&d(r,["_query","pageSize"],l);const c=u(t,["pageToken"]);r!==void 0&&c!=null&&d(r,["_query","pageToken"],c);const m=u(t,["filter"]);r!==void 0&&m!=null&&d(r,["_query","filter"],m);const v=u(t,["queryBase"]);return r!==void 0&&v!=null&&d(r,["_url","models_url"],gy(i,v)),o}function sE(i,t,r){const o={},l=u(t,["pageSize"]);r!==void 0&&l!=null&&d(r,["_query","pageSize"],l);const c=u(t,["pageToken"]);r!==void 0&&c!=null&&d(r,["_query","pageToken"],c);const m=u(t,["filter"]);r!==void 0&&m!=null&&d(r,["_query","filter"],m);const v=u(t,["queryBase"]);return r!==void 0&&v!=null&&d(r,["_url","models_url"],gy(i,v)),o}function lE(i,t){const r={},o=u(t,["config"]);return o!=null&&oE(i,o,r),r}function uE(i,t){const r={},o=u(t,["config"]);return o!=null&&sE(i,o,r),r}function cE(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const l=u(i,["_self"]);if(l!=null){let c=yy(l);Array.isArray(c)&&(c=c.map(m=>qd(m))),d(t,["models"],c)}return t}function dE(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const l=u(i,["_self"]);if(l!=null){let c=yy(l);Array.isArray(c)&&(c=c.map(m=>Vd(m))),d(t,["models"],c)}return t}function fE(i){const t={},r=u(i,["maskMode"]);r!=null&&d(t,["maskMode"],r);const o=u(i,["segmentationClasses"]);o!=null&&d(t,["maskClasses"],o);const l=u(i,["maskDilation"]);return l!=null&&d(t,["dilation"],l),t}function qd(i){const t={},r=u(i,["name"]);r!=null&&d(t,["name"],r);const o=u(i,["displayName"]);o!=null&&d(t,["displayName"],o);const l=u(i,["description"]);l!=null&&d(t,["description"],l);const c=u(i,["version"]);c!=null&&d(t,["version"],c);const m=u(i,["_self"]);m!=null&&d(t,["tunedModelInfo"],IE(m));const v=u(i,["inputTokenLimit"]);v!=null&&d(t,["inputTokenLimit"],v);const b=u(i,["outputTokenLimit"]);b!=null&&d(t,["outputTokenLimit"],b);const T=u(i,["supportedGenerationMethods"]);T!=null&&d(t,["supportedActions"],T);const x=u(i,["temperature"]);x!=null&&d(t,["temperature"],x);const E=u(i,["maxTemperature"]);E!=null&&d(t,["maxTemperature"],E);const C=u(i,["topP"]);C!=null&&d(t,["topP"],C);const M=u(i,["topK"]);M!=null&&d(t,["topK"],M);const P=u(i,["thinking"]);return P!=null&&d(t,["thinking"],P),t}function Vd(i){const t={},r=u(i,["name"]);r!=null&&d(t,["name"],r);const o=u(i,["displayName"]);o!=null&&d(t,["displayName"],o);const l=u(i,["description"]);l!=null&&d(t,["description"],l);const c=u(i,["versionId"]);c!=null&&d(t,["version"],c);const m=u(i,["deployedModels"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(C=>NS(C))),d(t,["endpoints"],E)}const v=u(i,["labels"]);v!=null&&d(t,["labels"],v);const b=u(i,["_self"]);b!=null&&d(t,["tunedModelInfo"],wE(b));const T=u(i,["defaultCheckpointId"]);T!=null&&d(t,["defaultCheckpointId"],T);const x=u(i,["checkpoints"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>C)),d(t,["checkpoints"],E)}return t}function pE(i){const t={},r=u(i,["mediaResolution"]);r!=null&&d(t,["mediaResolution"],r);const o=u(i,["codeExecutionResult"]);o!=null&&d(t,["codeExecutionResult"],o);const l=u(i,["executableCode"]);l!=null&&d(t,["executableCode"],l);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],CS(c));const m=u(i,["functionCall"]);m!=null&&d(t,["functionCall"],_S(m));const v=u(i,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const b=u(i,["inlineData"]);b!=null&&d(t,["inlineData"],Wx(b));const T=u(i,["text"]);T!=null&&d(t,["text"],T);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const E=u(i,["thoughtSignature"]);E!=null&&d(t,["thoughtSignature"],E);const C=u(i,["videoMetadata"]);return C!=null&&d(t,["videoMetadata"],C),t}function mE(i){const t={},r=u(i,["productImage"]);return r!=null&&d(t,["image"],Gi(r)),t}function hE(i,t){const r={},o=u(i,["numberOfImages"]);t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o);const l=u(i,["baseSteps"]);t!==void 0&&l!=null&&d(t,["parameters","baseSteps"],l);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&d(t,["parameters","storageUri"],c);const m=u(i,["seed"]);t!==void 0&&m!=null&&d(t,["parameters","seed"],m);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&d(t,["parameters","safetySetting"],v);const b=u(i,["personGeneration"]);t!==void 0&&b!=null&&d(t,["parameters","personGeneration"],b);const T=u(i,["addWatermark"]);t!==void 0&&T!=null&&d(t,["parameters","addWatermark"],T);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&d(t,["parameters","outputOptions","mimeType"],x);const E=u(i,["outputCompressionQuality"]);t!==void 0&&E!=null&&d(t,["parameters","outputOptions","compressionQuality"],E);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&d(t,["parameters","enhancePrompt"],C);const M=u(i,["labels"]);return t!==void 0&&M!=null&&d(t,["labels"],M),r}function gE(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["source"]);l!=null&&vE(l,r);const c=u(t,["config"]);return c!=null&&hE(c,r),r}function yE(i){const t={},r=u(i,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Su(l))),d(t,["generatedImages"],o)}return t}function vE(i,t){const r={},o=u(i,["prompt"]);t!==void 0&&o!=null&&d(t,["instances[0]","prompt"],o);const l=u(i,["personImage"]);t!==void 0&&l!=null&&d(t,["instances[0]","personImage","image"],Gi(l));const c=u(i,["productImages"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>mE(v))),d(t,["instances[0]","productImages"],m)}return r}function TE(i){const t={},r=u(i,["referenceImage"]);r!=null&&d(t,["referenceImage"],Gi(r));const o=u(i,["referenceId"]);o!=null&&d(t,["referenceId"],o);const l=u(i,["referenceType"]);l!=null&&d(t,["referenceType"],l);const c=u(i,["maskImageConfig"]);c!=null&&d(t,["maskImageConfig"],fE(c));const m=u(i,["controlImageConfig"]);m!=null&&d(t,["controlImageConfig"],rS(m));const v=u(i,["styleImageConfig"]);v!=null&&d(t,["styleImageConfig"],v);const b=u(i,["subjectImageConfig"]);return b!=null&&d(t,["subjectImageConfig"],b),t}function Ny(i){const t={},r=u(i,["safetyAttributes","categories"]);r!=null&&d(t,["categories"],r);const o=u(i,["safetyAttributes","scores"]);o!=null&&d(t,["scores"],o);const l=u(i,["contentType"]);return l!=null&&d(t,["contentType"],l),t}function Cy(i){const t={},r=u(i,["safetyAttributes","categories"]);r!=null&&d(t,["categories"],r);const o=u(i,["safetyAttributes","scores"]);o!=null&&d(t,["scores"],o);const l=u(i,["contentType"]);return l!=null&&d(t,["contentType"],l),t}function bE(i){const t={},r=u(i,["category"]);if(r!=null&&d(t,["category"],r),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=u(i,["threshold"]);return o!=null&&d(t,["threshold"],o),t}function xE(i){const t={},r=u(i,["image"]);return r!=null&&d(t,["image"],Gi(r)),t}function SE(i,t){const r={},o=u(i,["mode"]);t!==void 0&&o!=null&&d(t,["parameters","mode"],o);const l=u(i,["maxPredictions"]);t!==void 0&&l!=null&&d(t,["parameters","maxPredictions"],l);const c=u(i,["confidenceThreshold"]);t!==void 0&&c!=null&&d(t,["parameters","confidenceThreshold"],c);const m=u(i,["maskDilation"]);t!==void 0&&m!=null&&d(t,["parameters","maskDilation"],m);const v=u(i,["binaryColorThreshold"]);t!==void 0&&v!=null&&d(t,["parameters","binaryColorThreshold"],v);const b=u(i,["labels"]);return t!==void 0&&b!=null&&d(t,["labels"],b),r}function EE(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["source"]);l!=null&&NE(l,r);const c=u(t,["config"]);return c!=null&&SE(c,r),r}function AE(i){const t={},r=u(i,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>ZS(l))),d(t,["generatedMasks"],o)}return t}function NE(i,t){const r={},o=u(i,["prompt"]);t!==void 0&&o!=null&&d(t,["instances[0]","prompt"],o);const l=u(i,["image"]);t!==void 0&&l!=null&&d(t,["instances[0]","image"],Gi(l));const c=u(i,["scribbleImage"]);return t!==void 0&&c!=null&&d(t,["instances[0]","scribble"],xE(c)),r}function _y(i){const t={},r=u(i,["languageCode"]);r!=null&&d(t,["languageCode"],r);const o=u(i,["voiceConfig"]);if(o!=null&&d(t,["voiceConfig"],o),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function CE(i){const t={},r=u(i,["functionCallingConfig"]);r!=null&&d(t,["functionCallingConfig"],IS(r));const o=u(i,["retrievalConfig"]);return o!=null&&d(t,["retrievalConfig"],o),t}function _E(i){const t={},r=u(i,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(E=>E)),d(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["googleSearchRetrieval"]);o!=null&&d(t,["googleSearchRetrieval"],o);const l=u(i,["computerUse"]);l!=null&&d(t,["computerUse"],l);const c=u(i,["fileSearch"]);c!=null&&d(t,["fileSearch"],c);const m=u(i,["codeExecution"]);if(m!=null&&d(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=u(i,["googleMaps"]);v!=null&&d(t,["googleMaps"],tE(v));const b=u(i,["googleSearch"]);b!=null&&d(t,["googleSearch"],nE(b));const T=u(i,["urlContext"]);return T!=null&&d(t,["urlContext"],T),t}function Iy(i){const t={},r=u(i,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(C=>wS(C))),d(t,["functionDeclarations"],E)}const o=u(i,["retrieval"]);o!=null&&d(t,["retrieval"],o);const l=u(i,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const c=u(i,["computerUse"]);if(c!=null&&d(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&d(t,["codeExecution"],m);const v=u(i,["enterpriseWebSearch"]);v!=null&&d(t,["enterpriseWebSearch"],v);const b=u(i,["googleMaps"]);b!=null&&d(t,["googleMaps"],b);const T=u(i,["googleSearch"]);T!=null&&d(t,["googleSearch"],T);const x=u(i,["urlContext"]);return x!=null&&d(t,["urlContext"],x),t}function IE(i){const t={},r=u(i,["baseModel"]);r!=null&&d(t,["baseModel"],r);const o=u(i,["createTime"]);o!=null&&d(t,["createTime"],o);const l=u(i,["updateTime"]);return l!=null&&d(t,["updateTime"],l),t}function wE(i){const t={},r=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&d(t,["baseModel"],r);const o=u(i,["createTime"]);o!=null&&d(t,["createTime"],o);const l=u(i,["updateTime"]);return l!=null&&d(t,["updateTime"],l),t}function RE(i,t){const r={},o=u(i,["displayName"]);t!==void 0&&o!=null&&d(t,["displayName"],o);const l=u(i,["description"]);t!==void 0&&l!=null&&d(t,["description"],l);const c=u(i,["defaultCheckpointId"]);return t!==void 0&&c!=null&&d(t,["defaultCheckpointId"],c),r}function ME(i,t){const r={},o=u(i,["displayName"]);t!==void 0&&o!=null&&d(t,["displayName"],o);const l=u(i,["description"]);t!==void 0&&l!=null&&d(t,["description"],l);const c=u(i,["defaultCheckpointId"]);return t!==void 0&&c!=null&&d(t,["defaultCheckpointId"],c),r}function DE(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","name"],wt(i,o));const l=u(t,["config"]);return l!=null&&RE(l,r),r}function kE(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["config"]);return l!=null&&ME(l,r),r}function PE(i,t){const r={},o=u(i,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const l=u(i,["safetyFilterLevel"]);t!==void 0&&l!=null&&d(t,["parameters","safetySetting"],l);const c=u(i,["personGeneration"]);t!==void 0&&c!=null&&d(t,["parameters","personGeneration"],c);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&d(t,["parameters","includeRaiReason"],m);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&d(t,["parameters","outputOptions","mimeType"],v);const b=u(i,["outputCompressionQuality"]);t!==void 0&&b!=null&&d(t,["parameters","outputOptions","compressionQuality"],b);const T=u(i,["enhanceInputImage"]);t!==void 0&&T!=null&&d(t,["parameters","upscaleConfig","enhanceInputImage"],T);const x=u(i,["imagePreservationFactor"]);t!==void 0&&x!=null&&d(t,["parameters","upscaleConfig","imagePreservationFactor"],x);const E=u(i,["labels"]);t!==void 0&&E!=null&&d(t,["labels"],E);const C=u(i,["numberOfImages"]);t!==void 0&&C!=null&&d(t,["parameters","sampleCount"],C);const M=u(i,["mode"]);return t!==void 0&&M!=null&&d(t,["parameters","mode"],M),r}function OE(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["_url","model"],wt(i,o));const l=u(t,["image"]);l!=null&&d(r,["instances[0]","image"],Gi(l));const c=u(t,["upscaleFactor"]);c!=null&&d(r,["parameters","upscaleConfig","upscaleFactor"],c);const m=u(t,["config"]);return m!=null&&PE(m,r),r}function UE(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Su(c))),d(t,["generatedImages"],l)}return t}function LE(i){const t={},r=u(i,["uri"]);r!=null&&d(t,["uri"],r);const o=u(i,["encodedVideo"]);o!=null&&d(t,["videoBytes"],gr(o));const l=u(i,["encoding"]);return l!=null&&d(t,["mimeType"],l),t}function BE(i){const t={},r=u(i,["gcsUri"]);r!=null&&d(t,["uri"],r);const o=u(i,["bytesBase64Encoded"]);o!=null&&d(t,["videoBytes"],gr(o));const l=u(i,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function qE(i){const t={},r=u(i,["image"]);r!=null&&d(t,["_self"],Gi(r));const o=u(i,["maskMode"]);return o!=null&&d(t,["maskMode"],o),t}function VE(i){const t={},r=u(i,["image"]);r!=null&&d(t,["image"],Eu(r));const o=u(i,["referenceType"]);return o!=null&&d(t,["referenceType"],o),t}function zE(i){const t={},r=u(i,["image"]);r!=null&&d(t,["image"],Gi(r));const o=u(i,["referenceType"]);return o!=null&&d(t,["referenceType"],o),t}function wy(i){const t={},r=u(i,["uri"]);r!=null&&d(t,["uri"],r);const o=u(i,["videoBytes"]);o!=null&&d(t,["encodedVideo"],gr(o));const l=u(i,["mimeType"]);return l!=null&&d(t,["encoding"],l),t}function Ry(i){const t={},r=u(i,["uri"]);r!=null&&d(t,["gcsUri"],r);const o=u(i,["videoBytes"]);o!=null&&d(t,["bytesBase64Encoded"],gr(o));const l=u(i,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GE="Content-Type",HE="X-Server-Timeout",FE="User-Agent",zd="x-goog-api-client",JE="1.30.0",jE=`google-genai-sdk/${JE}`,YE="v1beta1",KE="v1beta",Vg=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ZE{constructor(t){var r,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:YE,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:KE,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),r=new URL(t);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,r,o){const l=[this.getRequestUrlInternal(r)];return o&&l.push(this.getBaseResourcePath()),t!==""&&l.push(t),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),l=this.constructUrl(t.path,r,o);if(t.queryParams)for(const[m,v]of Object.entries(t.queryParams))l.searchParams.append(m,String(v));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,r,l.toString(),t.abortSignal),this.unaryApiCall(l,c,t.httpMethod)}patchHttpOptions(t,r){const o=JSON.parse(JSON.stringify(t));for(const[l,c]of Object.entries(r))typeof c=="object"?o[l]=Object.assign(Object.assign({},o[l]),c):c!==void 0&&(o[l]=c);return o}async requestStream(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),l=this.constructUrl(t.path,r,o);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,r,l.toString(),t.abortSignal),this.streamApiCall(l,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,r,o,l){if(r&&r.timeout||l){const c=new AbortController,m=c.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const v=setTimeout(()=>c.abort(),r.timeout);v&&typeof v.unref=="function"&&v.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),t.signal=m}return r&&r.extraBody!==null&&QE(t,r.extraBody),t.headers=await this.getHeadersInternal(r,o),t}async unaryApiCall(t,r,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:o})).then(async l=>(await zg(l),new Ud(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(t,r,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:o})).then(async l=>(await zg(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(t){var r;return zo(this,arguments,function*(){const l=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),c=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let m="";for(;;){const{done:v,value:b}=yield Zt(l.read());if(v){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=c.decode(b,{stream:!0});try{const E=JSON.parse(T);if("error"in E){const C=JSON.parse(JSON.stringify(E.error)),M=C.status,P=C.code,k=`got status: ${M}. ${JSON.stringify(E)}`;if(P>=400&&P<600)throw new bu({message:k,status:P})}}catch(E){if(E.name==="ApiError")throw E}m+=T;let x=m.match(Vg);for(;x;){const E=x[1];try{const C=new Response(E,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Zt(new Ud(C)),m=m.slice(x[0].length),x=m.match(Vg)}catch(C){throw new Error(`exception parsing stream chunk ${E}. ${C}`)}}}}finally{l.releaseLock()}})}async apiCall(t,r){return fetch(t,r).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},r=jE+" "+this.clientOptions.userAgentExtra;return t[FE]=r,t[zd]=r,t[GE]="application/json",t}async getHeadersInternal(t,r){const o=new Headers;if(t&&t.headers){for(const[l,c]of Object.entries(t.headers))o.append(l,c);t.timeout&&t.timeout>0&&o.append(HE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,r),o}getFileName(t){var r;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(r=o.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),o}async uploadFile(t,r){var o;const l={};r!=null&&(l.mimeType=r.mimeType,l.name=r.name,l.displayName=r.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const c=this.clientOptions.uploader,m=await c.stat(t);l.sizeBytes=String(m.size);const v=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:m.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=v;const b={file:l},T=this.getFileName(t),x=Ve("upload/v1beta/files",b._url),E=await this.fetchUploadUrl(x,l.sizeBytes,l.mimeType,T,b,r==null?void 0:r.httpOptions);return c.upload(t,E,this)}async uploadFileToFileSearchStore(t,r,o){var l;const c=this.clientOptions.uploader,m=await c.stat(r),v=String(m.size),b=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:m.type;if(b===void 0||b==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const T=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(r),E={};o!=null&&o.customMetadata&&(E.customMetadata=o.customMetadata),o!=null&&o.chunkingConfig&&(E.chunkingConfig=o.chunkingConfig);const C=await this.fetchUploadUrl(T,v,b,x,E,o==null?void 0:o.httpOptions);return c.uploadToFileSearchStore(r,C,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,r,o,l,c,m){var v;let b={};m?b=m:b={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${o}`},l?{"X-Goog-Upload-File-Name":l}:{})};const T=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:b});if(!T||!(T!=null&&T.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(v=T==null?void 0:T.headers)===null||v===void 0?void 0:v["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function zg(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const r=i.status;let o;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await i.json():o={error:{message:await i.text(),code:i.status,status:i.statusText}};const l=JSON.stringify(o);throw r>=400&&r<600?new bu({message:l,status:r}):new Error(l)}}function QE(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))r=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(c,m){const v=Object.assign({},c);for(const b in m)if(Object.prototype.hasOwnProperty.call(m,b)){const T=m[b],x=v[b];T&&typeof T=="object"&&!Array.isArray(T)&&x&&typeof x=="object"&&!Array.isArray(x)?v[b]=o(x,T):(x&&T&&typeof x!=typeof T&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${b}". Original type: ${typeof x}, New type: ${typeof T}. Overwriting.`),v[b]=T)}return v}const l=o(r,t);i.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XE="mcp_used/unknown";let WE=!1;function My(i){for(const t of i)if($E(t)||typeof t=="object"&&"inputSchema"in t)return!0;return WE}function Dy(i){var t;const r=(t=i[zd])!==null&&t!==void 0?t:"";i[zd]=(r+` ${XE}`).trimStart()}function $E(i){return i!==null&&typeof i=="object"&&i instanceof ef}function eA(i,t=100){return zo(this,arguments,function*(){let o,l=0;for(;l<t;){const c=yield Zt(i.listTools({cursor:o}));for(const m of c.tools)yield yield Zt(m),l++;if(!c.nextCursor)break;o=c.nextCursor}})}class ef{constructor(t=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=r}static create(t,r){return new ef(t,r)}async initialize(){var t,r,o,l;if(this.mcpTools.length>0)return;const c={},m=[];for(const x of this.mcpClients)try{for(var v=!0,b=(r=void 0,Zs(eA(x))),T;T=await b.next(),t=T.done,!t;v=!0){l=T.value,v=!1;const E=l;m.push(E);const C=E.name;if(c[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);c[C]=x}}catch(E){r={error:E}}finally{try{!v&&!t&&(o=b.return)&&await o.call(b)}finally{if(r)throw r.error}}this.mcpTools=m,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),jT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const r=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[o.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const m=await l.callTool({name:o.name,arguments:o.args},void 0,c);r.push({functionResponse:{name:o.name,response:m.isError?{error:m}:m}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tA(i,t,r){const o=new BT;let l;r.data instanceof Blob?l=JSON.parse(await r.data.text()):l=JSON.parse(r.data),Object.assign(o,l),t(o)}class nA{constructor(t,r,o){this.apiClient=t,this.auth=r,this.webSocketFactory=o}async connect(t){var r,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),m=rA(this.apiClient.getDefaultHeaders()),v=this.apiClient.getApiKey(),b=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${v}`;let T=()=>{};const x=new Promise(se=>{T=se}),E=t.callbacks,C=function(){T({})},M=this.apiClient,P={onopen:C,onmessage:se=>{tA(M,E.onmessage,se)},onerror:(r=E==null?void 0:E.onerror)!==null&&r!==void 0?r:function(se){},onclose:(o=E==null?void 0:E.onclose)!==null&&o!==void 0?o:function(se){}},k=this.webSocketFactory.create(b,aA(m),P);k.connect(),await x;const $={setup:{model:wt(this.apiClient,t.model)}};return k.send(JSON.stringify($)),new iA(k,this.apiClient)}}class iA{constructor(t,r){this.conn=t,this.apiClient=r}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=Hx(t);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const r=Gx(t);this.conn.send(JSON.stringify(r))}sendPlaybackControl(t){const r={playbackControl:t};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Bo.PLAY)}pause(){this.sendPlaybackControl(Bo.PAUSE)}stop(){this.sendPlaybackControl(Bo.STOP)}resetContext(){this.sendPlaybackControl(Bo.RESET_CONTEXT)}close(){this.conn.close()}}function aA(i){const t={};return i.forEach((r,o)=>{t[o]=r}),t}function rA(i){const t=new Headers;for(const[r,o]of Object.entries(i))t.append(r,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function sA(i,t,r){const o=new LT;let l;r.data instanceof Blob?l=await r.data.text():r.data instanceof ArrayBuffer?l=new TextDecoder().decode(r.data):l=r.data;const c=JSON.parse(l);if(i.isVertexAI()){const m=jx(c);Object.assign(o,m)}else Object.assign(o,c);t(o)}class lA{constructor(t,r,o){this.apiClient=t,this.auth=r,this.webSocketFactory=o,this.music=new nA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var r,o,l,c,m,v;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const b=this.apiClient.getWebsocketBaseUrl(),T=this.apiClient.getApiVersion();let x;const E=this.apiClient.getHeaders();t.config&&t.config.tools&&My(t.config.tools)&&Dy(E);const C=fA(E);if(this.apiClient.isVertexAI())x=`${b}/ws/google.cloud.aiplatform.${T}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,x);else{const xe=this.apiClient.getApiKey();let me="BidiGenerateContent",ge="key";xe!=null&&xe.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),T!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),me="BidiGenerateContentConstrained",ge="access_token"),x=`${b}/ws/google.ai.generativelanguage.${T}.GenerativeService.${me}?${ge}=${xe}`}let M=()=>{};const P=new Promise(xe=>{M=xe}),k=t.callbacks,Y=function(){var xe;(xe=k==null?void 0:k.onopen)===null||xe===void 0||xe.call(k),M({})},G=this.apiClient,$={onopen:Y,onmessage:xe=>{sA(G,k.onmessage,xe)},onerror:(r=k==null?void 0:k.onerror)!==null&&r!==void 0?r:function(xe){},onclose:(o=k==null?void 0:k.onclose)!==null&&o!==void 0?o:function(xe){}},se=this.webSocketFactory.create(x,dA(C),$);se.connect(),await P;let Ee=wt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&Ee.startsWith("publishers/")){const xe=this.apiClient.getProject(),me=this.apiClient.getLocation();Ee=`projects/${xe}/locations/${me}/`+Ee}let Ce={};this.apiClient.isVertexAI()&&((l=t.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[hu.AUDIO]}:t.config.responseModalities=[hu.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const De=(v=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&v!==void 0?v:[],J=[];for(const xe of De)if(this.isCallableTool(xe)){const me=xe;J.push(await me.tool())}else J.push(xe);J.length>0&&(t.config.tools=J);const Me={model:Ee,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?Ce=zx(this.apiClient,Me):Ce=Vx(this.apiClient,Me),delete Ce.config,se.send(JSON.stringify(Ce)),new cA(se,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const uA={turnComplete:!0};class cA{constructor(t,r){this.conn=t,this.apiClient=r}tLiveClientContent(t,r){if(r.turns!==null&&r.turns!==void 0){let o=[];try{o=Ri(r.turns),t.isVertexAI()||(o=o.map(l=>xu(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:o,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(t,r){let o=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?o=r.functionResponses:o=[r.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const c of o){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(oA)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},uA),t);const r=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(r))}sendRealtimeInput(t){let r={};this.apiClient.isVertexAI()?r={realtimeInput:Jx(t)}:r={realtimeInput:Fx(t)},this.conn.send(JSON.stringify(r))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function dA(i){const t={};return i.forEach((r,o)=>{t[o]=r}),t}function fA(i){const t=new Headers;for(const[r,o]of Object.entries(i))t.append(r,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg=10;function Hg(i){var t,r,o;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let l=!1;for(const m of(r=i==null?void 0:i.tools)!==null&&r!==void 0?r:[])if(Go(m)){l=!0;break}if(!l)return!0;const c=(o=i==null?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Go(i){return"callTool"in i&&typeof i.callTool=="function"}function pA(i){var t,r,o;return(o=(r=(t=i.config)===null||t===void 0?void 0:t.tools)===null||r===void 0?void 0:r.some(l=>Go(l)))!==null&&o!==void 0?o:!1}function Fg(i){var t;const r=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((o,l)=>{if(Go(o))return;const c=o;c.functionDeclarations&&c.functionDeclarations.length>0&&r.push(l)}),r}function Jg(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mA extends Pa{constructor(t){super(),this.apiClient=t,this.generateContent=async r=>{var o,l,c,m,v;const b=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!pA(r)||Hg(r.config))return await this.generateContentInternal(b);const T=Fg(r);if(T.length>0){const k=T.map(Y=>`tools[${Y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let x,E;const C=Ri(b.contents),M=(c=(l=(o=b.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:Gg;let P=0;for(;P<M&&(x=await this.generateContentInternal(b),!(!x.functionCalls||x.functionCalls.length===0));){const k=x.candidates[0].content,Y=[];for(const G of(v=(m=r.config)===null||m===void 0?void 0:m.tools)!==null&&v!==void 0?v:[])if(Go(G)){const se=await G.callTool(x.functionCalls);Y.push(...se)}P++,E={role:"user",parts:Y},b.contents=Ri(b.contents),b.contents.push(k),b.contents.push(E),Jg(b.config)&&(C.push(k),C.push(E))}return Jg(b.config)&&(x.automaticFunctionCallingHistory=C),x},this.generateContentStream=async r=>{var o,l,c,m,v;if(this.maybeMoveToResponseJsonSchem(r),Hg(r.config)){const E=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(E)}const b=Fg(r);if(b.length>0){const E=b.map(C=>`tools[${C}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const T=(c=(l=(o=r==null?void 0:r.config)===null||o===void 0?void 0:o.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,x=(v=(m=r==null?void 0:r.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||v===void 0?void 0:v.disable;if(T&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(o=>{var l;let c;const m=[];if(o!=null&&o.generatedImages)for(const b of o.generatedImages)b&&(b!=null&&b.safetyAttributes)&&((l=b==null?void 0:b.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?c=b==null?void 0:b.safetyAttributes:m.push(b);let v;return c?v={generatedImages:m,positivePromptSafetyAttributes:c,sdkHttpResponse:o.sdkHttpResponse}:v={generatedImages:m,sdkHttpResponse:o.sdkHttpResponse},v}),this.list=async r=>{var o;const m={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((o=m.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Jr(ka.PAGED_ITEM_MODELS,v=>this.listInternal(v),await this.listInternal(m),m)},this.editImage=async r=>{const o={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(o.referenceImages=r.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async r=>{let o={numberOfImages:1,mode:"upscale"};r.config&&(o=Object.assign(Object.assign({},o),r.config));const l={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:o};return await this.upscaleImageInternal(l)},this.generateVideos=async r=>{var o,l,c,m,v,b;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=r.video)===null||o===void 0)&&o.uri&&(!((l=r.video)===null||l===void 0)&&l.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((m=(c=r.source)===null||c===void 0?void 0:c.video)===null||m===void 0)&&m.uri&&(!((b=(v=r.source)===null||v===void 0?void 0:v.video)===null||b===void 0)&&b.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var r,o,l;const c=(r=t.config)===null||r===void 0?void 0:r.tools;if(!c)return t;const m=await Promise.all(c.map(async b=>Go(b)?await b.tool():b)),v={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(v.config.tools=m,t.config&&t.config.tools&&My(t.config.tools)){const b=(l=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{};let T=Object.assign({},b);Object.keys(T).length===0&&(T=this.apiClient.getDefaultHeaders()),Dy(T),v.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:T})}return v}async initAfcToolsMap(t){var r,o,l;const c=new Map;for(const m of(o=(r=t.config)===null||r===void 0?void 0:r.tools)!==null&&o!==void 0?o:[])if(Go(m)){const v=m,b=await v.tool();for(const T of(l=b.functionDeclarations)!==null&&l!==void 0?l:[]){if(!T.name)throw new Error("Function declaration name is required.");if(c.has(T.name))throw new Error(`Duplicate tool declaration name: ${T.name}`);c.set(T.name,v)}}return c}async processAfcStream(t){var r,o,l;const c=(l=(o=(r=t.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:Gg;let m=!1,v=0;const b=await this.initAfcToolsMap(t);return(function(T,x,E){var C,M;return zo(this,arguments,function*(){for(var P,k,Y,G;v<c;){m&&(v++,m=!1);const Ce=yield Zt(T.processParamsMaybeAddMcpUsage(E)),De=yield Zt(T.generateContentStreamInternal(Ce)),J=[],Me=[];try{for(var $=!0,se=(k=void 0,Zs(De)),Ee;Ee=yield Zt(se.next()),P=Ee.done,!P;$=!0){G=Ee.value,$=!1;const xe=G;if(yield yield Zt(xe),xe.candidates&&(!((C=xe.candidates[0])===null||C===void 0)&&C.content)){Me.push(xe.candidates[0].content);for(const me of(M=xe.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(v<c&&me.functionCall){if(!me.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(me.functionCall.name)){const ge=yield Zt(x.get(me.functionCall.name).callTool([me.functionCall]));J.push(...ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${me.functionCall.name}`)}}}}catch(xe){k={error:xe}}finally{try{!$&&!P&&(Y=se.return)&&(yield Zt(Y.call(se)))}finally{if(k)throw k.error}}if(J.length>0){m=!0;const xe=new js;xe.candidates=[{content:{role:"user",parts:J}}],yield yield Zt(xe);const me=[];me.push(...Me),me.push({role:"user",parts:J});const ge=Ri(E.contents).concat(me);E.contents=ge}else break}})})(this,b,t)}async generateContentInternal(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=Lg(this.apiClient,t);return v=Ve("{model}:generateContent",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=qg(x),C=new js;return Object.assign(C,E),C})}else{const T=Ug(this.apiClient,t);return v=Ve("{model}:generateContent",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=Bg(x),C=new js;return Object.assign(C,E),C})}}async generateContentStreamInternal(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=Lg(this.apiClient,t);return v=Ve("{model}:streamGenerateContent?alt=sse",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.requestStream({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),m.then(function(E){return zo(this,arguments,function*(){var C,M,P,k;try{for(var Y=!0,G=Zs(E),$;$=yield Zt(G.next()),C=$.done,!C;Y=!0){k=$.value,Y=!1;const se=k,Ee=qg(yield Zt(se.json()));Ee.sdkHttpResponse={headers:se.headers};const Ce=new js;Object.assign(Ce,Ee),yield yield Zt(Ce)}}catch(se){M={error:se}}finally{try{!Y&&!C&&(P=G.return)&&(yield Zt(P.call(G)))}finally{if(M)throw M.error}}})})}else{const T=Ug(this.apiClient,t);return v=Ve("{model}:streamGenerateContent?alt=sse",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.requestStream({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),m.then(function(E){return zo(this,arguments,function*(){var C,M,P,k;try{for(var Y=!0,G=Zs(E),$;$=yield Zt(G.next()),C=$.done,!C;Y=!0){k=$.value,Y=!1;const se=k,Ee=Bg(yield Zt(se.json()));Ee.sdkHttpResponse={headers:se.headers};const Ce=new js;Object.assign(Ce,Ee),yield yield Zt(Ce)}}catch(se){M={error:se}}finally{try{!Y&&!C&&(P=G.return)&&(yield Zt(P.call(G)))}finally{if(M)throw M.error}}})})}}async embedContent(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=SS(this.apiClient,t);return v=Ve("{model}:predict",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=AS(x),C=new bg;return Object.assign(C,E),C})}else{const T=xS(this.apiClient,t);return v=Ve("{model}:batchEmbedContents",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=ES(x),C=new bg;return Object.assign(C,E),C})}}async generateImagesInternal(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=OS(this.apiClient,t);return v=Ve("{model}:predict",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=LS(x),C=new xg;return Object.assign(C,E),C})}else{const T=PS(this.apiClient,t);return v=Ve("{model}:predict",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=US(x),C=new xg;return Object.assign(C,E),C})}}async editImageInternal(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI()){const v=yS(this.apiClient,t);return c=Ve("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:b.headers},x})),l.then(b=>{const T=vS(b),x=new CT;return Object.assign(x,T),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI()){const v=OE(this.apiClient,t);return c=Ve("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:b.headers},x})),l.then(b=>{const T=UE(b),x=new _T;return Object.assign(x,T),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI()){const v=gE(this.apiClient,t);return c=Ve("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l.then(b=>{const T=yE(b),x=new IT;return Object.assign(x,T),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI()){const v=EE(this.apiClient,t);return c=Ve("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l.then(b=>{const T=AE(b),x=new wT;return Object.assign(x,T),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=eE(this.apiClient,t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Vd(x))}else{const T=$S(this.apiClient,t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>qd(x))}}async listInternal(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=uE(this.apiClient,t);return v=Ve("{models_url}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=dE(x),C=new Sg;return Object.assign(C,E),C})}else{const T=lE(this.apiClient,t);return v=Ve("{models_url}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=cE(x),C=new Sg;return Object.assign(C,E),C})}}async update(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=kE(this.apiClient,t);return v=Ve("{model}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Vd(x))}else{const T=DE(this.apiClient,t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>qd(x))}}async delete(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=pS(this.apiClient,t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=hS(x),C=new Eg;return Object.assign(C,E),C})}else{const T=fS(this.apiClient,t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=mS(x),C=new Eg;return Object.assign(C,E),C})}}async countTokens(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=uS(this.apiClient,t);return v=Ve("{model}:countTokens",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=dS(x),C=new Ag;return Object.assign(C,E),C})}else{const T=lS(this.apiClient,t);return v=Ve("{model}:countTokens",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=cS(x),C=new Ag;return Object.assign(C,E),C})}}async computeTokens(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI()){const v=tS(this.apiClient,t);return c=Ve("{model}:computeTokens",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:b.headers},x})),l.then(b=>{const T=nS(b),x=new RT;return Object.assign(x,T),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=HS(this.apiClient,t);return v=Ve("{model}:predictLongRunning",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const E=zS(x),C=new gu;return Object.assign(C,E),C})}else{const T=GS(this.apiClient,t);return v=Ve("{model}:predictLongRunning",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>{const E=VS(x),C=new gu;return Object.assign(C,E),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hA extends Pa{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const r=t.operation,o=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:l,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(t){const r=t.operation,o=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=r.name.split("/operations/")[0];let c;o&&"httpOptions"in o&&(c=o.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:l,config:{httpOptions:c}});return r._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:r.name,config:o});return r._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=bT(t);return v=Ve("{operationName}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m}else{const T=TT(t);return v=Ve("{operationName}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m}}async fetchPredictVideosOperationInternal(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI()){const v=fT(t);return c=Ve("{resourceName}:fetchPredictOperation",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gA(i){const t={},r=u(i,["data"]);if(r!=null&&d(t,["data"],r),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function yA(i){const t={},r=u(i,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>CA(c))),d(t,["parts"],l)}const o=u(i,["role"]);return o!=null&&d(t,["role"],o),t}function vA(i,t,r){const o={},l=u(t,["expireTime"]);r!==void 0&&l!=null&&d(r,["expireTime"],l);const c=u(t,["newSessionExpireTime"]);r!==void 0&&c!=null&&d(r,["newSessionExpireTime"],c);const m=u(t,["uses"]);r!==void 0&&m!=null&&d(r,["uses"],m);const v=u(t,["liveConnectConstraints"]);r!==void 0&&v!=null&&d(r,["bidiGenerateContentSetup"],NA(i,v));const b=u(t,["lockAdditionalFields"]);return r!==void 0&&b!=null&&d(r,["fieldMask"],b),o}function TA(i,t){const r={},o=u(t,["config"]);return o!=null&&d(r,["config"],vA(i,o,r)),r}function bA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["fileUri"]);r!=null&&d(t,["fileUri"],r);const o=u(i,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function xA(i){const t={},r=u(i,["id"]);r!=null&&d(t,["id"],r);const o=u(i,["args"]);o!=null&&d(t,["args"],o);const l=u(i,["name"]);if(l!=null&&d(t,["name"],l),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function SA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=u(i,["enableWidget"]);return r!=null&&d(t,["enableWidget"],r),t}function EA(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=u(i,["timeRangeFilter"]);return r!=null&&d(t,["timeRangeFilter"],r),t}function AA(i,t){const r={},o=u(i,["generationConfig"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig"],o);const l=u(i,["responseModalities"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig","responseModalities"],l);const c=u(i,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const m=u(i,["topP"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","topP"],m);const v=u(i,["topK"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","topK"],v);const b=u(i,["maxOutputTokens"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","maxOutputTokens"],b);const T=u(i,["mediaResolution"]);t!==void 0&&T!=null&&d(t,["setup","generationConfig","mediaResolution"],T);const x=u(i,["seed"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","seed"],x);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","speechConfig"],$d(E));const C=u(i,["thinkingConfig"]);t!==void 0&&C!=null&&d(t,["setup","generationConfig","thinkingConfig"],C);const M=u(i,["enableAffectiveDialog"]);t!==void 0&&M!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],M);const P=u(i,["systemInstruction"]);t!==void 0&&P!=null&&d(t,["setup","systemInstruction"],yA(qn(P)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let De=Fo(k);Array.isArray(De)&&(De=De.map(J=>IA(Ho(J)))),d(t,["setup","tools"],De)}const Y=u(i,["sessionResumption"]);t!==void 0&&Y!=null&&d(t,["setup","sessionResumption"],_A(Y));const G=u(i,["inputAudioTranscription"]);t!==void 0&&G!=null&&d(t,["setup","inputAudioTranscription"],G);const $=u(i,["outputAudioTranscription"]);t!==void 0&&$!=null&&d(t,["setup","outputAudioTranscription"],$);const se=u(i,["realtimeInputConfig"]);t!==void 0&&se!=null&&d(t,["setup","realtimeInputConfig"],se);const Ee=u(i,["contextWindowCompression"]);t!==void 0&&Ee!=null&&d(t,["setup","contextWindowCompression"],Ee);const Ce=u(i,["proactivity"]);return t!==void 0&&Ce!=null&&d(t,["setup","proactivity"],Ce),r}function NA(i,t){const r={},o=u(t,["model"]);o!=null&&d(r,["setup","model"],wt(i,o));const l=u(t,["config"]);return l!=null&&d(r,["config"],AA(l,r)),r}function CA(i){const t={},r=u(i,["mediaResolution"]);r!=null&&d(t,["mediaResolution"],r);const o=u(i,["codeExecutionResult"]);o!=null&&d(t,["codeExecutionResult"],o);const l=u(i,["executableCode"]);l!=null&&d(t,["executableCode"],l);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],bA(c));const m=u(i,["functionCall"]);m!=null&&d(t,["functionCall"],xA(m));const v=u(i,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const b=u(i,["inlineData"]);b!=null&&d(t,["inlineData"],gA(b));const T=u(i,["text"]);T!=null&&d(t,["text"],T);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const E=u(i,["thoughtSignature"]);E!=null&&d(t,["thoughtSignature"],E);const C=u(i,["videoMetadata"]);return C!=null&&d(t,["videoMetadata"],C),t}function _A(i){const t={},r=u(i,["handle"]);if(r!=null&&d(t,["handle"],r),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function IA(i){const t={},r=u(i,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(E=>E)),d(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["googleSearchRetrieval"]);o!=null&&d(t,["googleSearchRetrieval"],o);const l=u(i,["computerUse"]);l!=null&&d(t,["computerUse"],l);const c=u(i,["fileSearch"]);c!=null&&d(t,["fileSearch"],c);const m=u(i,["codeExecution"]);if(m!=null&&d(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const v=u(i,["googleMaps"]);v!=null&&d(t,["googleMaps"],SA(v));const b=u(i,["googleSearch"]);b!=null&&d(t,["googleSearch"],EA(b));const T=u(i,["urlContext"]);return T!=null&&d(t,["urlContext"],T),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wA(i){const t=[];for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)){const o=i[r];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const l=Object.keys(o).map(c=>`${r}.${c}`);t.push(...l)}else t.push(r)}return t.join(",")}function RA(i,t){let r=null;const o=i.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const c=o.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,r=c):delete i.bidiGenerateContentSetup}else o!==void 0&&delete i.bidiGenerateContentSetup;const l=i.fieldMask;if(r){const c=wA(r);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let v=[];l.length>0&&(v=l.map(T=>m.includes(T)?`generationConfig.${T}`:T));const b=[];c&&b.push(c),v.length>0&&b.push(...v),b.length>0?i.fieldMask=b.join(","):delete i.fieldMask}else delete i.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?i.fieldMask=l.join(","):delete i.fieldMask;return i}class MA extends Pa{constructor(t){super(),this.apiClient=t}async create(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const v=TA(this.apiClient,t);c=Ve("auth_tokens",v._url),m=v._query,delete v.config,delete v._url,delete v._query;const b=RA(v,t.config);return l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(b),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),l.then(T=>T)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DA(i,t){const r={},o=u(i,["displayName"]);return t!==void 0&&o!=null&&d(t,["displayName"],o),r}function kA(i){const t={},r=u(i,["config"]);return r!=null&&DA(r,t),t}function PA(i,t){const r={},o=u(i,["force"]);return t!==void 0&&o!=null&&d(t,["_query","force"],o),r}function OA(i){const t={},r=u(i,["name"]);r!=null&&d(t,["_url","name"],r);const o=u(i,["config"]);return o!=null&&PA(o,t),t}function UA(i){const t={},r=u(i,["name"]);return r!=null&&d(t,["_url","name"],r),t}function LA(i,t){const r={},o=u(i,["customMetadata"]);if(t!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(m=>m)),d(t,["customMetadata"],c)}const l=u(i,["chunkingConfig"]);return t!==void 0&&l!=null&&d(t,["chunkingConfig"],l),r}function BA(i){const t={},r=u(i,["name"]);r!=null&&d(t,["name"],r);const o=u(i,["metadata"]);o!=null&&d(t,["metadata"],o);const l=u(i,["done"]);l!=null&&d(t,["done"],l);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const m=u(i,["response"]);return m!=null&&d(t,["response"],VA(m)),t}function qA(i){const t={},r=u(i,["fileSearchStoreName"]);r!=null&&d(t,["_url","file_search_store_name"],r);const o=u(i,["fileName"]);o!=null&&d(t,["fileName"],o);const l=u(i,["config"]);return l!=null&&LA(l,t),t}function VA(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["parent"]);o!=null&&d(t,["parent"],o);const l=u(i,["documentName"]);return l!=null&&d(t,["documentName"],l),t}function zA(i,t){const r={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=u(i,["pageToken"]);return t!==void 0&&l!=null&&d(t,["_query","pageToken"],l),r}function GA(i){const t={},r=u(i,["config"]);return r!=null&&zA(r,t),t}function HA(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const l=u(i,["fileSearchStores"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>m)),d(t,["fileSearchStores"],c)}return t}function FA(i,t){const r={},o=u(i,["mimeType"]);t!==void 0&&o!=null&&d(t,["mimeType"],o);const l=u(i,["displayName"]);t!==void 0&&l!=null&&d(t,["displayName"],l);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let v=c;Array.isArray(v)&&(v=v.map(b=>b)),d(t,["customMetadata"],v)}const m=u(i,["chunkingConfig"]);return t!==void 0&&m!=null&&d(t,["chunkingConfig"],m),r}function JA(i){const t={},r=u(i,["fileSearchStoreName"]);r!=null&&d(t,["_url","file_search_store_name"],r);const o=u(i,["config"]);return o!=null&&FA(o,t),t}function jA(i){const t={},r=u(i,["sdkHttpResponse"]);return r!=null&&d(t,["sdkHttpResponse"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YA(i,t){const r={},o=u(i,["force"]);return t!==void 0&&o!=null&&d(t,["_query","force"],o),r}function KA(i){const t={},r=u(i,["name"]);r!=null&&d(t,["_url","name"],r);const o=u(i,["config"]);return o!=null&&YA(o,t),t}function ZA(i){const t={},r=u(i,["name"]);return r!=null&&d(t,["_url","name"],r),t}function QA(i,t){const r={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=u(i,["pageToken"]);return t!==void 0&&l!=null&&d(t,["_query","pageToken"],l),r}function XA(i){const t={},r=u(i,["parent"]);r!=null&&d(t,["_url","parent"],r);const o=u(i,["config"]);return o!=null&&QA(o,t),t}function WA(i){const t={},r=u(i,["sdkHttpResponse"]);r!=null&&d(t,["sdkHttpResponse"],r);const o=u(i,["nextPageToken"]);o!=null&&d(t,["nextPageToken"],o);const l=u(i,["documents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>m)),d(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $A extends Pa{constructor(t){super(),this.apiClient=t,this.list=async r=>new Jr(ka.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:r.parent,config:o.config}),await this.listInternal(r),r)}async get(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=ZA(t);return c=Ve("{name}",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l.then(b=>b)}}async delete(t){var r,o;let l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=KA(t);l=Ve("{name}",m._url),c=m._query,delete m._url,delete m._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=XA(t);return c=Ve("{parent}/documents",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l.then(b=>{const T=WA(b),x=new MT;return Object.assign(x,T),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eN extends Pa{constructor(t,r=new $A(t)){super(),this.apiClient=t,this.documents=r,this.list=async(o={})=>new Jr(ka.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=kA(t);return c=Ve("fileSearchStores",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l.then(b=>b)}}async get(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=UA(t);return c=Ve("{name}",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l.then(b=>b)}}async delete(t){var r,o;let l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=OA(t);l=Ve("{name}",m._url),c=m._query,delete m._url,delete m._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=GA(t);return c=Ve("fileSearchStores",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l.then(b=>{const T=HA(b),x=new DT;return Object.assign(x,T),x})}}async uploadToFileSearchStoreInternal(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=JA(t);return c=Ve("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l.then(b=>{const T=jA(b),x=new kT;return Object.assign(x,T),x})}}async importFile(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=qA(t);return c=Ve("{file_search_store_name}:importFile",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json()),l.then(b=>{const T=BA(b),x=new Kd;return Object.assign(x,T),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tN(i,t){const r={},o=u(i,["name"]);return o!=null&&d(r,["_url","name"],o),r}function nN(i,t){const r={},o=u(i,["name"]);return o!=null&&d(r,["_url","name"],o),r}function iN(i,t,r){const o={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=u(i,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&d(t,["displayName"],l),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&d(t,["tuningTask","hyperparameters","epochCount"],c);const m=u(i,["learningRateMultiplier"]);if(m!=null&&d(o,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const v=u(i,["batchSize"]);t!==void 0&&v!=null&&d(t,["tuningTask","hyperparameters","batchSize"],v);const b=u(i,["learningRate"]);if(t!==void 0&&b!=null&&d(t,["tuningTask","hyperparameters","learningRate"],b),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function aN(i,t,r){const o={};let l=u(r,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const M=u(i,["validationDataset"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec"],jg(M))}else if(l==="PREFERENCE_TUNING"){const M=u(i,["validationDataset"]);t!==void 0&&M!=null&&d(t,["preferenceOptimizationSpec"],jg(M))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&d(t,["tunedModelDisplayName"],c);const m=u(i,["description"]);t!==void 0&&m!=null&&d(t,["description"],m);let v=u(r,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const M=u(i,["epochCount"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],M)}else if(v==="PREFERENCE_TUNING"){const M=u(i,["epochCount"]);t!==void 0&&M!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],M)}let b=u(r,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const M=u(i,["learningRateMultiplier"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],M)}else if(b==="PREFERENCE_TUNING"){const M=u(i,["learningRateMultiplier"]);t!==void 0&&M!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],M)}let T=u(r,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const M=u(i,["exportLastCheckpointOnly"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],M)}else if(T==="PREFERENCE_TUNING"){const M=u(i,["exportLastCheckpointOnly"]);t!==void 0&&M!=null&&d(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],M)}let x=u(r,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const M=u(i,["adapterSize"]);t!==void 0&&M!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],M)}else if(x==="PREFERENCE_TUNING"){const M=u(i,["adapterSize"]);t!==void 0&&M!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],M)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(i,["labels"]);t!==void 0&&E!=null&&d(t,["labels"],E);const C=u(i,["beta"]);return t!==void 0&&C!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","beta"],C),o}function rN(i,t){const r={},o=u(i,["baseModel"]);o!=null&&d(r,["baseModel"],o);const l=u(i,["preTunedModel"]);l!=null&&d(r,["preTunedModel"],l);const c=u(i,["trainingDataset"]);c!=null&&gN(c);const m=u(i,["config"]);return m!=null&&iN(m,r),r}function oN(i,t){const r={},o=u(i,["baseModel"]);o!=null&&d(r,["baseModel"],o);const l=u(i,["preTunedModel"]);l!=null&&d(r,["preTunedModel"],l);const c=u(i,["trainingDataset"]);c!=null&&yN(c,r,t);const m=u(i,["config"]);return m!=null&&aN(m,r,t),r}function sN(i,t){const r={},o=u(i,["name"]);return o!=null&&d(r,["_url","name"],o),r}function lN(i,t){const r={},o=u(i,["name"]);return o!=null&&d(r,["_url","name"],o),r}function uN(i,t,r){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&d(t,["_query","pageToken"],c);const m=u(i,["filter"]);return t!==void 0&&m!=null&&d(t,["_query","filter"],m),o}function cN(i,t,r){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&d(t,["_query","pageToken"],c);const m=u(i,["filter"]);return t!==void 0&&m!=null&&d(t,["_query","filter"],m),o}function dN(i,t){const r={},o=u(i,["config"]);return o!=null&&uN(o,r),r}function fN(i,t){const r={},o=u(i,["config"]);return o!=null&&cN(o,r),r}function pN(i,t){const r={},o=u(i,["sdkHttpResponse"]);o!=null&&d(r,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&d(r,["nextPageToken"],l);const c=u(i,["tunedModels"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>ky(v))),d(r,["tuningJobs"],m)}return r}function mN(i,t){const r={},o=u(i,["sdkHttpResponse"]);o!=null&&d(r,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&d(r,["nextPageToken"],l);const c=u(i,["tuningJobs"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>Gd(v))),d(r,["tuningJobs"],m)}return r}function hN(i,t){const r={},o=u(i,["name"]);o!=null&&d(r,["model"],o);const l=u(i,["name"]);return l!=null&&d(r,["endpoint"],l),r}function gN(i,t){const r={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=u(i,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),d(r,["examples","examples"],l)}return r}function yN(i,t,r){const o={};let l=u(r,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(l==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let c=u(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(c==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function ky(i,t){const r={},o=u(i,["sdkHttpResponse"]);o!=null&&d(r,["sdkHttpResponse"],o);const l=u(i,["name"]);l!=null&&d(r,["name"],l);const c=u(i,["state"]);c!=null&&d(r,["state"],my(c));const m=u(i,["createTime"]);m!=null&&d(r,["createTime"],m);const v=u(i,["tuningTask","startTime"]);v!=null&&d(r,["startTime"],v);const b=u(i,["tuningTask","completeTime"]);b!=null&&d(r,["endTime"],b);const T=u(i,["updateTime"]);T!=null&&d(r,["updateTime"],T);const x=u(i,["description"]);x!=null&&d(r,["description"],x);const E=u(i,["baseModel"]);E!=null&&d(r,["baseModel"],E);const C=u(i,["_self"]);return C!=null&&d(r,["tunedModel"],hN(C)),r}function Gd(i,t){const r={},o=u(i,["sdkHttpResponse"]);o!=null&&d(r,["sdkHttpResponse"],o);const l=u(i,["name"]);l!=null&&d(r,["name"],l);const c=u(i,["state"]);c!=null&&d(r,["state"],my(c));const m=u(i,["createTime"]);m!=null&&d(r,["createTime"],m);const v=u(i,["startTime"]);v!=null&&d(r,["startTime"],v);const b=u(i,["endTime"]);b!=null&&d(r,["endTime"],b);const T=u(i,["updateTime"]);T!=null&&d(r,["updateTime"],T);const x=u(i,["error"]);x!=null&&d(r,["error"],x);const E=u(i,["description"]);E!=null&&d(r,["description"],E);const C=u(i,["baseModel"]);C!=null&&d(r,["baseModel"],C);const M=u(i,["tunedModel"]);M!=null&&d(r,["tunedModel"],M);const P=u(i,["preTunedModel"]);P!=null&&d(r,["preTunedModel"],P);const k=u(i,["supervisedTuningSpec"]);k!=null&&d(r,["supervisedTuningSpec"],k);const Y=u(i,["preferenceOptimizationSpec"]);Y!=null&&d(r,["preferenceOptimizationSpec"],Y);const G=u(i,["tuningDataStats"]);G!=null&&d(r,["tuningDataStats"],G);const $=u(i,["encryptionSpec"]);$!=null&&d(r,["encryptionSpec"],$);const se=u(i,["partnerModelTuningSpec"]);se!=null&&d(r,["partnerModelTuningSpec"],se);const Ee=u(i,["customBaseModel"]);Ee!=null&&d(r,["customBaseModel"],Ee);const Ce=u(i,["experiment"]);Ce!=null&&d(r,["experiment"],Ce);const De=u(i,["labels"]);De!=null&&d(r,["labels"],De);const J=u(i,["outputUri"]);J!=null&&d(r,["outputUri"],J);const Me=u(i,["pipelineJob"]);Me!=null&&d(r,["pipelineJob"],Me);const xe=u(i,["serviceAccount"]);xe!=null&&d(r,["serviceAccount"],xe);const me=u(i,["tunedModelDisplayName"]);me!=null&&d(r,["tunedModelDisplayName"],me);const ge=u(i,["veoTuningSpec"]);return ge!=null&&d(r,["veoTuningSpec"],ge),r}function vN(i,t){const r={},o=u(i,["sdkHttpResponse"]);o!=null&&d(r,["sdkHttpResponse"],o);const l=u(i,["name"]);l!=null&&d(r,["name"],l);const c=u(i,["metadata"]);c!=null&&d(r,["metadata"],c);const m=u(i,["done"]);m!=null&&d(r,["done"],m);const v=u(i,["error"]);return v!=null&&d(r,["error"],v),r}function jg(i,t){const r={},o=u(i,["gcsUri"]);o!=null&&d(r,["validationDatasetUri"],o);const l=u(i,["vertexDatasetResource"]);return l!=null&&d(r,["validationDatasetUri"],l),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TN extends Pa{constructor(t){super(),this.apiClient=t,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new Jr(ka.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(r),r),this.tune=async r=>{var o;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const l={tunedModelName:r.baseModel};!((o=r.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(l.checkpointId=r.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},r),{preTunedModel:l});return c.baseModel=void 0,await this.tuneInternal(c)}else{const l=Object.assign({},r);return await this.tuneInternal(l)}else{const l=Object.assign({},r),c=await this.tuneMldevInternal(l);let m="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?m=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(m=c.name.split("/operations/")[0]),{name:m,state:Od.JOB_STATE_QUEUED}}}}async getInternal(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=lN(t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>Gd(x))}else{const T=sN(t);return v=Ve("{name}",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>ky(x))}}async listInternal(t){var r,o,l,c;let m,v="",b={};if(this.apiClient.isVertexAI()){const T=fN(t);return v=Ve("tuningJobs",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=mN(x),C=new Ng;return Object.assign(C,E),C})}else{const T=dN(t);return v=Ve("tunedModels",T._url),b=T._query,delete T._url,delete T._query,m=this.apiClient.request({path:v,queryParams:b,body:JSON.stringify(T),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:x.headers},C})),m.then(x=>{const E=pN(x),C=new Ng;return Object.assign(C,E),C})}}async cancel(t){var r,o,l,c;let m="",v={};if(this.apiClient.isVertexAI()){const b=nN(t);m=Ve("{name}:cancel",b._url),v=b._query,delete b._url,delete b._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(b),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const b=tN(t);m=Ve("{name}:cancel",b._url),v=b._query,delete b._url,delete b._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(b),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI()){const v=oN(t,t);return c=Ve("tuningJobs",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:b.headers},x})),l.then(b=>Gd(b))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var r,o;let l,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=rN(t);return c=Ve("tunedModels",v._url),m=v._query,delete v._url,delete v._query,l=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(b=>b.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:b.headers},x})),l.then(b=>vN(b))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bN{async download(t,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xN=1024*1024*8,SN=3,EN=1e3,AN=2,vu="x-goog-upload-status";async function NN(i,t,r){var o;const l=await Py(i,t,r),c=await(l==null?void 0:l.json());if(((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[vu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function CN(i,t,r){var o;const l=await Py(i,t,r),c=await(l==null?void 0:l.json());if(((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[vu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=ly(c),v=new Zd;return Object.assign(v,m),v}async function Py(i,t,r){var o,l;let c=0,m=0,v=new Ud(new Response),b="upload";for(c=i.size;m<c;){const T=Math.min(xN,c-m),x=i.slice(m,m+T);m+T>=c&&(b+=", finalize");let E=0,C=EN;for(;E<SN&&(v=await r.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":String(m),"Content-Length":String(T)}}}),!(!((o=v==null?void 0:v.headers)===null||o===void 0)&&o[vu]));)E++,await IN(C),C=C*AN;if(m+=T,((l=v==null?void 0:v.headers)===null||l===void 0?void 0:l[vu])!=="active")break;if(c<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return v}async function _N(i){return{size:i.size,type:i.type}}function IN(i){return new Promise(t=>setTimeout(t,i))}class wN{async upload(t,r,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await NN(t,r,o)}async uploadToFileSearchStore(t,r,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await CN(t,r,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await _N(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RN{create(t,r,o){return new MN(t,r,o)}}class MN{constructor(t,r,o){this.url=t,this.headers=r,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yg="x-goog-api-key";class DN{constructor(t){this.apiKey=t}async addAuthHeaders(t,r){if(t.get(Yg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Yg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kN="gl-node/";class Oy{constructor(t){var r;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=t.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=t.apiKey;const o=cT(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion;const l=new DN(this.apiKey);this.apiClient=new ZE({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:kN+"web",uploader:new wN,downloader:new bN}),this.models=new mA(this.apiClient),this.live=new lA(this.apiClient,l,new RN),this.batches=new qb(this.apiClient),this.chats=new bx(this.models,this.apiClient),this.caches=new yx(this.apiClient),this.files=new Rx(this.apiClient),this.operations=new hA(this.apiClient),this.authTokens=new MA(this.apiClient),this.tunings=new TN(this.apiClient),this.fileSearchStores=new eN(this.apiClient)}}const Uy={partType:{naturalName:"Tipo da Parte",singleWordName:"TipoParte",description:"A seo geral da designao (ex: Presidente, Tesouros, Ministrio)."},partTitle:{naturalName:"Ttulo da Parte",singleWordName:"TituloParte",description:'O ttulo especfico da parte (ex: "Leitura da Bblia", "Discurso").'},gender:{naturalName:"Gnero",singleWordName:"Gnero",description:'Se o publicador  "brother" (irmo) ou "sister" (irm).'},condition:{naturalName:"Condio",singleWordName:"Condio",description:"A designao do publicador (ex: Ancio, Servo Ministerial, Publicador)."},isBaptized:{naturalName:"Batizado",singleWordName:"Batizado",description:"Indica se o publicador  batizado (true ou false)."},isServing:{naturalName:"Atuante",singleWordName:"Atuante",description:"Indica se o publicador est atualmente servindo (true ou false)."},isAvailable:{naturalName:"Disponvel na Data",singleWordName:"Disponivel",description:"Verifica se o publicador est disponvel na data da reunio (calculado dinamicamente)."},ageGroup:{naturalName:"Faixa Etria",singleWordName:"FaixaEtaria",description:"A faixa etria do publicador (Adulto, Jovem, Criana)."},isHelperOnly:{naturalName:"S Ajudante",singleWordName:"SoAjudante",description:"Indica se o publicador participa apenas como ajudante (true ou false)."},canGiveTalks:{naturalName:"Pode Fazer Discursos",singleWordName:"FazDiscursos",description:"Se o irmo est habilitado a proferir discursos."},canConductCBS:{naturalName:"Pode Dirigir EBC",singleWordName:"DirigeEBC",description:"Se o irmo pode dirigir o Estudo Bblico de Congregao."},canReadCBS:{naturalName:"Pode Ler EBC",singleWordName:"LeitorEBC",description:"Se o irmo pode ser o leitor no Estudo Bblico de Congregao."},canPray:{naturalName:"Pode Fazer Orao",singleWordName:"FazOrao",description:"Se o irmo pode fazer oraes pblicas na reunio."},canPreside:{naturalName:"Pode Presidir",singleWordName:"Preside",description:"Se o irmo pode presidir a Reunio Vida e Ministrio."},canParticipateInTreasures:{naturalName:"Pode Participar nos Tesouros",singleWordName:"ParticipaTesouros",description:'Se o publicador pode receber partes na seo "Tesouros da Palavra de Deus".'},canParticipateInMinistry:{naturalName:"Pode Participar no Ministrio",singleWordName:"ParticipaMinisterio",description:'Se o publicador pode receber partes na seo "Faa Seu Melhor no Ministrio".'},canParticipateInLife:{naturalName:"Pode Participar na Vida Crist",singleWordName:"ParticipaVidaCrista",description:'Se o publicador pode receber partes na seo "Nossa Vida Crist".'}};let Cd=null;function PN(){return Cd||(Cd=new Oy({apiKey:"AIzaSyA0zAJ8REIP8kTj7-yfFZ2zbO-2eBsWPrU"})),Cd}const ON={type:Wt.OBJECT,properties:{description:{type:Wt.STRING,description:"Uma descrio clara e concisa da regra em linguagem natural."},conditions:{type:Wt.ARRAY,description:"Uma lista de condies que DEVEM TODAS ser verdadeiras para a regra ser violada.",items:{type:Wt.OBJECT,properties:{fact:{type:Wt.STRING,description:"O atributo do publicador ou da designao a ser verificado. Use os nomes tcnicos do dicionrio de fatos."},operator:{type:Wt.STRING,description:"O operador lgico a ser aplicado. Valores possveis: 'equal', 'notEqual', 'in', 'notIn', 'contains'."},value:{description:"O valor com o qual o 'fact' ser comparado. Pode ser uma string, booleano, ou um array de strings (para 'in' e 'notIn')."}},required:["fact","operator","value"]}}},required:["description","conditions"]};async function UN(i){try{const t=PN(),o=`
            Voc  um especialista em criar regras lgicas. Converta a regra de linguagem natural do usurio em uma estrutura JSON.
            As condies no JSON devem representar o cenrio em que a regra  VIOLADA.

            **Dicionrio de Variveis (Fatos):**
            Use este dicionrio para mapear os termos da regra do usurio (nomes naturais ou suas alternativas) para os nomes tcnicos corretos. O JSON final DEVE usar os nomes tcnicos (ex: 'condition', 'canGiveTalks').
            ${Object.entries(Uy).map(([v,{naturalName:b,singleWordName:T,description:x}])=>`- "${b}" (nome tcnico: \`${v}\`, alternativa: \`${T}\`): ${x}`).join(`
`)}

            **Exemplo de Lgica:**
            - Se a regra do usurio for "Apenas ancios podem presidir", a violao ocorre se 'Tipo da Parte'  'Presidente' E a 'Condio' NO  'Ancio'.
            - A condio JSON correspondente seria: { "fact": "partType", "operator": "equal", "value": "Presidente" } E { "fact": "condition", "operator": "notEqual", "value": "Ancio" }.

            **Regra do Usurio para Converter:**
            "${i}"
        `,c=(await t.models.generateContent({model:"gemini-2.5-flash",contents:o,config:{responseMimeType:"application/json",responseSchema:ON}})).text.trim(),m=JSON.parse(c);if(typeof m.description!="string"||!Array.isArray(m.conditions))throw new Error("Formato de regra invlido retornado pela IA.");return m}catch(t){throw console.error("Erro ao criar regra com IA:",t),t instanceof Error?new Error(`No foi possvel processar a regra: ${t.message}`):new Error("No foi possvel processar a regra. Verifique a chave da API e a complexidade da regra.")}}const LN=(i,t)=>{if(!i.availability)return!0;const{mode:r,exceptionDates:o}=i.availability;return r==="always"?!o.includes(t):r==="never"?o.includes(t):!1};function BN(i,t,r,o,l){const{fact:c,operator:m,value:v}=i;let b;if(c==="isAvailable")b=LN(t,l);else if(c==="partType")b=r;else if(c==="partTitle")b=o;else if(c in t.privileges)b=t.privileges[c];else if(c in t)b=t[c];else return!1;switch(m){case"equal":return b===v;case"notEqual":return b!==v;case"in":return Array.isArray(v)?v.includes(b):!1;case"notIn":return Array.isArray(v)?!v.includes(b):!1;case"contains":return typeof b=="string"&&typeof v=="string"?b.toLowerCase().includes(v.toLowerCase()):!1;default:return!1}}function Ks(i,t){const{publisher:r,partType:o,partTitle:l,meetingDate:c}=i,m=t.filter(v=>v.isActive);for(const v of m)if(v.conditions.every(T=>BN(T,r,o,l,c)))return{isValid:!1,reason:v.description};return{isValid:!0,reason:"Todas as regras foram atendidas."}}const qN=({isOpen:i,onClose:t,onSave:r,participationToEdit:o,publishers:l,rules:c,specialEvents:m,eventTemplates:v})=>{const[b,T]=pe.useState(""),[x,E]=pe.useState(""),[C,M]=pe.useState(w.MINISTERIO),[P,k]=pe.useState(""),[Y,G]=pe.useState(""),$=pe.useMemo(()=>$g.includes(C),[C]),se=pe.useMemo(()=>{const J=m.find(me=>me.week===b),Me=J?v.find(me=>me.id===J.templateId):null;let xe=Object.values(w).filter(me=>me!==w.AJUDANTE);if(J&&Me){if(Me.impact.action==="REPLACE_PART"||Me.impact.action==="REPLACE_SECTION"){const me=new Set(Array.isArray(Me.impact.targetType)?Me.impact.targetType:[Me.impact.targetType]);xe=xe.filter(ge=>!me.has(ge))}return[...xe,J.theme]}return xe},[b,m,v]);pe.useEffect(()=>{i&&(o?(T(o.week),E(o.partTitle),M(o.type),k(o.publisherName),G("")):(T(""),E(""),M(w.MINISTERIO),k(""),G("")))},[o,i]);const Ee=pe.useMemo(()=>{if(!C||!b)return[];const J=fi(b).split("T")[0];return l.filter(Me=>Ks({publisher:Me,partType:C,partTitle:x||C,meetingDate:J},c).isValid)},[C,x,b,l,c]),Ce=pe.useMemo(()=>{if(!$||!P)return[];const J=l.find(xe=>xe.name===P);if(!J)return[];const Me=fi(b).split("T")[0];return l.filter(xe=>xe.id===J.id||!Rd(J,xe).isValid?!1:Ks({publisher:xe,partType:w.AJUDANTE,partTitle:"Ajudante",meetingDate:Me},c).isValid)},[$,P,b,l,c]),De=J=>{if(J.preventDefault(),!P||!b||!x){alert("Os campos de Estudante/Participante, Semana e Ttulo da Parte so obrigatrios.");return}const Me=l.find(Je=>Je.name===P);if(!Me){alert("Estudante/Participante no encontrado.");return}const xe=fi(b).split("T")[0];let me=Object.values(w).includes(C)?C:w.VIDA_CRISTA,ge=Ks({publisher:Me,partType:me,partTitle:x,meetingDate:xe},c);if(!ge.isValid){alert(`Designao invlida para ${P}: ${ge.reason}`);return}const we=[];if($){if(!Y){alert("Ajudante  obrigatrio para este tipo de parte.");return}const Je=l.find(ie=>ie.name===Y);if(!Je){alert("Ajudante no encontrado.");return}const dt=Rd(Me,Je);if(!dt.isValid){alert(`Erro de pareamento: ${dt.reason}`);return}let Xe=Ks({publisher:Je,partType:w.AJUDANTE,partTitle:"Ajudante",meetingDate:xe},c);if(!Xe.isValid){alert(`Designao invlida para o ajudante ${Y}: ${Xe.reason}`);return}we.push({id:xt(),publisherName:Y,week:b,partTitle:"Ajudante",type:w.AJUDANTE,date:fi(b)})}we.push({id:o?o.id:xt(),publisherName:P,week:b,partTitle:x,type:me,date:fi(b)}),r(we),t()};return i?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",onClick:t,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg m-4 flex flex-col",style:{maxHeight:"90vh"},onClick:J=>J.stopPropagation(),children:[g.jsx("div",{className:"p-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:g.jsx("h2",{className:"text-xl font-bold",children:o?"Editar Participao":"Adicionar Designao"})}),g.jsxs("form",{onSubmit:De,id:"participation-form",className:"flex-grow overflow-y-auto p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"week",className:"block text-sm font-medium",children:"Semana (ex: 1-7 de JAN, 2025)"}),g.jsx("input",{type:"text",id:"week",value:b,onChange:J=>T(J.target.value),required:!0,className:"mt-1 block w-full input-class"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"type",className:"block text-sm font-medium",children:"Tipo"}),g.jsx("select",{id:"type",value:C,onChange:J=>M(J.target.value),className:"mt-1 block w-full input-class",children:se.map(J=>g.jsx("option",{value:J,children:J},J))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"partTitle",className:"block text-sm font-medium",children:"Ttulo da Parte"}),g.jsx("input",{type:"text",id:"partTitle",value:x,onChange:J=>E(J.target.value),required:!0,className:"mt-1 block w-full input-class"})]}),g.jsxs("div",{className:`grid grid-cols-1 ${$?"md:grid-cols-2 gap-4":""}`,children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"studentName",className:"block text-sm font-medium",children:$?"Estudante":"Participante"}),g.jsxs("select",{id:"studentName",value:P,onChange:J=>k(J.target.value),required:!0,className:"mt-1 block w-full input-class",children:[g.jsx("option",{value:"",disabled:!0,children:"Selecione..."}),Ee.map(J=>g.jsx("option",{value:J.name,children:J.name},J.id))]})]}),$&&g.jsxs("div",{children:[g.jsx("label",{htmlFor:"helperName",className:"block text-sm font-medium",children:"Ajudante"}),g.jsxs("select",{id:"helperName",value:Y,onChange:J=>G(J.target.value),required:!0,disabled:!P,className:"mt-1 block w-full input-class disabled:opacity-50",children:[g.jsx("option",{value:"",disabled:!0,children:"Selecione..."}),Ce.map(J=>g.jsx("option",{value:J.name,children:J.name},J.id))]})]})]})]}),g.jsxs("div",{className:"p-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancelar"}),g.jsx("button",{type:"submit",form:"participation-form",className:"btn-primary",children:"Salvar"})]}),g.jsx("style",{children:`
            .input-class { background-color: white; color: black; border: 1px solid #d1d5db; border-radius: 0.375rem; padding: 0.5rem 0.75rem; }
            .dark .input-class { background-color: #374151; color: white; border-color: #4b5563; }
            .btn-primary { background-color: #4f46e5; color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; }
            .btn-secondary { background-color: #6b7280; color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; }
        `})]})}):null},VN=({workbooks:i,onDelete:t,onSoftDelete:r,onRestore:o,onEdit:l})=>{const[c,m]=pe.useState("active"),v=i.filter(E=>!E.isDeleted).sort((E,C)=>new Date(C.uploadDate).getTime()-new Date(E.uploadDate).getTime()),b=i.filter(E=>E.isDeleted).sort((E,C)=>new Date(C.uploadDate).getTime()-new Date(E.uploadDate).getTime()),T=E=>{try{const C=atob(E.fileData),M=new Array(C.length);for(let G=0;G<C.length;G++)M[G]=C.charCodeAt(G);const P=new Uint8Array(M),k=new Blob([P],{type:"application/pdf"}),Y=URL.createObjectURL(k);window.open(Y,"_blank")}catch(C){console.error("Error opening PDF",C),alert("No foi possvel abrir o PDF. O arquivo pode estar corrompido.")}},x=E=>new Date(E).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return g.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:[g.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 px-4",children:g.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[g.jsxs("button",{onClick:()=>m("active"),className:`${c==="active"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center`,children:[g.jsx(Dd,{className:"w-4 h-4 mr-2"}),"Apostilas Ativas (",v.length,")"]}),g.jsxs("button",{onClick:()=>m("trash"),className:`${c==="trash"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center`,children:[g.jsx(Qv,{className:"w-4 h-4 mr-2"}),"Lixeira (",b.length,")"]})]})}),g.jsxs("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[(c==="active"?v:b).map(E=>g.jsx("li",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:`flex-shrink-0 h-10 w-10 ${c==="active"?"text-indigo-600":"text-gray-400"}`,children:g.jsx(Dd,{})}),g.jsxs("div",{className:"ml-3",children:[g.jsx("p",{className:`text-sm font-medium ${c==="active"?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400 line-through"}`,children:E.name}),g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Upload em: ",x(E.uploadDate)]})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[c==="active"&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>T(E),className:"p-2 text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-500",title:"Visualizar PDF",children:g.jsx(jd,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>l(E),className:"p-2 text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-500",title:"Editar Nome",children:g.jsx(Fr,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>r(E),className:"p-2 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400",title:"Mover para Lixeira",children:g.jsx(zi,{className:"w-5 h-5"})})]}),c==="trash"&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>o(E),className:"p-2 text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-200",title:"Restaurar",children:g.jsx(Zv,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>t(E),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-200",title:"Excluir Permanentemente",children:g.jsx(zi,{className:"w-5 h-5"})})]})]})]})},E.id)),(c==="active"?v:b).length===0&&g.jsx("li",{className:"p-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:c==="active"?"Nenhuma apostila ativa.":"A lixeira est vazia."})]})]})},zN=({isOpen:i,onClose:t,onSave:r,workbookToEdit:o})=>{const[l,c]=pe.useState(""),[m,v]=pe.useState(null),[b,T]=pe.useState(""),[x,E]=pe.useState(!1),C=5,M=C*1024*1024;pe.useEffect(()=>{if(i){c(o?o.name:""),v(null),T("");const G=document.getElementById("file-upload");G&&(G.value="")}},[i,o]);const P=G=>{var se;const $=(se=G.target.files)==null?void 0:se[0];if($){if($.type!=="application/pdf"){G.target.value="",v(null),T("Por favor, selecione um arquivo PDF.");return}if($.size>M){G.target.value="",v(null),T(`O arquivo  muito grande. O limite  de ${C}MB.`);return}v($),!l&&!o&&c($.name.replace(/\.pdf$/i,"")),T("")}},k=()=>{E(!1),t()},Y=G=>{if(G.preventDefault(),!l.trim()){T("O nome da apostila  obrigatrio.");return}if(!o&&!m){T("Por favor, selecione um arquivo PDF.");return}if(E(!0),m){const $=new FileReader;$.onloadend=()=>{const se=$.result.split(",")[1],Ee={id:o?o.id:xt(),name:l,fileData:se,uploadDate:new Date().toISOString()};r(Ee),k()},$.onerror=()=>{T("Ocorreu um erro ao ler o arquivo."),E(!1)},$.readAsDataURL(m)}else if(o){const $={...o,name:l};r($),k()}};return i?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",onClick:k,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg m-4 flex flex-col",style:{maxHeight:"90vh"},onClick:G=>G.stopPropagation(),children:[g.jsx("div",{className:"p-6 pb-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:o?"Editar Apostila":"Fazer Upload de Apostila"})}),g.jsxs("form",{onSubmit:Y,className:"flex-grow flex flex-col overflow-hidden",children:[g.jsxs("div",{className:"p-6 flex-grow overflow-y-auto space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome da Apostila"}),g.jsx("input",{type:"text",name:"name",id:"name",value:l,onChange:G=>c(G.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm text-black"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Arquivo PDF"}),g.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md",children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:g.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),g.jsxs("div",{className:"flex text-sm text-gray-600 dark:text-gray-400",children:[g.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white dark:bg-gray-800 rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[g.jsx("span",{children:"Selecione um arquivo"}),g.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"application/pdf",onChange:P})]}),g.jsx("p",{className:"pl-1",children:"ou arraste e solte aqui"})]}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["PDF at ",C,"MB ",o&&"(Opcional para substituir o existente)"]})]})}),m&&g.jsxs("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:[o?"Novo arquivo selecionado:":"Arquivo selecionado:"," ",m.name]})]}),b&&g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:b})]}),g.jsxs("div",{className:"p-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancelar"}),g.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-300 disabled:cursor-not-allowed",children:x?"Enviando...":"Salvar"})]})]})]})}):null},GN=({isOpen:i,onClose:t,onConfirm:r,title:o,message:l})=>i?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-center",onClick:t,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md m-4",onClick:c=>c.stopPropagation(),children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100",id:"modal-title",children:o}),g.jsx("div",{className:"mt-2",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:l})})]}),g.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[g.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:col-start-2 sm:text-sm",onClick:()=>{r(),t()},children:"Confirmar"}),g.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:t,children:"Cancelar"})]})]})}):null,HN=({event:i,publishers:t,originalPart:r})=>{const{startTime:o,partTitle:l,publisherName:c,durationText:m,isCounseling:v}=i,T=(E=>{if(!(!E||E==="N/A"||E==="No Designado"))return t.find(C=>C.name===E||Vi(C.name)===Vi(E))})(c),x=r||{id:i.id,publisherName:c,partTitle:l,type:i.sectionType,week:"",date:new Date().toISOString(),duration:parseInt(m.replace(/\D/g,""))||0};return g.jsxs("div",{className:`grid grid-cols-[auto_1fr_auto_auto_auto] gap-x-4 py-2 border-b border-gray-200 dark:border-gray-700 last:border-b-0 items-center ${v?"text-gray-500":""}`,children:[g.jsx("span",{className:"text-sm font-mono",children:o}),g.jsx("span",{className:`text-sm ${v?"italic pl-4":"text-gray-800 dark:text-gray-300"}`,children:l}),g.jsx("div",{className:`text-sm justify-self-end text-right ${v?"":"text-gray-600 dark:text-gray-400"}`,children:g.jsx("span",{children:c})}),g.jsx("div",{className:"w-8 flex justify-center",children:!v&&T&&g.jsx(kd,{participation:x,publisher:T})}),g.jsx("span",{className:"text-gray-400 dark:text-gray-500 w-16 inline-block text-right",children:m})]})},FN=({scheduleData:i,publishers:t,specialEvents:r,eventTemplates:o,onEditWeek:l,onDeleteWeek:c,onOpenPrintableView:m})=>{const v=b=>{const T=rT(b,t,r,o);sy(void 0,T)};return g.jsx("div",{className:"space-y-8",children:i.map(b=>{const T=b.parts.find(M=>M.type===w.PRESIDENTE),x=Tu(b,t,r,o),E=M=>b.parts.find(P=>P.id===M),C=()=>{const M=[];let P=null,k=[];const Y=()=>{if(k.length>0){let G=null;P===w.TESOUROS?G=g.jsx("h4",{className:"font-bold text-lg text-white bg-[#4A5568] dark:bg-blue-900/50 rounded-md px-3 py-1 mb-2",children:"TESOUROS DA PALAVRA DE DEUS"}):P===w.MINISTERIO?G=g.jsx("h4",{className:"font-bold text-lg text-white bg-[#D69E2E] dark:bg-yellow-900/50 rounded-md px-3 py-1 mt-4 mb-2",children:"FAA SEU MELHOR NO MINISTRIO"}):(P===w.VIDA_CRISTA||P===w.DIRIGENTE)&&P===w.VIDA_CRISTA&&(G=g.jsx("h4",{className:"font-bold text-lg text-white bg-[#C53030] dark:bg-red-900/50 rounded-md px-3 py-1 mt-4 mb-2",children:"NOSSA VIDA CRIST"})),M.push(g.jsxs("div",{children:[G,k.map($=>g.jsx(HN,{event:$,publishers:t,originalPart:E($.id)},$.id))]},`block-${M.length}`))}k=[]};return x.forEach(G=>{let $=G.sectionType;$===w.DIRIGENTE&&($=w.VIDA_CRISTA),$!==P&&(Y(),P=$),k.push(G)}),Y(),M};return g.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:qo(b.week)}),T&&g.jsxs("p",{className:"text-md text-gray-600 dark:text-gray-400",children:["Presidente: ",T.publisherName]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{onClick:()=>v(b),className:"p-2 text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-200",title:"Compartilhar Pauta no WhatsApp",children:g.jsx(oy,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>m(b),className:"p-2 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-500",title:"Visualizar/Imprimir",children:g.jsx(jd,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>l(b),className:"p-2 text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-500",title:"Editar Pauta",children:g.jsx(Fr,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>c(b),className:"p-2 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-500",title:"Excluir Pauta",children:g.jsx(zi,{className:"w-5 h-5"})})]})]}),g.jsx("div",{className:"space-y-2",children:C()})]},b.week)})})},JN=({isOpen:i,onClose:t,onSave:r,scheduleToEdit:o,publishers:l,specialEvents:c,eventTemplates:m})=>{const[v,b]=pe.useState([]),[T,x]=pe.useState({});pe.useEffect(()=>{if(o){const M=Tu(o,l,c,m);b(M);const P={};M.forEach(k=>{P[k.id]={publisherName:k.publisherName,partTitle:k.partTitle}}),x(P)}else b([]),x({})},[o,l,c,m]);const E=(M,P)=>{x(k=>({...k,[M]:{...k[M],publisherName:P}}))},C=M=>{if(M.preventDefault(),!o)return;const P=o.parts;let k;const Y=P.map($=>T[$.id]&&T[$.id].publisherName!==$.publisherName?{...$,publisherName:T[$.id].publisherName}:$),G=c.find($=>$.week===o.week);if(G&&T[G.id]){const $=T[G.id];$.publisherName!==G.assignedTo&&(k={...G,assignedTo:$.publisherName})}r({parts:Y,eventToUpdate:k}),t()};return!i||!o?null:g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",onClick:t,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl m-4 flex flex-col",style:{maxHeight:"90vh"},onClick:M=>M.stopPropagation(),children:[g.jsx("div",{className:"p-6 pb-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:g.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:["Editar Pauta - ",o.week]})}),g.jsxs("form",{onSubmit:C,className:"flex-grow flex flex-col overflow-hidden",children:[g.jsx("div",{className:"p-6 flex-grow overflow-y-auto",children:g.jsxs("div",{className:"space-y-4",children:[v.filter(M=>M.sectionType!=="TRANSITION"&&!M.partTitle.toLowerCase().includes("cntico")&&!M.isCounseling).map(M=>{const P=T[M.id]||{publisherName:""},k=c.some(Y=>Y.id===M.id);return g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[g.jsx("label",{htmlFor:`part-${M.id}`,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 truncate",children:M.partTitle}),g.jsx("input",{list:"publisher-list",id:`part-${M.id}`,type:"text",value:P.publisherName,onChange:Y=>E(M.id,Y.target.value),disabled:M.publisherName==="N/A"&&!k,className:"block w-full px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm text-black disabled:bg-gray-200 dark:disabled:bg-gray-700"})]},M.id)}),g.jsx("datalist",{id:"publisher-list",children:l.map(M=>g.jsx("option",{value:M.name},M.id))})]})}),g.jsxs("div",{className:"p-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancelar"}),g.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Salvar Alteraes"})]})]})]})})},jN=({isOpen:i,onClose:t,rules:r,onSave:o,onDelete:l})=>{const[c,m]=pe.useState([]),[v,b]=pe.useState(""),[T,x]=pe.useState(!1),[E,C]=pe.useState(""),[M,P]=pe.useState(!1);pe.useEffect(()=>{i&&(m(JSON.parse(JSON.stringify(r))),C(""),b(""),P(!1))},[i,r]);const k=G=>{const $=r.find(se=>se.id===G);$&&o({...$,isActive:!$.isActive})},Y=async()=>{if(!v.trim()){C("Por favor, digite uma regra.");return}x(!0),C("");try{const G=await UN(v),$={id:xt(),...G,isActive:!0};o($),b("")}catch(G){C(G.message||"Ocorreu um erro desconhecido.")}finally{x(!1)}};return i?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",onClick:t,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl m-4 flex flex-col",style:{maxHeight:"90vh"},onClick:G=>G.stopPropagation(),children:[g.jsx("div",{className:"p-6 pb-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Gerenciador de Regras (IA)"})}),g.jsxs("div",{className:"flex-grow overflow-y-auto p-6",children:[g.jsxs("div",{className:"p-4 border border-dashed border-gray-300 dark:border-gray-600 rounded-lg mb-6",children:[g.jsx("label",{htmlFor:"new-rule-prompt",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Criar nova regra com linguagem natural"}),g.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[g.jsx("input",{type:"text",name:"new-rule-prompt",id:"new-rule-prompt",className:"focus:ring-indigo-600 focus:border-indigo-600 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300 dark:border-gray-600 bg-white text-black placeholder-gray-500",placeholder:"Ex: Apenas irmos com Condio de Ancio podem presidir",value:v,onChange:G=>b(G.target.value),disabled:T}),g.jsxs("button",{type:"button",onClick:Y,disabled:T,className:"-ml-px relative inline-flex items-center space-x-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-r-md text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-indigo-600 focus:border-indigo-600 disabled:opacity-50",children:[g.jsx(mu,{className:"h-5 w-5 text-indigo-600"}),g.jsx("span",{children:T?"Gerando...":"Gerar com IA"})]})]}),E&&g.jsx("p",{className:"mt-2 text-sm text-red-600",children:E}),g.jsxs("div",{className:"mt-3",children:[g.jsxs("button",{onClick:()=>P(!M),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:underline focus:outline-none",children:[M?"Ocultar":"Mostrar"," Dicionrio de Variveis"]}),M&&g.jsx("div",{className:"mt-2 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-md border border-gray-200 dark:border-gray-700 max-h-48 overflow-y-auto",children:g.jsx("ul",{className:"space-y-2",children:Object.entries(Uy).map(([G,{naturalName:$,singleWordName:se,description:Ee}])=>g.jsxs("li",{className:"text-xs",children:[g.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:$}),g.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[Ee," ",g.jsx("br",{}),"(Alternativa de nome nico: ",g.jsx("code",{className:"text-xs bg-gray-200 dark:bg-gray-600 rounded px-1 py-0.5",children:se}),")",g.jsxs("span",{className:"sr-only",children:["Nome tcnico: ",G]})]})]},G))})})]})]}),g.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-800 dark:text-gray-200",children:"Regras Definidas"}),g.jsx("div",{className:"space-y-3",children:r.map(G=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 flex-grow",children:G.description}),g.jsxs("div",{className:"flex items-center space-x-3 ml-4 flex-shrink-0",children:[g.jsxs("label",{htmlFor:`rule-toggle-${G.id}`,className:"inline-flex relative items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:G.isActive,onChange:()=>k(G.id),id:`rule-toggle-${G.id}`,className:"sr-only peer"}),g.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-500 peer-checked:bg-indigo-600"})]}),g.jsx("button",{onClick:()=>l(G.id),className:"text-gray-400 hover:text-red-500",children:g.jsx(zi,{className:"w-5 h-5"})})]})]},G.id))})]}),g.jsx("div",{className:"p-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 flex justify-end",children:g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Fechar"})})]})}):null},YN=({isOpen:i,onClose:t,onGenerate:r,workbooks:o,scheduledWeeks:l,isGenerating:c})=>{const[m,v]=pe.useState(""),[b,T]=pe.useState(""),x=pe.useMemo(()=>[...o].sort((P,k)=>new Date(k.uploadDate).getTime()-new Date(P.uploadDate).getTime()),[o]);pe.useEffect(()=>{i&&x.length>0&&!m&&v(x[0].id)},[i,x,m]);const E=pe.useMemo(()=>{if(!m)return[];const P=o.find(G=>G.id===m);if(!P)return[];const k=Sv(P.name),Y=new Set(l);return k.filter(G=>!Y.has(G.id)&&!Y.has(G.label))},[m,o,l]);pe.useEffect(()=>{E.length>0?E.some(k=>k.id===b)||T(E[0].id):T("")},[E,b]);const C=()=>{const P=o.find(k=>k.id===m);P&&b?r(P,b):alert("Por favor, selecione uma apostila e uma semana.")},M=P=>{try{return new Date(P).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return""}};return i?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",onClick:t,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg m-4 flex flex-col",style:{maxHeight:"90vh"},onClick:P=>P.stopPropagation(),children:[g.jsx("div",{className:"p-6 pb-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Gerar Pauta com IA"})}),g.jsxs("div",{className:"p-6 flex-grow overflow-y-auto space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"workbook-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selecione a Apostila"}),g.jsxs("select",{id:"workbook-select",value:m,onChange:P=>{v(P.target.value),T("")},className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 bg-white text-black focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm rounded-md",children:[g.jsx("option",{value:"",disabled:!0,children:"Escolha uma apostila..."}),x.map(P=>g.jsxs("option",{value:P.id,children:[P.name," ",P.uploadDate?`(${M(P.uploadDate)})`:""]},P.id))]}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dica: A apostila mais recente  selecionada automaticamente."})]}),m&&g.jsxs("div",{children:[g.jsx("label",{htmlFor:"week-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selecione a Semana"}),g.jsx("select",{id:"week-select",value:b,onChange:P=>T(P.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 bg-white text-black focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm rounded-md",children:E.length>0?g.jsxs(g.Fragment,{children:[g.jsxs("option",{value:"ALL",children:["Gerar para todas as semanas disponveis (",E.length,")"]}),E.map(P=>g.jsx("option",{value:P.id,children:P.label},P.id))]}):g.jsx("option",{value:"",disabled:!0,children:"Nenhuma semana disponvel nesta apostila"})})]}),c&&g.jsx("div",{className:"text-center p-4 bg-gray-100 dark:bg-gray-700 rounded-md",children:g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Gerando designaes... Isso pode levar um momento."})})]}),g.jsxs("div",{className:"p-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:t,disabled:c,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-500 focus:outline-none disabled:opacity-50",children:"Cancelar"}),g.jsx("button",{onClick:C,disabled:!m||!b||c,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none disabled:bg-indigo-300 disabled:cursor-not-allowed",children:c?"Processando...":"Gerar"})]})]})}):null},KN=({isOpen:i,onClose:t,onSave:r,results:o,workbookName:l})=>i?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",onClick:t,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl m-4 flex flex-col",style:{maxHeight:"90vh"},onClick:c=>c.stopPropagation(),children:[g.jsxs("div",{className:"p-6 pb-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[g.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:["Sugestes de Pauta para ",l]}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Revise as designaes sugeridas pela IA. Voc pode salv-las ou cancelar."})]}),g.jsx("div",{className:"flex-grow overflow-y-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[g.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 sticky top-0 z-10",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Parte"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Designado(s)"})]})}),g.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:o.map((c,m)=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300",children:c.partTitle}),g.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{children:c.helperName?`${c.studentName} / ${c.helperName}`:c.studentName}),g.jsx("span",{title:c.reason,className:"ml-2 text-gray-400 hover:text-gray-600 cursor-help",children:g.jsx(ry,{className:"h-5 w-5"})})]})})]},m))})]})}),g.jsxs("div",{className:"p-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-500",children:"Cancelar"}),g.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700",children:"Salvar Designaes"})]})]})}):null,ZN=({isOpen:i,onClose:t,specialEvents:r,eventTemplates:o,onSave:l,onDelete:c,onManageTemplates:m})=>{const[v,b]=pe.useState(""),[T,x]=pe.useState(""),[E,C]=pe.useState(""),[M,P]=pe.useState(""),[k,Y]=pe.useState(0),[G,$]=pe.useState({}),[se,Ee]=pe.useState(null),Ce=o.find(ge=>ge.id===v);pe.useEffect(()=>{v&&Ce&&!se&&(x(Ce.defaults.theme||""),Y(Ce.defaults.duration),$({}))},[v,Ce,se]);const De=()=>{b(""),x(""),C(""),P(""),Y(0),$({}),Ee(null)},J=ge=>{Ee(ge.id),b(ge.templateId),x(ge.theme),C(ge.week),P(ge.assignedTo||""),Y(ge.duration||30),$(ge.configuration||{})},Me=async ge=>{if(ge.preventDefault(),!v||!E.trim()){alert("Modelo de Evento e Semana so obrigatrios.");return}if(Ce!=null&&Ce.defaults.requiresAssignee&&!M.trim()){alert("O campo 'Designado'  obrigatrio para este tipo de evento.");return}if(Ce!=null&&Ce.defaults.requiresTheme&&!T.trim()){alert("O campo 'Tema'  obrigatrio para este tipo de evento.");return}const we={id:se||xt(),templateId:v,week:E,theme:T,assignedTo:M,duration:k,configuration:G};await l(we),De()},xe=(ge,we)=>{$(Je=>({...Je,[ge]:we}))},me=(ge,we)=>{xe("timeReduction",{...G.timeReduction,[ge]:we})};return pe.useEffect(()=>{i||De()},[i]),i?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",onClick:t,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl m-4 flex flex-col",style:{maxHeight:"90vh"},onClick:ge=>ge.stopPropagation(),children:[g.jsxs("div",{className:"p-6 pb-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Gerenciar Eventos Especiais"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Crie eventos que ajustam a pauta padro."})]}),g.jsxs("button",{onClick:m,className:"flex items-center text-sm text-indigo-600 hover:underline",title:"Gerenciar Modelos de Evento",children:[g.jsx(ay,{className:"w-5 h-5 mr-1"})," Gerenciar Modelos"]})]}),g.jsxs("div",{className:"flex-grow overflow-y-auto p-6",children:[g.jsxs("form",{onSubmit:Me,className:"p-4 border border-dashed border-gray-300 dark:border-gray-600 rounded-lg mb-6 space-y-4",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:se?"Editando Evento":"Novo Evento"}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Modelo de Evento"}),g.jsxs("select",{value:v,onChange:ge=>b(ge.target.value),required:!0,className:"mt-1 block w-full input-class",children:[g.jsx("option",{value:"",disabled:!0,children:"Selecione um modelo..."}),o.map(ge=>g.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]}),Ce&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-md",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx(ry,{className:"h-5 w-5 text-indigo-400"})}),g.jsx("div",{className:"ml-3",children:g.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-200",children:Ce.description})})]})}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Semana (ex: 1-7 de JAN, 2025)"}),g.jsx("input",{type:"text",value:E,onChange:ge=>C(ge.target.value),required:!0,className:"mt-1 block w-full input-class"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Tema da Parte"}),g.jsx("input",{type:"text",value:T,onChange:ge=>x(ge.target.value),disabled:!Ce.defaults.requiresTheme,required:Ce.defaults.requiresTheme,className:"mt-1 block w-full input-class"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Designado"}),g.jsx("input",{type:"text",value:M,onChange:ge=>P(ge.target.value),disabled:!Ce.defaults.requiresAssignee,required:Ce.defaults.requiresAssignee,className:"mt-1 block w-full input-class"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Durao (minutos)"}),g.jsx("input",{type:"number",value:k,onChange:ge=>Y(parseInt(ge.target.value,10)||0),required:!0,className:"mt-1 block w-full input-class"})]}),g.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:[g.jsx("h4",{className:"text-md font-semibold",children:"Ajustes Adicionais na Pauta"}),g.jsxs("div",{className:"flex items-center mt-2",children:[g.jsx("input",{id:"reduceTime",type:"checkbox",checked:!!G.timeReduction,onChange:ge=>xe("timeReduction",ge.target.checked?{targetType:w.DIRIGENTE,minutes:15}:void 0),className:"h-4 w-4 rounded"}),g.jsx("label",{htmlFor:"reduceTime",className:"ml-2 block text-sm font-medium",children:"Reduzir o tempo de outra parte?"})]}),G.timeReduction&&g.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 pl-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium",children:"Parte a ser Reduzida"}),g.jsxs("select",{value:G.timeReduction.targetType,onChange:ge=>me("targetType",ge.target.value),className:"mt-1 block w-full input-class text-sm",children:[g.jsx("option",{value:w.DIRIGENTE,children:"Estudo Bblico de Congregao"}),g.jsx("option",{value:w.VIDA_CRISTA,children:"Nossa Vida Crist"}),g.jsx("option",{value:w.TESOUROS,children:"Tesouros da Palavra"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium",children:"Minutos a Reduzir"}),g.jsx("input",{type:"number",value:G.timeReduction.minutes,onChange:ge=>me("minutes",parseInt(ge.target.value,10)||0),className:"mt-1 block w-full input-class text-sm"})]})]})]}),g.jsxs("div",{className:"flex justify-end space-x-2",children:[se&&g.jsx("button",{type:"button",onClick:De,className:"btn-secondary",children:"Cancelar Edio"}),g.jsx("button",{type:"submit",className:"btn-primary",children:se?"Atualizar Evento":"Salvar Evento"})]})]})]}),g.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-800 dark:text-gray-200",children:"Eventos Programados"}),g.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:r.length===0?g.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum evento especial criado."}):r.map(ge=>{var we;return g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:((we=o.find(Je=>Je.id===ge.templateId))==null?void 0:we.name)||"Modelo Desconhecido"}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[ge.week," - ",ge.theme]})]}),g.jsxs("div",{className:"flex items-center space-x-3 ml-4 flex-shrink-0",children:[g.jsx("button",{onClick:()=>J(ge),className:"text-sm text-indigo-600 hover:underline",children:"Editar"}),g.jsx("button",{onClick:()=>c(ge.id),className:"text-gray-400 hover:text-red-500",children:g.jsx(zi,{className:"w-5 h-5"})})]})]},ge.id)})})]}),g.jsx("div",{className:"p-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 flex justify-end",children:g.jsx("button",{type:"button",onClick:t,className:"btn-primary",children:"Fechar"})}),g.jsx("style",{children:`
                    .input-class { background-color: white; color: black; border: 1px solid #d1d5db; border-radius: 0.375rem; padding: 0.5rem 0.75rem; font-size: 0.875rem; line-height: 1.25rem; }
                    .dark .input-class { background-color: #374151; color: white; border-color: #4b5563; }
                    .input-class:disabled { background-color: #f3f4f6; opacity: 0.7; }
                    .dark .input-class:disabled { background-color: #4b5563; }
                    .btn-primary { background-color: #4f46e5; color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 500; }
                    .btn-secondary { background-color: #6b7280; color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 500; }
                `})]})}):null},Kg={name:"",description:"",impact:{action:"ADD_PART",targetType:w.VIDA_CRISTA},defaults:{duration:15,requiresTheme:!0,requiresAssignee:!0}},QN=({isOpen:i,onClose:t,templates:r,onSave:o,onDelete:l})=>{const[c,m]=pe.useState(Kg),[v,b]=pe.useState(null);pe.useEffect(()=>{i||T()},[i]);const T=()=>{m(Kg),b(null)},x=P=>{b(P.id),m({name:P.name,description:P.description,impact:P.impact,defaults:P.defaults})},E=async P=>{P.preventDefault();const k={id:v||xt(),...c};await o(k),T()},C=P=>{const{name:k,value:Y}=P.target;m(G=>({...G,impact:{...G.impact,[k]:Y}}))},M=P=>{const{name:k,value:Y,type:G}=P.target,$=G==="checkbox",se=P.target.checked;m(Ee=>({...Ee,defaults:{...Ee.defaults,[k]:$?se:G==="number"?parseInt(Y,10):Y}}))};return i?g.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center",onClick:t,children:[g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl m-4 flex flex-col",style:{maxHeight:"90vh"},onClick:P=>P.stopPropagation(),children:[g.jsx("div",{className:"p-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Gerenciar Modelos de Evento"})}),g.jsxs("div",{className:"flex-grow flex md:flex-row flex-col overflow-hidden",children:[g.jsxs("div",{className:"w-full md:w-1/3 border-r border-gray-200 dark:border-gray-700 overflow-y-auto p-4",children:[g.jsx("h3",{className:"text-lg font-medium mb-3 text-gray-800 dark:text-gray-200",children:"Modelos Existentes"}),g.jsx("div",{className:"space-y-2",children:r.map(P=>g.jsxs("div",{className:`p-3 rounded-md cursor-pointer ${v===P.id?"bg-indigo-100 dark:bg-indigo-900/50":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600"}`,onClick:()=>x(P),children:[g.jsx("p",{className:"font-semibold text-sm text-gray-800 dark:text-gray-200",children:P.name}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:P.description})]},P.id))})]}),g.jsxs("form",{onSubmit:E,className:"w-full md:w-2/3 p-6 space-y-4 overflow-y-auto",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:v?"Editando Modelo":"Novo Modelo"}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Nome do Modelo"}),g.jsx("input",{type:"text",value:c.name,onChange:P=>m(k=>({...k,name:P.target.value})),required:!0,className:"mt-1 block w-full input-class"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Descrio (Exibida no assistente)"}),g.jsx("textarea",{value:c.description,onChange:P=>m(k=>({...k,description:P.target.value})),required:!0,className:"mt-1 block w-full input-class",rows:3})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Impacto Padro na Pauta"}),g.jsxs("select",{name:"action",value:c.impact.action,onChange:C,className:"mt-1 block w-full input-class",children:[g.jsx("option",{value:"ADD_PART",children:"Adicionar Nova Parte"}),g.jsx("option",{value:"REPLACE_PART",children:"Substituir Parte Especfica"}),g.jsx("option",{value:"REPLACE_SECTION",children:"Substituir Seo Inteira"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Parte/Seo Alvo"}),g.jsxs("select",{name:"targetType",value:c.impact.targetType,onChange:C,disabled:c.impact.action==="ADD_PART",className:"mt-1 block w-full input-class disabled:opacity-50",children:[g.jsx("option",{value:w.VIDA_CRISTA,children:"Nossa Vida Crist"}),g.jsx("option",{value:w.DIRIGENTE,children:"Estudo Bblico de Congregao"}),g.jsx("option",{value:w.MINISTERIO,children:"Faa Seu Melhor no Ministrio"}),g.jsx("option",{value:w.TESOUROS,children:"Tesouros da Palavra de Deus"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Durao Padro (min)"}),g.jsx("input",{type:"number",name:"duration",value:c.defaults.duration,onChange:M,className:"mt-1 block w-full input-class"})]}),g.jsxs("div",{className:"space-y-2 pt-5",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",name:"requiresTheme",checked:c.defaults.requiresTheme,onChange:M,className:"h-4 w-4 rounded"}),g.jsx("label",{className:"ml-2 block text-sm",children:"Requer Tema Especfico"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",name:"requiresAssignee",checked:c.defaults.requiresAssignee,onChange:M,className:"h-4 w-4 rounded"}),g.jsx("label",{className:"ml-2 block text-sm",children:"Requer Designado"})]})]})]}),g.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[v&&g.jsxs(g.Fragment,{children:[g.jsx("button",{type:"button",onClick:()=>l(v),className:"btn-danger-outline",children:"Excluir"}),g.jsx("button",{type:"button",onClick:T,className:"btn-secondary",children:"Cancelar Edio"})]}),g.jsx("button",{type:"submit",className:"btn-primary",children:v?"Atualizar Modelo":"Salvar Novo Modelo"})]})]})]}),g.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:g.jsx("button",{type:"button",onClick:t,className:"btn-primary",children:"Fechar"})})]}),g.jsx("style",{children:`
                .input-class {
                    background-color: white;
                    color: black;
                    border: 1px solid #d1d5db;
                    border-radius: 0.375rem;
                    padding: 0.5rem 0.75rem;
                    font-size: 0.875rem;
                    line-height: 1.25rem;
                }
                .dark .input-class {
                    background-color: #374151;
                    color: white;
                    border-color: #4b5563;
                }
                .btn-primary { background-color: #4f46e5; color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 500; }
                .btn-secondary { background-color: #6b7280; color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 500; }
                .btn-danger-outline { border: 1px solid #dc2626; color: #dc2626; padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 500; }
            `})]}):null},XN=({isOpen:i,onClose:t,onImport:r,existingWeeks:o,parsePdf:l})=>{const[c,m]=pe.useState("new"),[v,b]=pe.useState([]),[T,x]=pe.useState(null),[E,C]=pe.useState(!1),[M,P]=pe.useState(""),[k,Y]=pe.useState([]),G=10;pe.useEffect(()=>{i&&$()},[i,c]);const $=async()=>{try{const me=await kv();Y(me.sort((ge,we)=>new Date(we.importDate).getTime()-new Date(ge.importDate).getTime()))}catch(me){console.error("Erro ao carregar importaes salvas:",me)}},se=pe.useMemo(()=>o,[o]),Ee=async me=>{const ge=me.target.files;if(!ge||ge.length===0)return;const we=Array.from(ge),Je=[];let dt=!1;for(const Xe of we){if(Xe.type!=="application/pdf"){P(`O arquivo "${Xe.name}" no  um PDF.`),dt=!0;continue}if(Xe.size>G*1024*1024){P(`O arquivo "${Xe.name}"  muito grande (> ${G}MB).`),dt=!0;continue}Je.push(Xe)}if(!(dt&&Je.length===0)){P(dt?"Alguns arquivos invlidos foram ignorados.":""),b(Je),C(!0),x(null);try{const Xe=[],ie=new Set(o);for(const Se of Je){const nt=(await l(Se)).filter(je=>{const B=!ie.has(je.weekId),ye=!Xe.some(Ie=>Ie.weekId===je.weekId);return B&&ye});Xe.push(...nt)}x(Xe)}catch(Xe){P(Xe instanceof Error?Xe.message:"Falha ao analisar os arquivos."),x(null)}finally{C(!1)}}},Ce=async()=>{if(!T||T.length===0)return;const me=v.map(ge=>ge.name).join(", ");await r(T,me),Me()},De=async me=>{window.confirm(`Deseja recarregar os dados de "${me.fileName}"?`)&&(await r(me.data,void 0),Me())},J=async me=>{window.confirm("Tem certeza que deseja excluir este histrico salvo?")&&(await Fv(me),$())},Me=()=>{b([]),x(null),P(""),C(!1),t()},xe=me=>new Date(me).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return i?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",onClick:Me,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl m-4 flex flex-col",style:{maxHeight:"90vh"},onClick:me=>me.stopPropagation(),children:[g.jsxs("div",{className:"p-6 pb-0 border-b border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Histrico de Pautas"}),g.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Importe mltiplas apostilas antigas de uma vez."})]}),g.jsx("button",{onClick:Me,className:"text-gray-400 hover:text-gray-600",children:""})]}),g.jsxs("div",{className:"flex space-x-4",children:[g.jsx("button",{onClick:()=>m("new"),className:`pb-2 text-sm font-medium border-b-2 ${c==="new"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:"Nova Importao (Lote)"}),g.jsx("button",{onClick:()=>m("saved"),className:`pb-2 text-sm font-medium border-b-2 ${c==="saved"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:"Importaes Salvas"})]})]}),g.jsx("div",{className:"p-6 flex-grow overflow-y-auto",children:c==="new"?g.jsx("div",{className:"space-y-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[g.jsx(Qs,{className:"mx-auto h-10 w-10 text-gray-400"}),g.jsxs("label",{htmlFor:"pdf-upload-multi",className:"mt-2 cursor-pointer block",children:[g.jsx("span",{className:"text-indigo-600 font-medium hover:text-indigo-500",children:"Selecione arquivos PDF"}),g.jsx("input",{id:"pdf-upload-multi",type:"file",accept:"application/pdf",multiple:!0,onChange:Ee,className:"sr-only"}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Voc pode selecionar vrios arquivos."})]})]}),v.length>0&&g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded text-sm",children:[g.jsxs("p",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Arquivos Selecionados (",v.length,"):"]}),g.jsx("ul",{className:"space-y-1 max-h-24 overflow-y-auto",children:v.map((me,ge)=>g.jsxs("li",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center truncate",children:[g.jsx($v,{className:"w-3 h-3 mr-1 flex-shrink-0"})," ",me.name]},ge))})]}),E&&g.jsx("p",{className:"text-sm text-indigo-600 animate-pulse text-center",children:"Analisando arquivos em lote..."}),M&&g.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:M}),T&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("h3",{className:"text-md font-semibold text-green-700 dark:text-green-400 flex items-center",children:[" ",T.length," Semanas Novas Encontradas"]}),T.length>0&&g.jsx("ul",{className:"text-xs bg-green-50 dark:bg-green-900/20 p-2 rounded max-h-32 overflow-y-auto text-gray-600 dark:text-gray-300 border border-green-100 dark:border-green-800",children:T.map(me=>g.jsx("li",{className:"py-0.5 border-b border-green-100 dark:border-green-800 last:border-0",children:me.weekDisplay},me.weekId))})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200",children:"J no Banco de Dados"}),g.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded-md border border-gray-200 dark:border-gray-700 h-full max-h-96 overflow-y-auto",children:se.length>0?g.jsx("ul",{className:"space-y-1",children:se.map(me=>g.jsx("li",{className:"text-xs text-gray-500 dark:text-gray-500",children:me},me))}):g.jsx("p",{className:"text-xs text-gray-500 text-center mt-10",children:"Nenhuma pauta no histrico."})})]})]})}):g.jsx("div",{className:"space-y-4",children:k.length===0?g.jsx("p",{className:"text-center text-gray-500 py-8",children:"Nenhum histrico salvo encontrado."}):g.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:k.map(me=>g.jsxs("li",{className:"py-4 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-700/50 px-2 rounded",children:[g.jsxs("div",{className:"overflow-hidden mr-4",children:[g.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",title:me.fileName,children:me.fileName}),g.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center mt-1",children:[g.jsx(Kv,{className:"w-3 h-3 mr-1"}),xe(me.importDate)]}),g.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[me.data.length," semanas"]})]}),g.jsxs("div",{className:"flex space-x-2 flex-shrink-0",children:[g.jsx("button",{onClick:()=>De(me),className:"px-3 py-1 text-xs font-medium text-white bg-green-600 rounded hover:bg-green-700 shadow-sm",children:"Carregar"}),g.jsx("button",{onClick:()=>J(me.id),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Excluir do histrico",children:g.jsx(zi,{className:"w-4 h-4"})})]})]},me.id))})})}),c==="new"&&g.jsxs("div",{className:"p-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:Me,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-500",children:"Cancelar"}),g.jsxs("button",{onClick:Ce,disabled:!T||T.length===0||E,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md disabled:bg-indigo-300 disabled:cursor-not-allowed flex items-center hover:bg-indigo-700 shadow-sm",children:[g.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Confirmar Importao (",T?T.length:0,")"]})]})]})}):null},_d=({title:i,value:t,icon:r})=>g.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md flex items-center",children:[r&&g.jsx("div",{className:"p-3 rounded-full bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-300 mr-4",children:r}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:i}),g.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t})]})]}),WN=(i,t)=>{const r=new Map(i.map(l=>[l.name,l])),o=new Map;for(const l of t)if(r.has(l.publisherName)){const c=r.get(l.publisherName).id;o.has(c)||o.set(c,[]),o.get(c).push(l)}return i.map(l=>{const c=o.get(l.id)||[],m={publisherId:l.id,publisherName:l.name,totalAssignments:c.length,lastAssignmentDate:null,lastAssignmentWeek:null,lastAssignmentTitle:null,lastAssignmentType:null,avgDaysBetweenAssignments:null};if(c.length>0){const v=[...c].sort((T,x)=>new Date(x.date).getTime()-new Date(T.date).getTime()),b=v[0];if(m.lastAssignmentDate=b.date,m.lastAssignmentWeek=b.week,m.lastAssignmentTitle=b.partTitle,m.lastAssignmentType=b.type,c.length>1){const T=v.map(E=>new Date(E.date).getTime()).reverse(),x=[];for(let E=1;E<T.length;E++){const C=T[E]-T[E-1];C>0&&x.push(C/(1e3*60*60*24))}if(x.length>0){const E=x.reduce((C,M)=>C+M,0);m.avgDaysBetweenAssignments=Math.round(E/x.length)}}}return m})},$N=({publishers:i,participations:t})=>{const[r,o]=pe.useState("lastAssignmentDate"),[l,c]=pe.useState("asc"),[m,v]=pe.useState(""),b=pe.useMemo(()=>WN(i,t),[i,t]),T=pe.useMemo(()=>{const k=i.filter($=>$.isServing).length,Y=t.filter($=>$.type!==w.CANTICO).length,G=k>0?(Y/k).toFixed(1):"0.0";return{activePublishers:k,totalAssignments:Y,avgPartsPerPublisher:G}},[i,t]),x=pe.useMemo(()=>{const k=i.filter(Y=>Y.gender==="brother"&&Y.isServing);return{presidents:k.filter(Y=>Y.privileges.canPreside).length,speakers:k.filter(Y=>Y.privileges.canGiveTalks).length,cbsConducts:k.filter(Y=>Y.privileges.canConductCBS).length,prayers:k.filter(Y=>Y.privileges.canPray).length}},[i]),E=pe.useMemo(()=>b.filter(k=>k.publisherName.toLowerCase().includes(m.toLowerCase())).sort((k,Y)=>{const G=k[r],$=Y[r];let se=0;return G===null?1:$===null?-1:(G>$?se=1:G<$&&(se=-1),l==="asc"?se:-se)}),[b,m,r,l]),C=k=>{r===k?c(Y=>Y==="asc"?"desc":"asc"):(o(k),c(k==="lastAssignmentDate"?"asc":"desc"))},M=k=>{if(!k)return{text:"Nunca",days:1/0,color:"text-red-600"};const Y=new Date,G=new Date(k),$=Math.abs(Y.getTime()-G.getTime()),se=Math.ceil($/(1e3*60*60*24)),Ee=Math.floor(se/7);let Ce="text-gray-600 dark:text-gray-400";se>90?Ce="text-red-600 font-bold":se>30?Ce="text-yellow-600 dark:text-yellow-400":Ce="text-green-600 dark:text-green-400";let De="";return Ee>0?De=`${Ee} sem. atrs`:De=`${se} dias atrs`,{text:De,days:se,color:Ce}},P=k=>r!==k?null:l==="asc"?"":"";return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(_d,{title:"Publicadores Atuantes",value:T.activePublishers,icon:g.jsx(Md,{className:"w-6 h-6"})}),g.jsx(_d,{title:"Total de Designaes",value:T.totalAssignments,icon:g.jsx(Sh,{className:"w-6 h-6"})}),g.jsx(_d,{title:"Mdia de Partes / Pub.",value:T.avgPartsPerPublisher,icon:g.jsx(Sh,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[g.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"Distribuio de Privilgios (Irmos)"}),g.jsxs("ul",{className:"space-y-2 text-sm",children:[g.jsxs("li",{className:"flex justify-between",children:[g.jsx("span",{children:"Podem Presidir:"})," ",g.jsx("span",{className:"font-bold",children:x.presidents})]}),g.jsxs("li",{className:"flex justify-between",children:[g.jsx("span",{children:"Podem Fazer Discursos:"})," ",g.jsx("span",{className:"font-bold",children:x.speakers})]}),g.jsxs("li",{className:"flex justify-between",children:[g.jsx("span",{children:"Podem Dirigir EBC:"})," ",g.jsx("span",{className:"font-bold",children:x.cbsConducts})]}),g.jsxs("li",{className:"flex justify-between",children:[g.jsx("span",{children:"Podem Fazer Orao:"})," ",g.jsx("span",{className:"font-bold",children:x.prayers})]})]})]})}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Anlise de Participao por Publicador"}),g.jsx("input",{type:"search",placeholder:"Buscar publicador...",value:m,onChange:k=>v(k.target.value),className:"mt-2 w-full md:w-1/3 px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-black placeholder-gray-500 focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm"})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[g.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:g.jsxs("tr",{children:[g.jsxs("th",{onClick:()=>C("publisherName"),className:"px-6 py-3 text-left text-xs font-medium uppercase cursor-pointer text-gray-500 dark:text-gray-300",children:["Nome ",P("publisherName")]}),g.jsxs("th",{onClick:()=>C("totalAssignments"),className:"px-6 py-3 text-center text-xs font-medium uppercase cursor-pointer text-gray-500 dark:text-gray-300",children:["Total Partes ",P("totalAssignments")]}),g.jsxs("th",{onClick:()=>C("lastAssignmentDate"),className:"px-6 py-3 text-left text-xs font-medium uppercase cursor-pointer text-gray-500 dark:text-gray-300",children:["ltima Designao ",P("lastAssignmentDate")]}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase text-gray-500 dark:text-gray-300",children:"Detalhes da ltima Parte"})]})}),g.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:E.map(k=>{const Y=M(k.lastAssignmentDate);return g.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:k.publisherName}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600 dark:text-gray-400",children:k.totalAssignments}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[g.jsx("div",{className:Y.color,children:Y.text}),g.jsx("div",{className:"text-xs text-gray-400",children:k.lastAssignmentDate?new Date(k.lastAssignmentDate).toLocaleDateString("pt-BR"):"-"})]}),g.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:k.lastAssignmentTitle?g.jsxs("div",{children:[g.jsx("div",{className:"font-medium truncate max-w-xs",title:k.lastAssignmentTitle,children:k.lastAssignmentTitle}),g.jsx("div",{className:"text-xs inline-block px-2 py-0.5 rounded bg-gray-100 dark:bg-gray-700 mt-1",children:k.lastAssignmentType})]}):g.jsx("span",{className:"text-gray-400 italic",children:"Nenhuma"})})]},k.publisherId)})})]})})]})]})},du=(i,t,r,o,l,c,m=!1,v="lastDate")=>{const b=t?w.AJUDANTE:i.type,T=t?"Ajudante":i.partTitle,x=ta(c),E=x.getTime()!==0?x.toISOString().split("T")[0]:new Date().toISOString().split("T")[0];return r.map(P=>{if(!P.isServing)return{publisher:P,isValid:!1,reason:"No Atuante"};const k=Ks({publisher:P,partType:b,partTitle:T,meetingDate:E},l);return{publisher:P,isValid:k.isValid,reason:k.reason}}).map(P=>{const k=o.filter(G=>Vi(G.publisherName)===Vi(P.publisher.name)&&G.type===b).sort((G,$)=>new Date($.date).getTime()-new Date(G.date).getTime()),Y=k.length>0?new Date(k[0].date).getTime():0;return{...P,lastDate:Y}}).filter(P=>m||P.isValid).sort((P,k)=>{if(v==="name")return P.publisher.name.localeCompare(k.publisher.name);if(P.isValid!==k.isValid)return P.isValid?-1:1;if(b===w.MINISTERIO||b===w.AJUDANTE){const Y=P.publisher.condition==="Publicador",G=k.publisher.condition==="Publicador";if(Y&&!G)return-1;if(!Y&&G)return 1}return P.lastDate===0&&k.lastDate!==0?-1:P.lastDate!==0&&k.lastDate===0?1:P.lastDate-k.lastDate})},Ly=(i,t,r,o,l,c)=>{var x;const m={...t},v=new Set,b=i.find(E=>E.type===w.PRESIDENTE&&E.partTitle==="Presidente");Object.values(m).forEach(E=>{E.studentId&&v.add(E.studentId),E.helperId&&v.add(E.helperId)});let T=b?(x=m[b.id])==null?void 0:x.studentId:void 0;if(b&&!T){const C=du(b,!1,r,o,l,c,!1).filter(M=>M.isValid).find(M=>!v.has(M.publisher.id));C&&(T=C.publisher.id,m[b.id]={...m[b.id],studentId:T},v.add(T))}return i.forEach(E=>{var P,k;if(b&&E.id===b.id)return;let C=(P=m[E.id])==null?void 0:P.studentId,M=(k=m[E.id])==null?void 0:k.helperId;if(C)E.preAssignedTo!=="Presidente"&&v.add(C);else if(E.preAssignedTo==="Presidente")T&&(C=T,m[E.id]={...m[E.id],studentId:C});else if(E.preAssignedTo){const Y=r.find(G=>Vi(G.name)===Vi(E.preAssignedTo));Y&&(C=Y.id,m[E.id]={...m[E.id],studentId:C},v.add(C))}else{const G=du(E,!1,r,o,l,c,!1).filter($=>$.isValid).find($=>!v.has($.publisher.id));G&&(C=G.publisher.id,m[E.id]={...m[E.id],studentId:C},v.add(C))}if(E.requiresHelper&&!M&&C){const Y=du(E,!0,r,o,l,c,!1).filter(se=>se.isValid),G=r.find(se=>se.id===C),$=Y.find(se=>!(v.has(se.publisher.id)||se.publisher.id===C||G&&!Rd(G,se.publisher).isValid));$&&(M=$.publisher.id,m[E.id]={...m[E.id],helperId:M},v.add(M))}}),m};function By(i){const t=[],r=(k,Y)=>i.find(G=>G.type===k&&(!Y||G.partTitle.toLowerCase().includes(Y.toLowerCase()))),o=r(w.PRESIDENTE,"Presidente")||{partTitle:"Presidente",type:w.PRESIDENTE,duration:0,requiresHelper:!1};t.push(o);const l=r(w.ORACAO_INICIAL)||{partTitle:"Orao Inicial",type:w.ORACAO_INICIAL,duration:1,requiresHelper:!1,preAssignedTo:"Presidente"};t.push(l);const c=r(w.PRESIDENTE,"Comentrios Iniciais")||{partTitle:"Comentrios Iniciais",type:w.PRESIDENTE,duration:1,requiresHelper:!1,preAssignedTo:"Presidente"};t.push(c);const m=i.find(k=>k.type===w.TESOUROS&&!k.partTitle.toLowerCase().includes("joias")&&!k.partTitle.toLowerCase().includes("leitura"));m&&t.push(m);const v=r(w.TESOUROS,"Joias");v&&t.push(v);const b=r(w.TESOUROS,"Leitura");b&&t.push(b);const T=i.filter(k=>k.type===w.TESOUROS&&k!==m&&k!==v&&k!==b);t.push(...T);const x=i.filter(k=>k.type===w.MINISTERIO||k.type===w.AJUDANTE);t.push(...x);const E=i.filter(k=>k.type===w.VIDA_CRISTA);t.push(...E);const C=r(w.DIRIGENTE);if(C){t.push(C);const k=r(w.LEITOR)||{partTitle:"Leitor do EBC",type:w.LEITOR,duration:0,requiresHelper:!1};t.push(k)}let M=r(w.COMENTARIOS_FINAIS);if(!M){const k=i.filter(Y=>Y.type===w.PRESIDENTE&&Y.partTitle.toLowerCase().includes("comentrios")&&Y!==c);k.length>0&&(M={...k[k.length-1],partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS})}M?(M.partTitle="Comentrios Finais",M.type=w.COMENTARIOS_FINAIS,M.preAssignedTo="Presidente"):M={partTitle:"Comentrios Finais",type:w.COMENTARIOS_FINAIS,duration:3,requiresHelper:!1,preAssignedTo:"Presidente"},t.push(M);const P=r(w.ORACAO_FINAL)||{partTitle:"Orao Final",type:w.ORACAO_FINAL,duration:1,requiresHelper:!1};return t.push(P),t}let Id=null;function qy(){return Id||(Id=new Oy({apiKey:"AIzaSyA0zAJ8REIP8kTj7-yfFZ2zbO-2eBsWPrU"})),Id}function eC(i,t,r){const o=t.toLowerCase();return o.includes("orao")&&o.includes("inicial")?w.ORACAO_INICIAL:o.includes("orao")&&o.includes("final")?w.ORACAO_FINAL:o.includes("comentrios")&&o.includes("finais")?w.COMENTARIOS_FINAIS:o.includes("comentrios")&&o.includes("iniciais")||o.includes("comentrios")?w.PRESIDENTE:o.includes("leitura da bblia")||o.includes("joias espirituais")?w.TESOUROS:o.includes("estudo bblico")||i==="BIBLE_STUDY"?w.DIRIGENTE:i==="STUDENT_PART"?o.includes("leitura da bblia")?w.TESOUROS:w.MINISTERIO:r}const tC=async(i,t,r,o)=>{var T;let l=[];try{const x=await Vy(i.fileData,o);let E=w.VIDA_CRISTA;const C=x.parts.length;for(let M=0;M<C;M++){const P=x.parts[M],k=P.part.toLowerCase();if(P.type==="SECTION_HEADER"){k.includes("tesouros")?E=w.TESOUROS:k.includes("ministrio")?E=w.MINISTERIO:k.includes("vida crist")&&(E=w.VIDA_CRISTA);continue}if(P.type==="CNTICO"||k.includes("trmino")||k.includes("cntico"))continue;let Y=eC(P.type,P.part,E);k.includes("comentrios")&&!k.includes("iniciais")&&!k.includes("finais")&&(M<3?Y=w.PRESIDENTE:M>C-4&&(Y=w.COMENTARIOS_FINAIS));let G=$g.includes(Y)&&!P.part.toLowerCase().includes("discurso"),$;Y===w.ORACAO_INICIAL&&($="Presidente"),Y===w.COMENTARIOS_FINAIS&&($="Presidente"),Y===w.PRESIDENTE&&k.includes("comentrios")&&($="Presidente"),l.push({partTitle:P.part,type:Y,duration:P.min,requiresHelper:G,preAssignedTo:$});const se=k.includes("leitura da bblia"),Ee=Y===w.MINISTERIO&&!k.includes("discurso");(se||Ee)&&l.push({partTitle:"Aconselhamento",type:w.PRESIDENTE,duration:1,requiresHelper:!1,preAssignedTo:"Presidente"})}}catch(x){console.error(`Falha ao analisar o PDF "${i.name}" para a semana ${o} com IA.`,x)}let m=By(l).map((x,E)=>({id:x.id||`std-part-${E}`,partTitle:x.partTitle,type:x.type,duration:x.duration,requiresHelper:x.requiresHelper,preAssignedTo:x.preAssignedTo}));const v=t.find(x=>x.week===o),b=v?r.find(x=>x.id===v.templateId):null;if(v&&b){const{impact:x}=b;if((T=v.configuration)!=null&&T.timeReduction&&v.configuration.timeReduction.minutes>0){const M=v.configuration.timeReduction.targetType,P=m.findIndex(k=>k.type===M);P!==-1&&(m[P]={...m[P],duration:(m[P].duration||30)-v.configuration.timeReduction.minutes})}const E={id:"special-event",partTitle:v.theme,type:w.VIDA_CRISTA,duration:v.duration,preAssignedTo:v.assignedTo,requiresHelper:!1};if(x.action==="REPLACE_PART"||x.action==="REPLACE_SECTION"){const M=new Set(Array.isArray(x.targetType)?x.targetType:[x.targetType]);m=m.filter(P=>!M.has(P.type))}let C=-1;for(let M=m.length-1;M>=0;M--)if(m[M].type===w.VIDA_CRISTA){C=M;break}if(C!==-1?m.splice(C+1,0,E):m.push(E),b.name.toLowerCase().includes("superintendente")&&E.preAssignedTo){const M=m.findIndex(P=>P.type===w.COMENTARIOS_FINAIS);M!==-1&&(m[M]={...m[M],preAssignedTo:E.preAssignedTo})}}return m.filter(x=>x.duration===void 0||x.duration>0)};async function nC(i,t,r,o,l,c,m){const v=await tC(i,c,m,t);if(v.length===0)throw new Error(`No foram encontradas partes para a semana ${t}.`);const b=Ly(v,{},r,o,l,t),T=[],x=new Map;return r.forEach(E=>x.set(E.id,E)),v.forEach(E=>{var Y;const C=b[E.id];let M="No Designado",P=null,k="Gerado automaticamente";if(E.preAssignedTo==="Presidente"){const G=v.find($=>$.type===w.PRESIDENTE&&$.partTitle==="Presidente");if(G){const $=(Y=b[G.id])==null?void 0:Y.studentId,se=x.get($);M=se?se.name:"Presidente (No definido)"}else M="Presidente"}else if(E.preAssignedTo)M=E.preAssignedTo,k="Pr-designado por evento/regra";else if(C!=null&&C.studentId){const G=x.get(C.studentId);G&&(M=G.name)}if(C!=null&&C.helperId){const G=x.get(C.helperId);G&&(P=G.name)}T.push({partTitle:E.partTitle,studentName:M,helperName:P,reason:k})}),T}const iC={type:Wt.OBJECT,properties:{weeks:{type:Wt.ARRAY,description:"Lista das datas das semanas encontradas no documento (ex: '3-9 DE NOVEMBRO', '10-16 DE NOVEMBRO').",items:{type:Wt.STRING}}},required:["weeks"]};async function aC(i){try{const t=qy(),r="Liste todas as datas de semanas (ex: 3-9 de Novembro) encontradas nesta apostila. Retorne apenas a lista de strings.",o=i.includes(",")?i.split(",")[1]:i,l=await t.models.generateContent({model:"gemini-2.5-flash",contents:[{role:"user",parts:[{text:r},{inlineData:{mimeType:"application/pdf",data:o}}]}],config:{responseMimeType:"application/json",responseSchema:iC}});return JSON.parse(l.text.trim()).weeks||[]}catch(t){throw console.error("Erro ao identificar semanas com IA:",t),new Error("Falha ao ler as semanas do arquivo PDF.")}}const rC={type:Wt.OBJECT,properties:{header:{type:Wt.STRING},parts:{type:Wt.ARRAY,items:{type:Wt.OBJECT,properties:{part:{type:Wt.STRING,description:"O ttulo exato da parte, INCLUINDO A NUMERAO ORIGINAL se houver (ex: '1. Discurso', '2. Joias')."},min:{type:Wt.INTEGER},type:{type:Wt.STRING,description:"Classificao: 'CNTICO', 'SECTION_HEADER', 'DISCOURSE', 'STUDENT_PART', 'CLOSING', 'BIBLE_STUDY'."}},required:["part","min","type"]}}},required:["header","parts"]};async function Vy(i,t){try{const r=qy(),o=t?`Extraia a pauta DETALHADA APENAS para a semana de "${t}" deste documento. Mantenha a ordem original.`:"Extraia a pauta da primeira semana encontrada neste documento.",l=`
            Voc  um analista de pautas. Seu trabalho  extrair a programao de uma nica semana da apostila.
            Siga estas regras de classificao rigorosamente:
            1. Extraia o Cabealho da Semana.
            2. Liste TODAS as partes em ordem cronolgica estrita, conforme aparecem na pgina. NO REORDENE.
            3. **IMPORTANTE: Mantenha a numerao original no incio do ttulo da parte (ex: "1. Discurso", "2. Joias"). No remova os nmeros.**
            4. **Duraes:**
               - CNTICOS: 3 min.
               - Comentrios/Oraes: 1 min.
               - Estudo Bblico de Congregao: 30 min.
               - Outras partes: use o tempo indicado no texto.
            5. **Tipos (Classificao):**
               - 'SECTION_HEADER': Para 'TESOUROS DA PALAVRA DE DEUS', 'FAA SEU MELHOR NO MINISTRIO', 'NOSSA VIDA CRIST', 'ENCERRAMENTO'.
               - 'CNTICO': Para todos os cnticos.
               - 'DISCOURSE': Para discursos de 10 min (Tesouros), 15 min (Vida Crist), Necessidades Locais.
               - 'STUDENT_PART': Para 'Leitura da Bblia' e partes do Ministrio (Iniciando conversas, etc).
               - 'BIBLE_STUDY': Exclusivamente para o 'Estudo bblico de congregao'.
               - 'CLOSING': Para Orao Final e Comentrios Finais.
            6. A resposta deve ser um JSON estruturado.
        `,c=i.includes(",")?i.split(",")[1]:i,m=await r.models.generateContent({model:"gemini-2.5-flash",contents:[{role:"user",parts:[{text:o},{inlineData:{mimeType:"application/pdf",data:c}}]}],config:{responseMimeType:"application/json",responseSchema:rC,systemInstruction:l}});return JSON.parse(m.text.trim())}catch(r){throw console.error("Erro na extrao de PDF via IA:",r),new Error("Falha ao processar o PDF com IA. Verifique se o arquivo  vlido.")}}const Uo=i=>{const{startTime:t,partTitle:r,publisherName:o,durationText:l,isCounseling:c}=i;return`
        <tr style="${c?"color: #718096; font-style: italic;":""}">
            <td style="padding: 8px 4px; border-bottom: 1px solid #e2e8f0; text-align: left; width: 60px;">${t}</td>
            <td style="padding: 8px 4px; border-bottom: 1px solid #e2e8f0; text-align: left; ${c?"padding-left: 16px;":""}">${r}</td>
            <td style="padding: 8px 4px; border-bottom: 1px solid #e2e8f0; text-align: right; color: #4a5568;">
                <span style="margin-right: 16px;">${o}</span>
                <span style="color: #a0aec0; width: 50px; display: inline-block; text-align: right;">${l}</span>
            </td>
        </tr>
    `},zy=(i,t,r,o,l)=>{const c=Tu(i,r,o,l),m=i.parts.find(M=>M.type===w.PRESIDENTE),v=c.filter(M=>M.sectionType==="OPENING"||M.sectionType==="COMMENTS"),b=c.filter(M=>M.sectionType===w.TESOUROS),T=c.filter(M=>M.sectionType==="TRANSITION"),x=c.filter(M=>M.sectionType===w.MINISTERIO),E=c.filter(M=>M.sectionType===w.VIDA_CRISTA||M.sectionType===w.DIRIGENTE),C=c.filter(M=>M.sectionType==="CLOSING");return`
        <!DOCTYPE html>
        <html lang="pt-BR">
        <head>
            <meta charset="UTF-8">
            <title>Pauta - ${i.week}</title>
            <style>
                body { font-family: sans-serif; color: #2d3748; }
                .container { max-width: 800px; margin: auto; background: #fff; padding: 30px; }
                h1, h2 { text-align: center; }
                h3 { color: #fff; padding: 8px 12px; border-radius: 4px; }
                .treasures h3 { background-color: #4A5568; }
                .ministry h3 { background-color: #D69E2E; }
                .life h3 { background-color: #C53030; }
                table { width: 100%; border-collapse: collapse; }
                 @media print { .no-print { display: none; } }
            </style>
        </head>
        <body>
            <div class="container">
                <button class="no-print" onclick="window.print()">Imprimir</button>
                <h1>${t}</h1>
                <h2>Programao da reunio - ${i.week}</h2>
                <p>Presidente: ${m?m.publisherName:"N/D"}</p>
                <table>
                    <tbody>
                        ${v.map(Uo).join("")}
                        ${b.length>0?'<tr><td colspan="3"><div class="treasures"><h3>TESOUROS DA PALAVRA DE DEUS</h3></div></td></tr>':""}
                        ${b.map(Uo).join("")}
                        ${T.map(Uo).join("")}
                        ${x.length>0?'<tr><td colspan="3"><div class="ministry"><h3>FAA SEU MELHOR NO MINISTRIO</h3></div></td></tr>':""}
                        ${x.map(Uo).join("")}
                        ${E.length>0?'<tr><td colspan="3"><div class="life"><h3>NOSSA VIDA CRIST</h3></div></td></tr>':""}
                        ${E.map(Uo).join("")}
                        ${C.map(Uo).join("")}
                    </tbody>
                </table>
            </div>
        </body>
        </html>
    `},oC=({publishers:i,participations:t,rules:r,specialEvents:o,eventTemplates:l,workbooks:c,onSave:m,onEditPublisher:v,initialState:b,onStateChange:T})=>{const[x,E]=pe.useState(!1),[C,M]=pe.useState(!1),[P,k]=pe.useState(""),[Y,G]=pe.useState(null),[$,se]=pe.useState("lastDate"),[Ee,Ce]=pe.useState(!1),[De,J]=pe.useState(!1),[Me,xe]=pe.useState("upload"),me=le=>{T({...b,...le})},{fileBase64:ge,availableWeeks:we,weekLabel:Je,parts:dt,assignments:Xe}=b,ie=le=>{k("");const Ye=new FileReader;Ye.readAsDataURL(le),Ye.onload=()=>{me({file:le,fileBase64:Ye.result,availableWeeks:[],weekLabel:"",parts:[],assignments:{}})}},Se=le=>{const Ye=c.find(ft=>ft.id===le);if(Ye){const ft=`data:application/pdf;base64,${Ye.fileData}`;me({file:null,fileBase64:ft,availableWeeks:[],weekLabel:"",parts:[],assignments:{}})}},Ge=le=>{var ft;const Ye=(ft=le.target.files)==null?void 0:ft[0];Ye&&ie(Ye)},nt=le=>{le.preventDefault(),J(!0)},je=le=>{le.preventDefault(),J(!1)},B=le=>{if(le.preventDefault(),J(!1),le.dataTransfer.files&&le.dataTransfer.files.length>0){const Ye=le.dataTransfer.files[0];Ye.type==="application/pdf"?ie(Ye):k("Por favor, solte apenas arquivos PDF.")}},ye=async()=>{if(!ge){k("Por favor, selecione uma apostila.");return}E(!0),k(""),me({availableWeeks:[]});try{const le=await aC(ge);le.length===0?k("Nenhuma semana identificada."):me({availableWeeks:le})}catch(le){k(`Erro ao analisar PDF: ${le.message}`)}finally{E(!1)}},Ie=async le=>{if(ge){M(!0),k(""),me({weekLabel:"",parts:[],assignments:{}});try{const Ye=await Vy(ge,le),ft=[];let He=w.VIDA_CRISTA;Ye.parts.forEach((st,un)=>{const yt=st.part.toLowerCase();if(st.type==="SECTION_HEADER"){yt.includes("tesouros")?He=w.TESOUROS:yt.includes("ministrio")?He=w.MINISTERIO:yt.includes("vida crist")&&(He=w.VIDA_CRISTA);return}if(st.type==="CNTICO"||yt.includes("trmino")||yt.includes("cntico"))return;let en=He;st.type==="BIBLE_STUDY"||yt.includes("estudo bblico")?en=w.DIRIGENTE:st.type==="CLOSING"?yt.includes("orao")?en=w.ORACAO_FINAL:yt.includes("comentrios")&&(en=w.COMENTARIOS_FINAIS):st.type==="STUDENT_PART"&&(He===w.TESOUROS?en=w.TESOUROS:en=w.MINISTERIO),yt.includes("orao")&&!yt.includes("final")&&un<4&&(en=w.ORACAO_INICIAL);let wn=!1;en===w.MINISTERIO&&!yt.includes("discurso")&&(wn=!0);let Ft;en===w.ORACAO_INICIAL&&(Ft="Presidente"),en===w.COMENTARIOS_FINAIS&&(Ft="Presidente"),ft.push({partTitle:st.part,type:en,duration:st.min,requiresHelper:wn,preAssignedTo:Ft});const Mi=yt.includes("leitura da bblia"),Tn=en===w.MINISTERIO&&!yt.includes("discurso");(Mi||Tn)&&ft.push({partTitle:"Aconselhamento",type:w.PRESIDENTE,duration:1,requiresHelper:!1,preAssignedTo:"Presidente"})});const it=By(ft).map((st,un)=>({id:st.id||`std-man-part-${un}`,partTitle:st.partTitle,type:st.type,duration:st.duration,requiresHelper:st.requiresHelper,preAssignedTo:st.preAssignedTo})),Ht={};it.forEach(st=>{Ht[st.id]={studentId:"",helperId:st.requiresHelper?"":void 0}}),me({weekLabel:Ye.header,parts:it,assignments:Ht})}catch(Ye){console.error(Ye),k(`Erro na gerao da pauta: ${Ye.message}`)}finally{M(!1)}}};pe.useEffect(()=>{var ft;if(dt.length===0)return;const le=dt.find(He=>He.type===w.PRESIDENTE&&He.partTitle==="Presidente"),Ye=le?(ft=Xe[le.id])==null?void 0:ft.studentId:"";if(Ye){let He=!1;const Ct={...Xe};dt.forEach(it=>{var Ht;it.preAssignedTo==="Presidente"&&((Ht=Ct[it.id])==null?void 0:Ht.studentId)!==Ye&&(Ct[it.id]={...Ct[it.id],studentId:Ye},He=!0)}),He&&me({assignments:Ct})}},[Xe,dt]);const qe=(le,Ye)=>du(le,Ye,i,t,r,Je,Ee,$),et=()=>{const le=Ly(dt,Xe,i,t,r,Je);me({assignments:le})},rt=le=>{if(!window.confirm("Tem certeza que deseja remover esta parte da pauta?"))return;const Ye=dt.filter(He=>He.id!==le),ft={...Xe};delete ft[le],me({parts:Ye,assignments:ft})},gt=(le,Ye,ft)=>{const He={...Xe};Object.keys(He).forEach(Ct=>{if(Ct!==le){const it=He[Ct];if(it.studentId===ft){const Ht=dt.find(st=>st.id===Ct);Ht&&Ht.preAssignedTo!=="Presidente"&&(He[Ct]={...it,studentId:""})}it.helperId===ft&&(He[Ct]={...it,helperId:""})}}),He[le]={...He[le],[Ye]:ft},me({assignments:He})},$t=()=>{const le=ta(Je),Ye=le.getTime()!==0?le.toISOString().split("T")[0]:Je,ft=fi(Ye),He=[];dt.forEach(Ht=>{var yt,en;const st=Xe[Ht.id],un=st!=null&&st.studentId?((yt=i.find(wn=>wn.id===st.studentId))==null?void 0:yt.name)||st.studentId:"N/D";if(He.push({id:xt(),week:Ye,date:ft,type:Ht.type,partTitle:Ht.partTitle,publisherName:un,duration:Ht.duration}),Ht.requiresHelper){const wn=st!=null&&st.helperId?((en=i.find(Ft=>Ft.id===st.helperId))==null?void 0:en.name)||"":"N/D";He.push({id:xt(),week:Ye,date:ft,type:w.AJUDANTE,partTitle:"Ajudante",publisherName:wn})}});const it=zy({week:Ye,parts:He},"Parque Jacarape",i,o,l);Wg(it)},Pe=async()=>{for(const Ct of dt){const it=Xe[Ct.id];if(!it.studentId&&Ct.preAssignedTo!=="Presidente"){alert(`Selecione um designado para "${Ct.partTitle}".`);return}if(Ct.requiresHelper&&!it.helperId){alert(`Selecione um ajudante para "${Ct.partTitle}".`);return}}const le=[],Ye=ta(Je),ft=Ye.getTime()!==0?Ye.toISOString().split("T")[0]:Je,He=fi(ft);dt.forEach(Ct=>{var st,un;const it=Xe[Ct.id];if(!it.studentId)return;const Ht=((st=i.find(yt=>yt.id===it.studentId))==null?void 0:st.name)||it.studentId;if(le.push({id:xt(),week:ft,date:He,type:Ct.type,partTitle:Ct.partTitle,publisherName:Ht,duration:Ct.duration}),Ct.requiresHelper&&it.helperId){const yt=((un=i.find(en=>en.id===it.helperId))==null?void 0:un.name)||"";le.push({id:xt(),week:ft,date:He,type:w.AJUDANTE,partTitle:"Ajudante",publisherName:yt})}}),await m(le),me({parts:[],weekLabel:"",assignments:{}})},ei=le=>r.filter(Ye=>Ye.isActive).filter(Ye=>Ye.conditions.some(He=>He.fact==="partType")?Ye.conditions.some(He=>He.fact==="partType"&&(He.operator==="equal"&&He.value===le.type||He.operator==="in"&&Array.isArray(He.value)&&He.value.includes(le.type))):!0),ln=le=>le===0?"Nunca":new Date(le).toLocaleDateString("pt-BR");return g.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 relative",children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-6 flex items-center",children:"Designao Manual Inteligente (PDF)"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 absolute top-7 right-6",children:"Nota: A IA pode cometer erros na extrao. Verifique a pauta gerada."}),!Je&&g.jsxs("div",{className:"mb-8",children:[g.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[g.jsx("button",{className:`py-2 px-4 text-sm font-medium border-b-2 ${Me==="upload"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>xe("upload"),children:"Novo Upload"}),g.jsxs("button",{className:`py-2 px-4 text-sm font-medium border-b-2 ${Me==="library"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>xe("library"),children:["Apostilas Salvas (",c.filter(le=>!le.isDeleted).length,")"]})]}),Me==="upload"&&g.jsxs("div",{className:`p-6 border-2 border-dashed rounded-lg text-center transition-colors ${De?"border-indigo-500 bg-indigo-50":"border-gray-300"}`,onDragOver:nt,onDragLeave:je,onDrop:B,children:[g.jsx(Qs,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"mt-4 flex text-sm justify-center",children:[g.jsxs("label",{htmlFor:"manual-file-upload",className:"relative cursor-pointer font-semibold text-indigo-600 hover:text-indigo-500",children:[g.jsx("span",{children:"Carregar Apostila"}),g.jsx("input",{id:"manual-file-upload",type:"file",className:"sr-only",accept:"application/pdf",onChange:Ge})]}),g.jsx("p",{className:"pl-1",children:"ou arraste e solte"})]})]}),Me==="library"&&g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:c.filter(le=>!le.isDeleted).map(le=>g.jsxs("button",{onClick:()=>Se(le.id),className:"flex items-center p-4 bg-gray-50 border rounded-lg hover:bg-indigo-50 text-left",children:[g.jsx(Dd,{className:"h-8 w-8 text-indigo-500 mr-3"}),g.jsx("div",{children:g.jsx("p",{className:"text-sm font-medium",children:le.name})})]},le.id))}),ge&&we.length===0&&g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{onClick:ye,disabled:x,className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-400",children:x?"Analisando...":"Analisar Semanas"})}),P&&g.jsx("p",{className:"mt-4 text-sm text-red-600 text-center",children:P})]}),we.length>0&&!Je&&g.jsxs("div",{className:"mb-8 text-center",children:[g.jsx("h3",{className:"text-lg font-medium mb-4",children:"Selecione uma Semana"}),C?g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-indigo-600"})}):g.jsx("div",{className:"grid grid-cols-3 gap-3",children:we.map(le=>g.jsx("button",{onClick:()=>Ie(le),className:"px-4 py-3 bg-white border rounded-lg hover:bg-indigo-50",children:le},le))}),g.jsx("button",{onClick:()=>me({availableWeeks:[],file:null,fileBase64:null}),className:"mt-6 text-sm text-gray-500 hover:underline",children:"Voltar"})]}),Je&&dt.length>0&&g.jsxs("div",{className:"space-y-6 border-t pt-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-lg font-medium text-indigo-600",children:Je}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",checked:Ee,onChange:le=>Ce(le.target.checked),className:"h-4 w-4"}),g.jsx("label",{className:"ml-2 text-sm",children:"Mostrar Bloqueados"})]}),g.jsxs("button",{onClick:et,className:"px-3 py-2 border rounded-md text-indigo-700 bg-indigo-100",children:[g.jsx(mu,{className:"h-4 w-4 mr-2"})," Auto-Fill"]}),g.jsx("button",{onClick:()=>me({weekLabel:"",parts:[]}),className:"text-sm text-gray-500 px-3 py-2",children:"Trocar Semana"})]})]}),dt.map(le=>{const Ye=qe(le,!1),ft=le.requiresHelper?qe(le,!0):[],He=Xe[le.id],Ct=le.type===w.TESOUROS?"border-blue-500":le.type===w.MINISTERIO?"border-yellow-500":"border-red-500";return g.jsxs("div",{className:`pl-4 py-2 border-l-4 ${Ct} bg-gray-50 mb-2 rounded-r`,children:[g.jsxs("div",{className:"mb-1 flex justify-between items-center",children:[g.jsx("span",{className:"font-bold text-sm text-gray-900",children:le.partTitle}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs("span",{className:"text-xs text-gray-500",children:["(",le.duration," min)"]}),g.jsx("button",{onClick:()=>G(le),className:"text-gray-400 hover:text-indigo-600",children:g.jsx(jv,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>rt(le.id),className:"text-gray-400 hover:text-red-600",title:"Remover Parte",children:g.jsx(zi,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[g.jsxs("select",{className:"w-full border border-gray-300 rounded-md text-sm font-bold bg-white text-gray-900 shadow-sm focus:ring-indigo-500 focus:border-indigo-500",value:(He==null?void 0:He.studentId)||"",onChange:it=>gt(le.id,"studentId",it.target.value),disabled:!!le.preAssignedTo&&le.partTitle!=="Presidente",children:[g.jsx("option",{value:"",disabled:!0,className:"text-gray-500 font-normal",children:"Selecione..."}),Ye.map(it=>{const Ht=Object.values(Xe).some(un=>un.studentId===it.publisher.id||un.helperId===it.publisher.id)&&(He==null?void 0:He.studentId)!==it.publisher.id,st=it.isValid?Ht?"text-gray-400":"text-gray-900":"text-red-500 italic";return g.jsxs("option",{value:it.publisher.id,className:`bg-white text-gray-900 font-bold ${st}`,children:[it.publisher.name," - ",ln(it.lastDate),it.isValid?Ht?" (J designado)":"":" [Bloqueado]"]},it.publisher.id)})]}),(He==null?void 0:He.studentId)&&v&&g.jsx("button",{onClick:()=>v(i.find(it=>it.id===He.studentId)),children:g.jsx(Fr,{className:"w-4 h-4"})})]}),le.requiresHelper&&g.jsx("div",{className:"flex-1 flex items-center gap-2",children:g.jsxs("select",{className:"w-full border border-gray-300 rounded-md text-sm font-bold bg-white text-gray-900 shadow-sm focus:ring-indigo-500 focus:border-indigo-500",value:(He==null?void 0:He.helperId)||"",onChange:it=>gt(le.id,"helperId",it.target.value),children:[g.jsx("option",{value:"",disabled:!0,className:"text-gray-500 font-normal",children:"Ajudante..."}),ft.map(it=>g.jsx("option",{value:it.publisher.id,className:"bg-white text-gray-900 font-bold",children:it.publisher.name},it.publisher.id))]})})]})]},le.id)}),g.jsxs("div",{className:"flex justify-end pt-4 space-x-4",children:[g.jsxs("button",{onClick:$t,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md shadow hover:bg-gray-200 flex items-center",children:[g.jsx(jd,{className:"w-5 h-5 mr-2"}),"Imprimir (Preview)"]}),g.jsx("button",{onClick:Pe,className:"px-6 py-2 bg-indigo-600 text-white rounded-md shadow",children:"Salvar Pauta"})]})]}),Y&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",onClick:()=>G(null),children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md m-4 p-6",onClick:le=>le.stopPropagation(),children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Critrios de Seleo"}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Regras aplicadas para: ",g.jsx("span",{className:"font-medium text-indigo-600",children:Y.partTitle})]})]}),g.jsx("div",{className:"max-h-64 overflow-y-auto mb-4",children:g.jsxs("ul",{className:"space-y-2",children:[ei(Y).map(le=>g.jsxs("li",{className:"text-sm text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 p-2 rounded",children:[" ",le.description]},le.id)),ei(Y).length===0&&g.jsx("li",{className:"text-sm text-gray-500 italic",children:"Nenhuma regra especfica."})]})}),g.jsx("div",{className:"flex justify-end",children:g.jsx("button",{onClick:()=>G(null),className:"px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700",children:"Fechar"})})]})})]})},sC="JVBERi0xLjcKJcPDgw0KMSAwIG9iago8PC9UeXBlL0NhdGFsb2cvUGFnZXMgMiAwIFI+PgplbmRvYmoKMiAwIG9iago8PC9UeXBlL1BhZ2VzL0NvdW50IDEvS2lkcyBbMyAwIFJdPj4KZW5kb2JqCjMgMCBvYmoKPDwvVHlwZS9QYWdlL1BhcmVudCAyIDAgUi9SZXNvdXJjZXM8PC9Gb250PDwvRjEgNCAwIFI+Pj4+L01lZGlhQm94WzAgMCA1OTUgODQyXS9Db250ZW50cyA1IDAgUj4+CmVuZG9iago0IDAgb2JqCjw8L1R5cGUvRm9udC9TdWJ0eXBlL1R5cGUxL0Jhc2VGb250L0hlbHZldGljYT4+CmVuZG9iago1IDAgb2JqCjw8L0xlbmd0aCA3MT4+CnN0cmVhbQpCVCAvRjEgMTIgVGYgNzIgNzcwIFRkIChBcG9zdGlsYSBkZSBFeGVtcGxvIC0gVmlkYSBlIE1pbmlzdGVyaW8pIFRqIEVUCmVuZHN0cmVhbQplbmRvYmoKeHJlZgowIDYKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDAwMDE5IDAwMDAwIG4gCjAwMDAwMDAwNzQgMDAwMDAwIG4gCjAwMDAwMDAxMjEgMDAwMDAwIG4gCjAwMDAwMDAyNzAgMDAwMDAwIG4gCjAwMDAwMDAzNDEgMDAwMDAwIG4gCnRyYWlsZXIKPDwvU2l6ZSA2L1Jvb3QgMSAwIFI+PgpzdGFydHhyZWYKNDQxCiUlRU9GCg==",lC={file:null,fileBase64:sC,availableWeeks:["4-10 de NOVEMBRO","11-17 de NOVEMBRO","18-24 de NOVEMBRO"],weekLabel:"4-10 de NOVEMBRO",parts:[{id:"part-0",partTitle:"Presidente",type:w.PRESIDENTE,duration:0,requiresHelper:!1},{id:"part-1",partTitle:"Orao Inicial",type:w.ORACAO_INICIAL,duration:1,requiresHelper:!1,preAssignedTo:"Presidente"},{id:"part-2",partTitle:"Tesouros - Discurso",type:w.TESOUROS,duration:10,requiresHelper:!1},{id:"part-3",partTitle:"Joias Espirituais",type:w.TESOUROS,duration:10,requiresHelper:!1},{id:"part-4",partTitle:"Leitura da Bblia",type:w.TESOUROS,duration:4,requiresHelper:!1},{id:"part-5",partTitle:"Iniciando Conversas",type:w.MINISTERIO,duration:3,requiresHelper:!0},{id:"part-6",partTitle:"Cultivando Interesse",type:w.MINISTERIO,duration:4,requiresHelper:!0},{id:"part-7",partTitle:"Estudo Bblico",type:w.DIRIGENTE,duration:30,requiresHelper:!1},{id:"part-8",partTitle:"Leitor do EBC",type:w.LEITOR,duration:0,requiresHelper:!1}],assignments:{"part-0":{studentId:"anc1",helperId:void 0},"part-1":{studentId:"anc1",helperId:void 0},"part-2":{studentId:"anc2",helperId:void 0}}},uC={publishers:ny,rules:iy,manualAssignmentState:lC},cC=({onLoadState:i,currentState:t})=>{const[r,o]=pe.useState(!1),[l,c]=pe.useState(!1),[m,v]=pe.useState(null);pe.useEffect(()=>{if(typeof window<"u"){const C=localStorage.getItem("DEV_AUTO_LOAD")==="true";if(c(C),C){const M=localStorage.getItem("DEV_STATE_SNAPSHOT");if(M)try{console.log("DevTools: Auto-loading state..."),setTimeout(()=>i(JSON.parse(M)),100)}catch(P){console.error("DevTools: Failed to auto-load",P)}}}},[]),pe.useEffect(()=>{if(m){const C=setTimeout(()=>v(null),3e3);return()=>clearTimeout(C)}},[m]);const b=()=>{try{const C={...t,manualAssignmentState:{...t.manualAssignmentState,file:null}},M=JSON.stringify(C);if(M.length>5*1024*1024)throw new Error("Estado muito grande para LocalStorage (>5MB). Remova PDFs grandes.");localStorage.setItem("DEV_STATE_SNAPSHOT",M),console.log("DevTools: Snapshot salvo com sucesso.",C),v({text:"Snapshot salvo com sucesso!",type:"success"})}catch(C){console.error("DevTools: Erro ao salvar snapshot",C),v({text:"Erro ao salvar (ver console)",type:"error"})}},T=()=>{const C=localStorage.getItem("DEV_STATE_SNAPSHOT");if(C)try{i(JSON.parse(C)),v({text:"Snapshot carregado!",type:"success"})}catch{v({text:"Snapshot corrompido",type:"error"})}else v({text:"Nenhum snapshot encontrado",type:"error"})},x=()=>{i(uC),v({text:"Estado de Teste carregado",type:"success"})},E=C=>{c(C),localStorage.setItem("DEV_AUTO_LOAD",String(C)),C&&b()};return g.jsxs("div",{className:"fixed bottom-4 right-4 z-[9999] flex flex-col items-end pointer-events-none",children:[m&&g.jsx("div",{className:`mb-3 px-4 py-2 rounded shadow-lg pointer-events-auto text-sm font-bold transition-opacity duration-300 ${m.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:m.text}),r&&g.jsxs("div",{className:"bg-gray-900 text-white p-4 rounded-lg shadow-2xl pointer-events-auto mb-3 w-64 border border-gray-700",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3",children:[g.jsx("h3",{className:"font-bold text-sm text-yellow-400",children:" DevTools"}),g.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white",children:""})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{onClick:b,className:"w-full text-left text-xs bg-blue-600 hover:bg-blue-700 px-3 py-2 rounded flex items-center justify-between group transition-colors",children:[g.jsx("span",{children:" Salvar Snapshot"}),g.jsx("span",{className:"text-[10px] text-blue-200 group-hover:text-white",children:"LocalStorage"})]}),g.jsxs("button",{onClick:T,className:"w-full text-left text-xs bg-green-600 hover:bg-green-700 px-3 py-2 rounded flex items-center transition-colors",children:[" ",g.jsx("span",{className:"ml-2",children:"Carregar Snapshot"})]}),g.jsxs("button",{onClick:x,className:"w-full text-left text-xs bg-purple-600 hover:bg-purple-700 px-3 py-2 rounded flex items-center transition-colors",children:[" ",g.jsx("span",{className:"ml-2",children:"Carregar Teste (Hardcoded)"})]}),g.jsxs("div",{className:"flex items-center pt-3 border-t border-gray-700 mt-2",children:[g.jsx("input",{type:"checkbox",id:"dev-autoload",checked:l,onChange:C=>E(C.target.checked),className:"h-4 w-4 rounded border-gray-500 bg-gray-700 text-indigo-500 focus:ring-offset-gray-900 cursor-pointer"}),g.jsx("label",{htmlFor:"dev-autoload",className:"ml-2 text-xs text-gray-300 cursor-pointer select-none",children:"Auto-Load ao recarregar (F5)"})]})]})]}),g.jsx("button",{onClick:()=>o(!r),className:`bg-gray-800 hover:bg-gray-700 text-white p-3 rounded-full shadow-lg pointer-events-auto border border-gray-600 transition-transform ${r?"rotate-45":""}`,title:"Ferramentas de Desenvolvedor",children:""})]})},dC=i=>{const t=atob(i.split(",")[1]||i),r=t.length,o=new Uint8Array(r);for(let l=0;l<r;l++)o[l]=t.charCodeAt(l);return o},fC=i=>{const t=[];if(!i.length)return t;let r={y:i[0].transform[5],items:[]};for(const o of i)Math.abs(o.transform[5]-r.y)>5&&(t.push(r.items.sort((l,c)=>l.transform[4]-c.transform[4])),r={y:o.transform[5],items:[]}),r.items.push(o);return t.push(r.items.sort((o,l)=>o.transform[4]-l.transform[4])),t.map(o=>({y:o[0].transform[5],text:o.map(l=>l.str).join("").trim(),items:o}))},Zg=(i,t)=>i.find(r=>r.text.toLowerCase().includes(t.toLowerCase())),Ys=(i,t)=>{const r=i.text.toLowerCase().indexOf(t.toLowerCase());if(r===-1)return null;const o=i.text.substring(r+t.length).trim();return o.startsWith(":")?o.substring(1).trim():o},Hd=(i,t)=>i.items.filter(o=>o.transform[4]>t).map(o=>o.str).join("").trim(),Qg=(i,t,r,o)=>{const l=i.find(c=>c.y<t&&c.y>r&&c.items.some(m=>m.transform[4]>o));return l?Hd(l,o):"No Designado"},pC=async i=>{if(typeof pdfjsLib>"u")throw new Error("A biblioteca pdf.js no est carregada.");const t=new FileReader,r=await new Promise((m,v)=>{t.onload=b=>m(b.target.result),t.onerror=v,t.readAsDataURL(i)}),o=dC(r),l=await pdfjsLib.getDocument({data:o}).promise,c=[];for(let m=1;m<=l.numPages;m++){const b=await(await l.getPage(m)).getTextContent(),x=b.items.map(Y=>Y.str).join(" ").match(/\b(20\d{2})\b/),E=x?parseInt(x[1],10):void 0,C=b.items.sort((Y,G)=>G.transform[5]-Y.transform[5]),M=fC(C);let P=[],k=[];for(const Y of M)Y.text.toUpperCase().startsWith("SEMANA")?(k.length>0&&P.push(k),k=[Y]):k.push(Y);k.length>0&&P.push(k);for(const Y of P){const G=Y[0].text,$=G.match(/SEMANA\s+(.+?)(?:\s*\||$)/i)||G.match(/SEMANA\s+(.+)/i);if(!$)continue;const se=Xg($[1]),Ee=ta(se,E);if(Ee.getTime()===0){console.warn(`Falha ao interpretar data da semana: "${se}" (Contexto Ano: ${E})`);continue}const Ce=Ee.toISOString().split("T")[0],De=qo(Ce),J=[],Me=Zg(Y,"Presidente:"),xe=Me?Ys(Me,"Presidente:"):"No Designado";J.push({partTitle:"Presidente",publisherName:xe});const me=Y.filter(we=>we.text.toLowerCase().includes("orao:"));me.length>0&&(J.push({partTitle:"Orao Inicial",publisherName:Ys(me[0],"Orao:")}),me.length>1&&J.push({partTitle:"Orao Final",publisherName:Ys(me[me.length-1],"Orao:")}));for(const we of Y){const Je=we.text,dt=Je.match(/^\s*(\d+)\.\s*(.*?)\s*\((\d+)\s*min\)/);if(dt){const[,,ie]=dt;let Se=Qg(Y,we.y+5,we.y-5,300);if(ie.toLowerCase().includes("leitura da bblia")&&(Se=Qg(Y,we.y+15,we.y-15,300)),ie.toLowerCase().includes("estudo bblico de congregao")){const Ge=Ys(we,"Dirigente:"),nt=Ys(we,"Leitor:");Ge&&J.push({partTitle:ie,publisherName:Ge}),nt&&J.push({partTitle:"Leitor do EBC",publisherName:nt});continue}J.push({partTitle:ie,publisherName:Se})}const Xe=we.y;if(Je.match(/^\s*(\d+)\./)&&!Je.toLowerCase().includes("estudo bblico")){const ie=Je.match(/^\s*(\d+)\.\s*(.*?)\s*\((\d+)\s*min\)/);if(!ie)continue;const Se=ie[2],Ge=Y.find(je=>je.y<Xe&&je.y>Xe-30&&je.items.some(B=>B.transform[4]>350&&B.transform[4]<480)),nt=Y.find(je=>je.y<Xe&&je.y>Xe-30&&je.items.some(B=>B.transform[4]>480));Ge&&J.push({partTitle:Se,publisherName:Hd(Ge,350)}),nt&&J.push({partTitle:"Ajudante",publisherName:Hd(nt,480)})}}Zg(Y,"Comentrios finais")&&J.push({partTitle:"Comentrios Finais",publisherName:xe}),c.push({weekId:Ce,weekDisplay:De,participations:J.filter(we=>we.publisherName&&we.publisherName!=="No Designado")})}}for(const m of c){const v=new Map;for(const b of m.participations){const T=`${b.partTitle}-${b.publisherName}`;v.has(T)||v.set(T,b)}m.participations=Array.from(v.values())}return c};class mC extends pe.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){var t;return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 text-gray-900 p-8",children:g.jsxs("div",{className:"max-w-2xl",children:[g.jsx("h1",{className:"text-3xl font-bold text-red-600 mb-4",children:"Ops! Ocorreu um erro."}),g.jsx("p",{className:"mb-4 text-gray-700",children:"O aplicativo encontrou um problema inesperado."}),g.jsx("div",{className:"bg-white p-4 rounded border border-gray-300 font-mono text-xs mb-6 overflow-auto max-h-64",children:((t=this.state.error)==null?void 0:t.message)||"Erro desconhecido"}),g.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition-colors",children:"Recarregar Aplicativo"})]})}):this.props.children}}const hC=()=>{const[i,t]=pe.useState("Pauta"),[r,o]=pe.useState([]),[l,c]=pe.useState([]),[m,v]=pe.useState([]),[b,T]=pe.useState([]),[x,E]=pe.useState([]),[C,M]=pe.useState([]),[P,k]=pe.useState(!0),[Y,G]=pe.useState(!1),[$,se]=pe.useState(null),[Ee,Ce]=pe.useState("light"),[De,J]=pe.useState({file:null,fileBase64:null,availableWeeks:[],weekLabel:"",parts:[],assignments:{}}),[Me,xe]=pe.useState(!1),[me,ge]=pe.useState(null),[we,Je]=pe.useState(!1),[dt,Xe]=pe.useState(null),[ie,Se]=pe.useState(!1),[Ge,nt]=pe.useState(null),[je,B]=pe.useState(!1),[ye,Ie]=pe.useState(!1),[qe,et]=pe.useState(null),[rt,gt]=pe.useState(null),[$t,Pe]=pe.useState(""),[ei,ln]=pe.useState(!1),[le,Ye]=pe.useState(null),[ft,He]=pe.useState(!1),[Ct,it]=pe.useState(null),[Ht,st]=pe.useState(!1),[un,yt]=pe.useState(!1),[en,wn]=pe.useState(!1),[Ft,Mi]=pe.useState(""),[Tn,pi]=pe.useState("name"),[ti,na]=pe.useState(""),[Di,Ua]=pe.useState("Todas as Semanas"),[ni,mi]=pe.useState("desc"),[rn,bn]=pe.useState("Todas as Semanas"),[Be,ia]=pe.useState(""),Lt=pe.useCallback(async()=>{k(!0);try{await Cv();const K=await yh();o(K.publishers),c(K.participations),v(K.workbooks.sort((Le,ct)=>new Date(ct.uploadDate).getTime()-new Date(Le.uploadDate).getTime())),T(K.rules),E(K.specialEvents),M(K.eventTemplates)}catch(K){console.error("Erro fatal ao carregar dados:",K)}finally{k(!1)}},[]);pe.useEffect(()=>{navigator.storage&&navigator.storage.persist&&navigator.storage.persist().then(K=>{console.log(K?"Armazenamento persistente concedido":"Armazenamento persistente no concedido")}),Lt()},[Lt]),pe.useEffect(()=>{const K=localStorage.getItem("theme");Ce(K||"light")},[]),pe.useEffect(()=>{const K=window.document.documentElement;Ee==="dark"?K.classList.add("dark"):K.classList.remove("dark"),localStorage.setItem("theme",Ee)},[Ee]);const La=()=>{Ce(K=>K==="light"?"dark":"light")},Oe=K=>{K.publishers&&o(K.publishers),K.participations&&c(K.participations),K.rules&&T(K.rules),K.specialEvents&&E(K.specialEvents),K.eventTemplates&&M(K.eventTemplates),K.workbooks&&v(K.workbooks),K.manualAssignmentState&&(J(K.manualAssignmentState),t("Designao Manual"))},Vn=pe.useMemo(()=>{const K={};return l.forEach(Le=>{K[Le.week]||(K[Le.week]=[]),K[Le.week].push(Le)}),Object.keys(K).map(Le=>({week:Le,parts:K[Le]})).sort((Le,ct)=>ta(ct.week).getTime()-ta(Le.week).getTime())},[l]),Hi=pe.useMemo(()=>Vn.map(K=>K.week),[Vn]),ii=pe.useMemo(()=>r.filter(K=>K.name.toLowerCase().includes(Ft.toLowerCase())).sort((K,Le)=>K[Tn]<Le[Tn]?-1:K[Tn]>Le[Tn]?1:0),[r,Ft,Tn]),aa=pe.useMemo(()=>["Todas as Semanas",...Array.from(new Set(l.map(K=>K.week))).sort((K,Le)=>ta(Le).getTime()-ta(K).getTime())],[l]),ki=pe.useMemo(()=>l.filter(K=>(K.publisherName.toLowerCase().includes(ti.toLowerCase())||K.partTitle.toLowerCase().includes(ti.toLowerCase()))&&(Di==="Todas as Semanas"||K.week===Di)).sort((K,Le)=>ni==="desc"?new Date(Le.date).getTime()-new Date(K.date).getTime():new Date(K.date).getTime()-new Date(Le.date).getTime()),[l,ti,Di,ni]),jo=pe.useMemo(()=>["Todas as Semanas",...Vn.map(K=>K.week)],[Vn]),jr=pe.useMemo(()=>Vn.filter(K=>(rn==="Todas as Semanas"||K.week===rn)&&(!Be||K.parts.some(Le=>Le.publisherName.toLowerCase().includes(Be.toLowerCase())))),[Vn,rn,Be]),hi=async K=>{await vh(K),Lt()},jn=K=>{Ye(K),ln(!0)},yr=async K=>{await Promise.all(K.map(Le=>Sd(Le))),Lt()},ra=K=>{Ye(K),ln(!0)},Pt=async K=>{await Ed(K),Lt()},tn=K=>{Ye(K),ln(!0)},vr=async K=>{await Bv(K.id),Lt()},Fi=async K=>{await qv(K.id),Lt()},oa=async K=>{await Th(K),Lt()},sa=K=>{const Le=b.find(ct=>ct.id===K);Le&&(Ye(Le),ln(!0))},gi=async K=>{try{await Ad(K),await Lt()}catch(Le){console.error("Failed to save special event:",Le),alert("Erro ao salvar o evento especial.")}},Bt=K=>{const Le=x.find(ct=>ct.id===K);Le&&(Ye(Le),ln(!0))},nn=async K=>{await bh(K),Lt()},Rn=K=>{const Le=C.find(ct=>ct.id===K);Le&&(Ye(Le),ln(!0))},Ji=K=>{it(K),He(!0)},Yo=async({parts:K,eventToUpdate:Le})=>{await Promise.all(K.map(ct=>Sd(ct))),Le&&await Ad(Le),Lt()},yi=K=>{Ye({type:"week",week:K.week}),ln(!0)},Tr=async(K,Le)=>{const ct=[],Ke=x.find(lt=>lt.week===Le),En=Ke?C.find(lt=>lt.id===Ke.templateId):null;for(const lt of K){if(lt.partTitle.toLowerCase().includes("cntico")||!lt.studentName||En&&lt.partTitle===Ke.theme)continue;const vt=gh(lt.partTitle);ct.push({id:xt(),publisherName:lt.studentName,week:Le,partTitle:lt.partTitle,type:vt,date:fi(Le)}),lt.helperName&&ct.push({id:xt(),publisherName:lt.helperName,week:Le,partTitle:"Ajudante",type:w.AJUDANTE,date:fi(Le)})}Ke&&En&&ct.push({id:xt(),publisherName:Ke.assignedTo,week:Le,partTitle:Ke.theme,type:w.VIDA_CRISTA,date:fi(Le),duration:Ke.duration}),await Promise.all(ct.map(lt=>Sd(lt)))},zn=async(K,Le)=>{if(Ie(!1),Le==="ALL")alert("Gerao em lote no disponvel no momento.");else{G(!0);try{const ct=await nC(K,Le,r,l,b,x,C);et(ct),gt(K),Pe(Le)}catch(ct){alert(`Erro ao gerar pauta: ${ct instanceof Error?ct.message:String(ct)}`)}finally{G(!1)}}},Ba=async()=>{!qe||!$t||(await Tr(qe,$t),et(null),gt(null),Pe(""),await Lt())},vi=async K=>{await su(K),alert("Pauta manual salva com sucesso!"),await Lt(),J({file:null,fileBase64:null,availableWeeks:[],weekLabel:"",parts:[],assignments:{}}),t("Pauta")},kt=async(K,Le,ct)=>{try{if(Le&&ct){const lt={id:xt(),name:Le.replace(".pdf",""),fileData:ct,uploadDate:new Date().toISOString()};await Ed(lt);const vt={id:xt(),fileName:Le,importDate:new Date().toISOString(),data:K};await Hv(vt)}const Ke=[],En=new Map;for(const lt of r)if(En.set(Vi(lt.name),lt),lt.aliases)for(const vt of lt.aliases)En.set(Vi(vt),lt);for(const lt of K){const vt=lt.weekId;for(const Rt of lt.participations){if(!Rt.publisherName||!Rt.partTitle)continue;const Mn=Vi(Rt.publisherName),ji=En.get(Mn);ji||console.warn(`Publicador "${Rt.publisherName}" (normalizado: ${Mn}) da semana ${vt} no encontrado no banco atual. Importando como texto livre.`);const br=ji?ji.name:Rt.publisherName;Ke.push({id:xt(),publisherName:br,week:vt,partTitle:Rt.partTitle,type:gh(Rt.partTitle),date:fi(vt)})}}Ke.length>0?(await su(Ke),alert(`${Ke.length} novas designaes importadas com sucesso!`),await Lt()):Le?(await Lt(),alert("Apostila e histrico de importao salvos com sucesso.")):alert("Nenhuma nova designao vlida para importar.")}catch(Ke){console.error("Erro durante a importao:",Ke),alert("Ocorreu um erro ao salvar os dados importados. Por favor, tente novamente.")}},Gn=()=>{const K=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),Le=document.createElement("a");Le.href=URL.createObjectURL(K),Le.download=`historico_participacoes_${new Date().toISOString().split("T")[0]}.json`,Le.click(),URL.revokeObjectURL(Le.href)},Sn=K=>{var Ke;const Le=(Ke=K.target.files)==null?void 0:Ke[0];if(!Le)return;const ct=new FileReader;ct.onload=async En=>{var lt;try{const vt=(lt=En.target)==null?void 0:lt.result;if(typeof vt!="string")throw new Error("Contedo invlido.");const Rt=JSON.parse(vt);if(!Array.isArray(Rt))throw new Error("Formato invlido. Esperado um array de participaes.");window.confirm(`Importar ${Rt.length} participaes? Isso ir mesclar com o histrico existente.`)&&(await su(Rt),alert("Participaes importadas com sucesso!"),Lt())}catch(vt){alert(`Erro ao importar: ${vt.message}`)}finally{K.target.value=""}},ct.readAsText(Le)},an=async()=>{if(le){try{typeof le=="object"&&"type"in le&&le.type==="week"?await Uv(le.week):"privileges"in le?await Pv(le.id):"partTitle"in le?await Ov(le.id):"fileData"in le?await Lv(le.id):"conditions"in le?await Vv(le.id):"templateId"in le?await zv(le.id):"impact"in le&&await Gv(le.id)}catch(K){console.error("Failed to delete item:",K),alert("Erro ao excluir o item.")}Ye(null),ln(!1),Lt()}},Pi=K=>{if(!K)return"";if(typeof K=="object"&&"type"in K&&K.type==="week")return`a pauta completa da semana "${qo(K.week)}"`;if("partTitle"in K)return`a participao "${K.partTitle}" de ${K.publisherName}`;if("conditions"in K)return`a regra "${K.description}"`;if("templateId"in K){const Le=C.find(ct=>ct.id===K.templateId);return`o evento "${Le==null?void 0:Le.name}" da semana ${K.week}`}return"impact"in K?`o modelo de evento "${K.name}"`:"fileData"in K?`a apostila "${K.name}" permanentemente`:"name"in K?`o item "${K.name}"`:"este item"},la=K=>Wg(zy(K,"Parque Jacarape",r,x,C)),ai=async()=>{const K=await yh(),Le=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),ct=document.createElement("a");ct.href=URL.createObjectURL(Le),ct.download=`designacoes_rvm_backup_${new Date().toISOString().split("T")[0]}.json`,ct.click(),URL.revokeObjectURL(ct.href)},Ti=K=>{var Ke;const Le=(Ke=K.target.files)==null?void 0:Ke[0];if(!Le)return;const ct=new FileReader;ct.onload=async En=>{var lt;try{const vt=(lt=En.target)==null?void 0:lt.result;if(typeof vt!="string")throw new Error("Falha ao ler o arquivo. O contedo no  uma string de texto.");const Rt=JSON.parse(vt);if(!Rt.publishers||!Rt.participations||!Rt.workbooks)throw new Error("Arquivo de backup invlido.");window.confirm("Isso substituir TODOS os dados existentes. Tem certeza?")&&(await Jv(),await Promise.all([...Rt.publishers.map(Mn=>vh(Mn)),su(Rt.participations),...Rt.workbooks.map(Mn=>Ed(Mn)),...(Rt.rules||[]).map(Mn=>Th(Mn)),...(Rt.eventTemplates||[]).map(Mn=>bh(Mn)),...(Rt.specialEvents||[]).map(Mn=>Ad(Mn))]),alert("Dados importados com sucesso!"),Lt())}catch(vt){alert(`Erro ao importar dados: ${vt.message}`)}finally{K.target.value=""}},ct.readAsText(Le)},Oi=()=>{switch(i){case"Pauta":return g.jsx(FN,{scheduleData:jr,publishers:r,specialEvents:x,eventTemplates:C,onEditWeek:Ji,onDeleteWeek:yi,onOpenPrintableView:la});case"Designao Manual":return g.jsx(oC,{publishers:r,participations:l,rules:b,specialEvents:x,eventTemplates:C,workbooks:m,onSave:vi,onEditPublisher:K=>{ge(K),xe(!0)},initialState:De,onStateChange:J});case"Participaes":return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-end space-x-2",children:[g.jsxs("button",{onClick:Gn,className:"flex items-center px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-sm font-medium",children:[g.jsx(xh,{className:"w-4 h-4 mr-2"})," Exportar JSON"]}),g.jsxs("label",{className:"flex items-center px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-sm font-medium cursor-pointer",children:[g.jsx(Qs,{className:"w-4 h-4 mr-2"})," Importar JSON",g.jsx("input",{type:"file",accept:".json",onChange:Sn,className:"hidden"})]})]}),g.jsx(oT,{participations:ki,publishers:r,onEdit:K=>{Xe(K),Je(!0)},onDelete:ra})]});case"Publicadores":return g.jsx(eT,{publishers:ii,onEdit:K=>{ge(K),xe(!0)},onDelete:jn});case"Apostilas":return g.jsx(VN,{workbooks:m,onEdit:K=>{nt(K),Se(!0)},onDelete:tn,onSoftDelete:vr,onRestore:Fi});case"Estatsticas":return g.jsx($N,{publishers:r,participations:l});default:return null}};return P?g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("div",{className:"text-xl text-gray-500",children:"Carregando banco de dados..."})}):g.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 relative",children:[g.jsx(cC,{onLoadState:Oe,currentState:{publishers:r,rules:b,participations:l,workbooks:m,specialEvents:x,eventTemplates:C,manualAssignmentState:De}}),g.jsxs("div",{className:"sticky top-0 z-30 bg-gray-100 dark:bg-gray-900 shadow-md",children:[g.jsx("header",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex justify-between items-center py-4",children:[g.jsx("h1",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:"Designaes na RVM"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{onClick:La,className:"p-2 text-gray-500 hover:text-yellow-500 dark:hover:text-yellow-300 transition-colors",title:"Alternar Tema",children:Ee==="light"?g.jsx(Wv,{className:"w-6 h-6"}):g.jsx(Xv,{className:"w-6 h-6"})}),g.jsx("input",{type:"file",id:"import-file",className:"hidden",accept:".json",onChange:Ti}),g.jsx("button",{onClick:()=>{var K;return(K=document.getElementById("import-file"))==null?void 0:K.click()},className:"p-2 text-gray-500 hover:text-indigo-600 dark:hover:text-indigo-400",title:"Importar Backup",children:g.jsx(Qs,{className:"w-6 h-6"})}),g.jsx("button",{onClick:ai,className:"p-2 text-gray-500 hover:text-indigo-600 dark:hover:text-indigo-400",title:"Exportar Backup",children:g.jsx(xh,{className:"w-6 h-6"})}),g.jsx("button",{onClick:()=>B(!0),className:"p-2 text-gray-500 hover:text-indigo-600 dark:hover:text-indigo-400",title:"Gerenciar Regras",children:g.jsx(mu,{className:"w-6 h-6"})}),g.jsx("button",{onClick:()=>st(!0),className:"p-2 text-gray-500 hover:text-indigo-600 dark:hover:text-indigo-400",title:"Gerenciar Eventos",children:g.jsx(ay,{className:"w-6 h-6"})})]})]})}),g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:g.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto",children:["Pauta","Designao Manual","Participaes","Publicadores","Apostilas","Estatsticas"].map(K=>g.jsxs("button",{onClick:()=>t(K),className:`${i===K?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm flex items-center gap-1`,children:[K==="Designao Manual"&&g.jsx(Yv,{className:"w-4 h-4"}),K]},K))})})}),g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[g.jsxs("div",{className:"w-full md:w-auto flex-grow",children:[$?g.jsx("div",{className:"text-sm text-indigo-600 animate-pulse",children:$}):i==="Pauta"&&g.jsxs("div",{className:"flex flex-wrap gap-4",children:[g.jsx("select",{value:rn,onChange:K=>bn(K.target.value),className:"px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-black focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm",children:jo.map(K=>g.jsx("option",{value:K,children:qo(K)},K))}),g.jsx("input",{type:"search",placeholder:"Buscar por participante...",value:Be,onChange:K=>ia(K.target.value),className:"w-full md:w-64 px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-black placeholder-gray-500 focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm"})]}),i==="Publicadores"&&g.jsxs("div",{className:"flex gap-4",children:[g.jsx("input",{type:"search",placeholder:"Buscar por nome...",value:Ft,onChange:K=>Mi(K.target.value),className:"w-full md:w-64 px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-black placeholder-gray-500 focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm"}),g.jsxs("select",{value:Tn,onChange:K=>pi(K.target.value),className:"px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-black focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm",children:[g.jsx("option",{value:"name",children:"Ordenar por Nome"}),g.jsx("option",{value:"condition",children:"Ordenar por Condio"})]})]}),i==="Participaes"&&g.jsxs("div",{className:"flex flex-wrap gap-4",children:[g.jsx("input",{type:"search",placeholder:"Buscar por nome ou parte...",value:ti,onChange:K=>na(K.target.value),className:"w-full md:w-64 px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-black placeholder-gray-500 focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm"}),g.jsx("select",{value:Di,onChange:K=>Ua(K.target.value),className:"px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-black focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm",children:aa.map(K=>g.jsx("option",{value:K,children:qo(K)},K))}),g.jsxs("select",{value:ni,onChange:K=>mi(K.target.value),className:"px-3 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-black focus:outline-none focus:ring-indigo-600 focus:border-indigo-600 sm:text-sm",children:[g.jsx("option",{value:"desc",children:"Mais Recentes"}),g.jsx("option",{value:"asc",children:"Mais Antigas"})]})]})]}),g.jsxs("div",{className:"flex-shrink-0 flex space-x-2",children:[i==="Pauta"&&g.jsxs("button",{onClick:()=>Ie(!0),className:"btn-primary flex items-center",children:[g.jsx(mu,{className:"w-5 h-5 mr-2"}),"Gerar Pauta com IA"]}),i==="Participaes"&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>wn(!0),className:"btn-primary",children:"Importar Histrico"}),g.jsx("button",{onClick:()=>{Xe(null),Je(!0)},className:"btn-primary",children:"Adicionar Designao"})]}),i==="Publicadores"&&g.jsx("button",{onClick:()=>{ge(null),xe(!0)},className:"btn-primary",children:"Adicionar Publicador"}),i==="Apostilas"&&g.jsx("button",{onClick:()=>{nt(null),Se(!0)},className:"btn-primary",children:"Adicionar Apostila"})]})]})})]}),g.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:Oi()}),g.jsx(tT,{isOpen:Me,onClose:()=>xe(!1),onSave:hi,publisherToEdit:me,publishers:r}),g.jsx(qN,{isOpen:we,onClose:()=>Je(!1),onSave:yr,participationToEdit:dt,publishers:r,rules:b,specialEvents:x,eventTemplates:C}),g.jsx(zN,{isOpen:ie,onClose:()=>Se(!1),onSave:Pt,workbookToEdit:Ge}),g.jsx(jN,{isOpen:je,onClose:()=>B(!1),rules:b,onSave:oa,onDelete:sa}),g.jsx(YN,{isOpen:ye,onClose:()=>Ie(!1),onGenerate:zn,workbooks:m,scheduledWeeks:Hi,isGenerating:Y}),qe&&g.jsx(KN,{isOpen:!!qe,onClose:()=>et(null),onSave:Ba,results:qe,workbookName:$t}),g.jsx(GN,{isOpen:ei,onClose:()=>ln(!1),onConfirm:an,title:"Confirmar Excluso",message:`Voc tem certeza que deseja excluir ${Pi(le)}? Esta ao no pode ser desfeita.`}),g.jsx(JN,{isOpen:ft,onClose:()=>He(!1),onSave:Yo,scheduleToEdit:Ct,publishers:r,specialEvents:x,eventTemplates:C}),g.jsx(ZN,{isOpen:Ht,onClose:()=>st(!1),specialEvents:x,eventTemplates:C,onSave:gi,onDelete:Bt,onManageTemplates:()=>yt(!0)}),g.jsx(QN,{isOpen:un,onClose:()=>yt(!1),templates:C,onSave:nn,onDelete:Rn}),g.jsx(XN,{isOpen:en,onClose:()=>wn(!1),onImport:kt,existingWeeks:Hi,parsePdf:pC})]})},gC=()=>g.jsx(mC,{children:g.jsx(hC,{})}),Gy=document.getElementById("root");if(!Gy)throw new Error("Could not finder root element to mount to");const yC=yv.createRoot(Gy);yC.render(g.jsx(uv.StrictMode,{children:g.jsx(gC,{})}));
